!function(t){var n={};function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=231)}([function(t,n,e){var i=e(2),r=e(23),u=e(14),o=e(15),a=e(24),c=function(t,n,e){var s,f,h,l,v=t&c.F,y=t&c.G,d=t&c.S,b=t&c.P,w=t&c.B,p=y?i:d?i[n]||(i[n]={}):(i[n]||{}).prototype,k=y?r:r[n]||(r[n]={}),m=k.prototype||(k.prototype={});for(s in y&&(e=n),e)h=((f=!v&&p&&void 0!==p[s])?p:e)[s],l=w&&f?a(h,i):b&&"function"==typeof h?a(Function.call,h):h,p&&o(p,s,h,t&c.U),k[s]!=h&&u(k,s,l),b&&m[s]!=h&&(m[s]=h)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,e){var i=e(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){var i=e(76)("wks"),r=e(49),u=e(2).Symbol,o="function"==typeof u;(t.exports=function(t){return i[t]||(i[t]=o&&u[t]||(o?u:r)("Symbol."+t))}).store=i},function(t,n,e){t.exports=!e(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var i=e(1),r=e(146),u=e(32),o=Object.defineProperty;n.f=e(6)?Object.defineProperty:function(t,n,e){if(i(t),n=u(n,!0),i(e),r)try{return o(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var i=e(34),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=e(17),o=h(e(91)),a=h(e(92)),c=h(e(44)),s=h(e(58)),f=e(47);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,3)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return f.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"setValue",value:function(t,n,e){this[0]=t,this[1]=n,this[2]=e}},{key:"add",value:function(t){return r.vec3.add(new n,this,t)}},{key:"angle",value:function(t){return window.assert(t instanceof n),r.vec3.angle(this,t)}},{key:"ceil",value:function(){return r.vec3.ceil(new n,this)}},{key:"cross",value:function(t){return window.assert(t instanceof n),r.vec3.cross(new n,this,t)}},{key:"distanceTo",value:function(t){return window.assert(t instanceof n),r.vec3.distance(this,t)}},{key:"divide",value:function(t){return window.assert(t instanceof n),r.vec3.divide(new n,this,t)}},{key:"dot",value:function(t){return window.assert(t instanceof n),r.vec3.dot(this,t)}},{key:"floor",value:function(){return r.vec3.floor(new n,this)}},{key:"inverse",value:function(){return r.vec3.inverse(new n,this)}},{key:"getLength",value:function(){return r.vec3.length(this)}},{key:"lerp",value:function(t){return window.assert(t instanceof n),r.vec3.lerp(new n,this,t)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.vec3.multiply(new n,this,t)}},{key:"negate",value:function(){return r.vec3.negate(new n,this)}},{key:"normalize",value:function(){return r.vec3.normalize(new n,this)}},{key:"rotateX",value:function(t,e){return window.assert(t instanceof n),r.vec3.rotateX(new n,this,t,e)}},{key:"rotateY",value:function(t,e){return window.assert(t instanceof n),r.vec3.rotateY(new n,this,t,e)}},{key:"rotateZ",value:function(t,e){return window.assert(t instanceof n),r.vec3.rotateZ(new n,this,t,e)}},{key:"round",value:function(){return r.vec3.round(new n,this)}},{key:"scale",value:function(t){return r.vec3.scale(new n,this,t)}},{key:"squaredDistance",value:function(t){return window.assert(t instanceof n),r.vec3.squaredDistance(this,t)}},{key:"squaredLength",value:function(){return r.vec3.squaredLength(this)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.vec3.subtract(new n,this,t)}},{key:"transformMatrix3",value:function(t){return window.assert(t instanceof a.default),r.vec3.transformMat3(new n,this,t)}},{key:"transformMatrix4",value:function(t){return window.assert(t instanceof c.default),r.vec3.transformMat4(new n,this,t)}},{key:"transformQuaternion",value:function(t){return window.assert(t instanceof s.default),r.vec3.transformQuat(new n,this,t)}},{key:"clone",value:function(){return new n(this)}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,f.applyArguments)(t,this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.vec3.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.vec3.exactEquals(this,t)}},{key:"setFromMatrixColumn",value:function(t,n){window.assert(t instanceof c.default),window.assert(void 0!==n);var e=4*n;return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}},{key:"toString",value:function(){return r.vec3.str(this)}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"r",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"g",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"b",get:function(){return this[2]},set:function(t){this[2]=t}}],[{key:"bezier",value:function(t,e,i,u,o){return window.assert(t instanceof n),window.assert(e instanceof n),window.assert(i instanceof n),window.assert(u instanceof n),r.vec3.bezier(new n,t,e,i,u,o)}},{key:"hermite",value:function(t,e,i,u,o){return window.assert(t instanceof n),window.assert(e instanceof n),window.assert(i instanceof n),window.assert(u instanceof n),r.vec3.hermite(new n,t,e,i,u,o)}},{key:"max",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec3.max(new n,t,e)}},{key:"min",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec3.min(new n,t,e)}},{key:"like",value:function(t){return t instanceof n?t:(0,u.isObject)(t)?new n(t.x,t.y,t.z):(0,u.isArray)(t)&&t.length<=3?new n(t[0],t[1],t[2]):void 0}}]),n}();n.default=l},function(t,n,e){var i=e(33);t.exports=function(t){return Object(i(t))}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(17);function u(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t,n,e){for(var i=arguments.length,u=Array(i>3?i-3:0),o=3;o<i;o++)u[o-3]=arguments[o];window.assert((0,r.isString)(e));var a=n[e];a&&a.forEach(function(n){var e=n.ctx;n.fn.apply(e||t,u)})}function a(t,n){var e=t[n];if(e)for(var i=0;i<e.length;i++)delete e[i].fn;delete t[n]}function c(t,n){return!!t[n]}var s=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._={},this.tt={}}return i(t,[{key:"on",value:function(t,n,e){return this.s(this._,t,n,e)}},{key:"off",value:function(t,n,e){var i=this;window.assert((0,r.isString)(t)),window.assert((0,r.isFunction)(n));var u=t.split(",");return u.length>0&&u.map(function(t){!function(t,n,e,i,r){var u=n[e];if(u)if(i){if(r===t&&(r=null),u)for(var o=0;o<u.length;o++){var a=u[o],c=a.fn;if(a.ctx===r&&c===i)return void u.splice(o,1)}}else{for(var s=0;s<u.length;s++)delete u[s].fn;delete n[e]}}(i,i._,t,n,e)}),this}},{key:"fire",value:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return o.apply(void 0,[this,this._,t].concat(u(e))),c(this.tt,t)&&(o.apply(void 0,[this,this.tt,t].concat(u(e))),a(this.tt,t)),this}},{key:"once",value:function(t,n,e){return this.s(this.tt,t,n,e)}},{key:"cleanListens",value:function(t){return a(this._,t),c(this.tt,t)&&a(this.tt,t),this}},{key:"destroy",value:function(){for(var t in this._)this.cleanListens(t);for(var n in this.tt)this.cleanListens(n)}},{key:"listens",value:function(t){return window.assert((0,r.isString)(t)),c(this._,t)||c(this.tt,t)}},{key:"s",value:function(t,n,e,i){var u=this;window.assert((0,r.isString)(n)),window.assert((0,r.isFunction)(e));var o=n.split(",");return o.length>0&&o.map(function(n){!function(t,n,e,i,r){var u=n[e];u||(u=[],n[e]=u),r===t&&(r=null);var o={fn:i,ctx:r};if(u){var a=!0,c=!1,s=void 0;try{for(var f,h=u[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var l=f.value,v=l.fn,y=l.ctx;if(i===v&&r===y)return}}catch(t){c=!0,s=t}finally{try{!a&&h.return&&h.return()}finally{if(c)throw s}}}u.push(o)}(u,t,n,e,i)}),this}}]),t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.VertexTopology={POINTS:0,LINES:1,LINE_STRIP:2,LINE_LOOP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},n.StyleType={UNKNOWN:0,COLORED_MESH_STYLE:1,ANNOTATION_STYLE:20,MULTIPLE_STYLES:100},n.BufferType={VERTEX_BUFFER:Symbol(),INDEX_BUFFER:Symbol()},n.MeshAttributeType={BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4,HALF_FLOAT:5},n.MeshIndexType={UNSIGNED_BYTE:0,UNSIGNED_SHORT:1,UNSIGNED_INT:2},n.PolygonRenderingGroup=1,n.AnnotationRenderingGroup=2,n.DevicePixelRatio=window.devicePixelRatio||1},function(t,n,e){var i=e(7),r=e(48);t.exports=e(6)?function(t,n,e){return i.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var i=e(2),r=e(14),u=e(19),o=e(49)("src"),a=Function.toString,c=(""+a).split("toString");e(23).inspectSource=function(t){return a.call(t)},(t.exports=function(t,n,e,a){var s="function"==typeof e;s&&(u(e,"name")||r(e,"name",n)),t[n]!==e&&(s&&(u(e,o)||r(e,o,t[n]?""+t[n]:c.join(String(n)))),t===i?t[n]=e:a?t[n]?t[n]=e:r(t,n,e):(delete t[n],r(t,n,e)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||a.call(this)})},function(t,n,e){var i=e(0),r=e(3),u=e(33),o=/"/g,a=function(t,n,e,i){var r=String(u(t)),a="<"+n;return""!==e&&(a+=" "+e+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+r+"</"+n+">"};t.exports=function(t,n){var e={};e[t]=n(a),i(i.P+i.F*r(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",e)}},function(t,n,e){"use strict";function i(t){return"string"==typeof t}function r(t){return Array.isArray(t)}function u(t){return t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY}function o(t){return"number"==typeof t&&!isNaN(t)&&!u(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.isNull=function(t){return void 0===t||null===t},n.isString=i,n.emptyString=function(t){return""===t},n.nonEmptyString=function(t){return i(0)&&""!==t},n.isArray=r,n.emptyArray=function(t){return r(t)&&0===t.length},n.nonEmptyArray=function(t){return r(t)&&0!==t.length},n.isInfinity=u,n.isNumber=o,n.isInteger=function(t){return o(t)&&t%1==0},n.isFunction=function(t){return"function"==typeof t},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addClass=function(t,n){if(!t)return;t.classList?t.classList.add(n):t.className=t.className+" "+n},n.hasClass=function(t,n){if(!t)return;return t.classList?!!n&&t.classList.contains(n):-1!==(" "+t.className+" ").indexOf(" "+n+" ")},n.removeClass=function(t,n){if(!t)return;t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")},n.hyphenate=r,n.addStyle=function(t,n){var e=Object.keys(n);(0,i.isString)(t.style.cssText)?t.style.cssText=e.map(function(t){return r(t)+": "+n[t]}).join(";"):e.forEach(function(e){t.style.setProperty(e,n[e])})},n.removeStyle=function(t){for(var n=t.style.removeProperty,e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];[].forEach.call(i,function(e){return n.call(t,e)})},n.getContext3D=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=1===e?"":e;return t.getContext("webgl"+i,n)||t.getContext("experimental-webgl"+i,n)};var i=e(17);function r(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var i=e(68),r=e(33);t.exports=function(t){return i(r(t))}},function(t,n,e){var i=e(69),r=e(48),u=e(20),o=e(32),a=e(19),c=e(146),s=Object.getOwnPropertyDescriptor;n.f=e(6)?s:function(t,n){if(t=u(t),n=o(n,!0),c)try{return s(t,n)}catch(t){}if(a(t,n))return r(!i.f.call(t,n),t[n])}},function(t,n,e){var i=e(19),r=e(10),u=e(105)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,n){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)},function(t,n,e){var i=e(11);t.exports=function(t,n,e){if(i(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)}}return function(){return t.apply(n,arguments)}}},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){"use strict";var i=e(3);t.exports=function(t,n){return!!t&&i(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(17);var u=function(){function t(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4326;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.lng=n,this.lat=e,this.srid=i,this.nt=0}return i(t,[{key:"set",value:function(t){var n=t.lng,e=t.lat,i=t.srid,r=t.altitude;this.lng=n,this.lat=e,this.srid=i,this.nt=r}},{key:"setAltitude",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.nt=t,this}},{key:"distanceTo",value:function(n){var e=t.like(n);if(this.srid===e.srid&&3857==this.srid){var i=this.lng-e.lng,r=this.lat-e.lat;return Math.sqrt(i*i+r*r)}return 0}},{key:"clone",value:function(){return new t(this.lng,this.lat,this.srid).setAltitude(this.altitude)}},{key:"equals",value:function(n){var e=t.like(n);return this.lat===e.lat&&this.lng===e.lng&&this.srid===e.srid&&this.altitude===e.altitude}},{key:"altitude",get:function(){return this.nt}}],[{key:"like",value:function(n){return n instanceof t?n:(0,r.isObject)(n)?new t(n.lng,n.lat,n.srid).setAltitude(n.altitude):(0,r.isArray)(n)&&n.length<=4?new t(n[0],n[1],n[4]).setAltitude(n[3]):void 0}}]),t}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(17),o=c(e(60)),a=c(e(27));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.et=n,this.it=e,this.rt=i,this.ut=r}return r(t,[{key:"set",value:function(n,e,i,r){n instanceof t?this.O(n.x,n.y,n.width,n.height):this.O(n,e,i,r)}},{key:"contains",value:function(n){return n instanceof t?n.minX>=this.minX&&n.maxX<=this.maxX&&n.minY>=this.minY&&n.maxY<=this.maxY:n instanceof o.default&&(n.x>=this.minX&&n.x<=this.maxX&&n.y>=this.minY&&n.y<=this.maxY)}},{key:"intersects",value:function(n){return window.assert(n instanceof t),!(n.minX>this.maxX||n.maxX<this.minX||n.minY>this.maxY||n.maxY<this.minY)}},{key:"moveTo",value:function(t,n){this.et=t-this.rt/2,this.it=n-this.ut/2}},{key:"extendTo",value:function(n){window.assert(n instanceof t);var e=this.et,i=this.it,r=e+this.rt,u=i+this.ut,o=n.et,a=n.it,c=o+n.rt,s=a+n.ut,f=e<o?e:o,h=i<a?i:a,l=r>c?r:c,v=u>s?u:s;this.et=f,this.it=h,this.rt=l-f,this.ut=v-h}},{key:"extend",value:function(n){window.assert(n instanceof t);var e=this.et,i=this.it,r=e+this.rt,u=i+this.ut,o=n.et,a=n.it,c=o+n.rt,s=a+n.ut,f=e<o?e:o,h=i<a?i:a;return new t(f,h,(r>c?r:c)-f,(u>s?u:s)-h)}},{key:"buffer",value:function(n){var e=n/2;return new t(this.x-e,this.y-e,this.width+n,this.height+n)}},{key:"clone",value:function(){return new t(this.et,this.it,this.rt,this.ut)}},{key:"O",value:function(t,n,e,i){this.x=t,this.y=n,this.width=e,this.height=i}},{key:"x",get:function(){return this.et},set:function(t){this.et=t}},{key:"y",get:function(){return this.it},set:function(t){this.it=t}},{key:"width",get:function(){return this.rt},set:function(t){this.rt=t}},{key:"height",get:function(){return this.ut},set:function(t){this.ut=t}},{key:"maxX",get:function(){return this.x+this.width}},{key:"maxY",get:function(){return this.y+this.height}},{key:"minX",get:function(){return this.x}},{key:"minY",get:function(){return this.y}},{key:"area",get:function(){return this.rt*this.ut}},{key:"center",get:function(){return new o.default(this.x+this.width/2,this.y+this.height/2)}}],[{key:"like",value:function(n){if(n instanceof t)return n;if((0,u.isArray)(n)&&n.length>1){var e=i(n,2),r=e[0],o=e[1],a=t.likeSubArray(r),c=i(a,2),s=c[0],f=c[1],h=t.likeSubArray(o),l=i(h,2);return new t(s,f,l[0]-s,l[1]-f)}throw new Error("this param does not match!")}},{key:"likeSubArray",value:function(t){if((0,u.isArray)(t)&&t.length>1)return t;if(t instanceof a.default)return[t.lng,t.lat];if(t instanceof o.default)return[t.x,t.y];throw new Error("this sub param does not match!")}}]),t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ControlManager=n.ControlPos=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(18);var u=n.ControlPos={topleft:Symbol("topleft"),topright:Symbol("topright"),bottomleft:Symbol("bottomleft"),bottomright:Symbol("bottomright")};n.ControlManager=function(){function t(n){var e=this,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).theme,r=void 0===i?"mapcube":i;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var o=null;if(!(o="string"==typeof n?document.getElementById(n):n))throw new Error("Cannot find div "+n.toString());this.ot=r;var a=this.ct=document.createElement("div");this.addThemeClass(a,"control-container"),this.st={};var c=function(t,n,i){var r=document.createElement("div");e.addThemeClass(r,"control-"+n),e.addThemeClass(r,"control-"+i),a.appendChild(r),e.st[t]=r};c(u.topleft,"top","left"),c(u.topright,"top","right"),c(u.bottomleft,"left","bottom"),c(u.bottomright,"right","bottom"),o.appendChild(a)}return i(t,[{key:"addThemeClass",value:function(t,n){(0,r.addClass)(t,this.ot+"-"+n)}},{key:"getScreenPos",value:function(t){return this.st[t.pos]}},{key:"addToScreenPos",value:function(t,n){var e=t.pos;n.remove();var i=this.getScreenPos(t);e===u.bottomleft||e===u.bottomright?i.insertBefore(n,i.firstChild):i.appendChild(n)}},{key:"destroy",value:function(){this.ct.remove(),delete this.st}}]),t}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InitialState=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(9)),u=c(e(58)),o=c(e(44)),a=c(e(40));function c(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var f=n.InitialState={NO_TRANSLATION:new r.default(0,0,0),NO_ROTATION:u.default.identity(),NO_SCALING:new r.default(1,1,1)},h=100,l=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.ft=f.NO_ROTATION,this.ht=f.NO_SCALING,this.lt=f.NO_TRANSLATION,this.vt=!0,this.yt=[],this.dt=h++,this.bt=0,this.wt=Number.MAX_VALUE}return i(t,[{key:"addNode",value:function(t){t.validate(),this.yt.push(t),t.parent=this,this.pt&&delete this.pt}},{key:"remove",value:function(){this.kt&&(this.kt.removeNode(this.id),this.kt=void 0)}},{key:"removeNode",value:function(t){for(var n=this.yt,e=n.length,i=0;i<e;++i)if(t===n[i].id)return n[i].parent=null,n.splice(i,1),!0;for(var r=0;r<e;++r){var u=n[r].removeNode(t);if(u)return u}return!1}},{key:"findNode",value:function(t){for(var n=this.yt,e=n.length,i=0;i<e;++i){var r=n[i];if(r.id===t)return r;if(r=r.findNode(t))return r}return null}},{key:"findNodes",value:function(t){for(var n=[],e=this.yt,i=e.length,r=0;r<i;++r){var u=e[r];t(u)&&n.push(u),n.push.apply(n,s(u.findNodes(t)))}return n}},{key:"forEach",value:function(t){var n=this.yt,e=n.length;t(this);for(var i=0;i<e;++i){var r=n[i];t(r),r.forEach(t)}}},{key:"rotateTo",value:function(t){window.assert(t instanceof u.default),this.ft=t,this.clearLocalMatrixCache()}},{key:"translateTo",value:function(t){window.assert(t instanceof r.default),this.lt=t,this.clearLocalMatrixCache()}},{key:"scaleTo",value:function(t){window.assert(t instanceof r.default),this.ht=t,this.clearLocalMatrixCache()}},{key:"mark",value:function(){this.mt={translation:this.lt,rotation:this.ft,scaling:this.ht,visible:this.vt}}},{key:"reset",value:function(){this.lt=this.mt.translation,this.ft=this.mt.rotation,this.ht=this.mt.scaling,this.vt=this.mt.visible}},{key:"calculateBounds",value:function(){for(var t=new a.default,n=this.yt,e=n.length,i=0;i<e;++i)t.extendToBox(n[i].box);this.pt=t}},{key:"clearLocalMatrixCache",value:function(){if(this.gt){delete this.gt;for(var t=this.yt,n=t.length,e=0;e<n;++e)t[e].clearWorldMatrixCache();this.clearWorldMatrixCache()}}},{key:"clearWorldMatrixCache",value:function(){this.Ot&&delete this.Ot}},{key:"validate",value:function(){}},{key:"addToRenderQueue",value:function(t,n,e){if(this.vt)for(var i=this.yt,r=0;r<i.length;++r)i[r].addToRenderQueue(t,n,e)}},{key:"dispose",value:function(){}},{key:"a$",value:function(){this.gt=o.default.fromRotationTranslationScale(this.ft,this.lt,this.ht)}},{key:"ba",value:function(){this.kt&&(this.Ot=this.kt.worldMatrix.multiply(this.localMatrix))}},{key:"id",get:function(){return this.dt}},{key:"rotation",get:function(){return this.ft}},{key:"translation",get:function(){return this.lt}},{key:"scaling",get:function(){return this.ht}},{key:"parent",get:function(){return this.kt},set:function(t){this.kt=t}},{key:"visible",get:function(){return this.vt},set:function(t){this.vt=t}},{key:"minVisibleLevel",get:function(){return this.bt},set:function(t){this.bt=t}},{key:"maxVisibleLevel",get:function(){return this.wt},set:function(t){this.wt=t}},{key:"feature",get:function(){return this.jt},set:function(t){var n=this.jt;if(n){var e=n.nodes;e.splice(e.indexOf(this),1)}t&&t.nodes.push(this),this.jt=t}},{key:"localMatrix",get:function(){return this.gt||this.a$(),this.gt}},{key:"worldMatrix",get:function(){return this.Ot||this.ba(),this.Ot}},{key:"animator",get:function(){return this.Mt},set:function(t){this.Mt=t}},{key:"box",get:function(){return this.pt||this.calculateBounds(),this.pt}},{key:"children",get:function(){return this.yt}}]),t}();n.default=l},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._t=n,this.Et=e,this.St=i,this.xt=r}return i(t,[{key:"name",get:function(){return this._t}},{key:"type",get:function(){return this.Et}},{key:"offset",get:function(){return this.St}},{key:"size",get:function(){return this.xt}}]),t}();n.default=r},function(t,n,e){var i=e(4);t.exports=function(t,n){if(!i(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!i(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!i(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},function(t,n,e){var i=e(0),r=e(23),u=e(3);t.exports=function(t,n){var e=(r.Object||{})[t]||Object[t],o={};o[t]=n(e),i(i.S+i.F*u(function(){e(1)}),"Object",o)}},function(t,n,e){var i=e(24),r=e(68),u=e(10),o=e(8),a=e(122);t.exports=function(t,n){var e=1==t,c=2==t,s=3==t,f=4==t,h=6==t,l=5==t||h,v=n||a;return function(n,a,y){for(var d,b,w=u(n),p=r(w),k=i(a,y,3),m=o(p.length),g=0,O=e?v(n,m):c?v(n,0):void 0;m>g;g++)if((l||g in p)&&(b=k(d=p[g],g,w),t))if(e)O[g]=b;else if(b)switch(t){case 3:return!0;case 5:return d;case 6:return g;case 2:O.push(d)}else if(f)return!1;return h?-1:s||f?f:O}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"ARRAY_TYPE",function(){return r}),n.setMatrixArrayType=function(t){r=t},n.toRadian=function(t){return t*o},n.equals=function(t,n){return Math.abs(t-n)<=i*Math.max(1,Math.abs(t),Math.abs(n))};const i=1e-6;n.EPSILON=i;let r="undefined"!=typeof Float32Array?Float32Array:Array;const u=Math.random;n.RANDOM=u;const o=Math.PI/180},function(t,n,e){"use strict";if(e(6)){var i=e(42),r=e(2),u=e(3),o=e(0),a=e(87),c=e(128),s=e(24),f=e(55),h=e(48),l=e(14),v=e(57),y=e(34),d=e(8),b=e(172),w=e(51),p=e(32),k=e(19),m=e(70),g=e(4),O=e(10),j=e(119),M=e(52),_=e(22),E=e(53).f,S=e(121),x=e(49),T=e(5),A=e(36),C=e(77),R=e(84),N=e(124),I=e(64),F=e(81),D=e(54),L=e(123),P=e(162),z=e(7),G=e(21),B=z.f,U=G.f,W=r.RangeError,Y=r.TypeError,V=r.Uint8Array,H=Array.prototype,K=c.ArrayBuffer,Z=c.DataView,Q=A(0),J=A(2),X=A(3),q=A(4),$=A(5),tt=A(6),nt=C(!0),et=C(!1),it=N.values,rt=N.keys,ut=N.entries,ot=H.lastIndexOf,at=H.reduce,ct=H.reduceRight,st=H.join,ft=H.sort,ht=H.slice,lt=H.toString,vt=H.toLocaleString,yt=T("iterator"),dt=T("toStringTag"),bt=x("typed_constructor"),wt=x("def_constructor"),pt=a.CONSTR,kt=a.TYPED,mt=a.VIEW,gt=A(1,function(t,n){return Et(R(t,t[wt]),n)}),Ot=u(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),jt=!!V&&!!V.prototype.set&&u(function(){new V(1).set({})}),Mt=function(t,n){var e=y(t);if(e<0||e%n)throw W("Wrong offset!");return e},_t=function(t){if(g(t)&&kt in t)return t;throw Y(t+" is not a typed array!")},Et=function(t,n){if(!(g(t)&&bt in t))throw Y("It is not a typed array constructor!");return new t(n)},St=function(t,n){return xt(R(t,t[wt]),n)},xt=function(t,n){for(var e=0,i=n.length,r=Et(t,i);i>e;)r[e]=n[e++];return r},Tt=function(t,n,e){B(t,n,{get:function(){return this.Tt[e]}})},At=function(t){var n,e,i,r,u,o,a=O(t),c=arguments.length,f=c>1?arguments[1]:void 0,h=void 0!==f,l=S(a);if(void 0!=l&&!j(l)){for(o=l.call(a),i=[],n=0;!(u=o.next()).done;n++)i.push(u.value);a=i}for(h&&c>2&&(f=s(f,arguments[2],2)),n=0,e=d(a.length),r=Et(this,e);e>n;n++)r[n]=h?f(a[n],n):a[n];return r},Ct=function(){for(var t=0,n=arguments.length,e=Et(this,n);n>t;)e[t]=arguments[t++];return e},Rt=!!V&&u(function(){vt.call(new V(1))}),Nt=function(){return vt.apply(Rt?ht.call(_t(this)):_t(this),arguments)},It={copyWithin:function(t,n){return P.call(_t(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return q(_t(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(_t(this),arguments)},filter:function(t){return St(this,J(_t(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(_t(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(_t(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(_t(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return et(_t(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return nt(_t(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return st.apply(_t(this),arguments)},lastIndexOf:function(t){return ot.apply(_t(this),arguments)},map:function(t){return gt(_t(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(_t(this),arguments)},reduceRight:function(t){return ct.apply(_t(this),arguments)},reverse:function(){for(var t,n=_t(this).length,e=Math.floor(n/2),i=0;i<e;)t=this[i],this[i++]=this[--n],this[n]=t;return this},some:function(t){return X(_t(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ft.call(_t(this),t)},subarray:function(t,n){var e=_t(this),i=e.length,r=w(t,i);return new(R(e,e[wt]))(e.buffer,e.byteOffset+r*e.BYTES_PER_ELEMENT,d((void 0===n?i:w(n,i))-r))}},Ft=function(t,n){return St(this,ht.call(_t(this),t,n))},Dt=function(t){_t(this);var n=Mt(arguments[1],1),e=this.length,i=O(t),r=d(i.length),u=0;if(r+n>e)throw W("Wrong length!");for(;u<r;)this[n+u]=i[u++]},Lt={entries:function(){return ut.call(_t(this))},keys:function(){return rt.call(_t(this))},values:function(){return it.call(_t(this))}},Pt=function(t,n){return g(t)&&t[kt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},zt=function(t,n){return Pt(t,n=p(n,!0))?h(2,t[n]):U(t,n)},Gt=function(t,n,e){return!(Pt(t,n=p(n,!0))&&g(e)&&k(e,"value"))||k(e,"get")||k(e,"set")||e.configurable||k(e,"writable")&&!e.writable||k(e,"enumerable")&&!e.enumerable?B(t,n,e):(t[n]=e.value,t)};pt||(G.f=zt,z.f=Gt),o(o.S+o.F*!pt,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Gt}),u(function(){lt.call({})})&&(lt=vt=function(){return st.call(this)});var Bt=v({},It);v(Bt,Lt),l(Bt,yt,Lt.values),v(Bt,{slice:Ft,set:Dt,constructor:function(){},toString:lt,toLocaleString:Nt}),Tt(Bt,"buffer","b"),Tt(Bt,"byteOffset","o"),Tt(Bt,"byteLength","l"),Tt(Bt,"length","e"),B(Bt,dt,{get:function(){return this[kt]}}),t.exports=function(t,n,e,c){var s=t+((c=!!c)?"Clamped":"")+"Array",h="get"+t,v="set"+t,y=r[s],w=y||{},p=y&&_(y),k=!y||!a.ABV,O={},j=y&&y.prototype,S=function(t,e){B(t,e,{get:function(){return function(t,e){var i=t.Tt;return i.v[h](e*n+i.o,Ot)}(this,e)},set:function(t){return function(t,e,i){var r=t.Tt;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[v](e*n+r.o,i,Ot)}(this,e,t)},enumerable:!0})};k?(y=e(function(t,e,i,r){f(t,y,s,"_d");var u,o,a,c,h=0,v=0;if(g(e)){if(!(e instanceof K||"ArrayBuffer"==(c=m(e))||"SharedArrayBuffer"==c))return kt in e?xt(y,e):At.call(y,e);u=e,v=Mt(i,n);var w=e.byteLength;if(void 0===r){if(w%n)throw W("Wrong length!");if((o=w-v)<0)throw W("Wrong length!")}else if((o=d(r)*n)+v>w)throw W("Wrong length!");a=o/n}else a=b(e),u=new K(o=a*n);for(l(t,"_d",{b:u,o:v,l:o,e:a,v:new Z(u)});h<a;)S(t,h++)}),j=y.prototype=M(Bt),l(j,"constructor",y)):u(function(){y(1)})&&u(function(){new y(-1)})&&F(function(t){new y,new y(null),new y(1.5),new y(t)},!0)||(y=e(function(t,e,i,r){var u;return f(t,y,s),g(e)?e instanceof K||"ArrayBuffer"==(u=m(e))||"SharedArrayBuffer"==u?void 0!==r?new w(e,Mt(i,n),r):void 0!==i?new w(e,Mt(i,n)):new w(e):kt in e?xt(y,e):At.call(y,e):new w(b(e))}),Q(p!==Function.prototype?E(w).concat(E(p)):E(w),function(t){t in y||l(y,t,w[t])}),y.prototype=j,i||(j.constructor=y));var x=j[yt],T=!!x&&("values"==x.name||void 0==x.name),A=Lt.values;l(y,bt,!0),l(j,kt,s),l(j,mt,!0),l(j,wt,y),(c?new y(1)[dt]==s:dt in j)||B(j,dt,{get:function(){return s}}),O[s]=y,o(o.G+o.W+o.F*(y!=w),O),o(o.S,s,{BYTES_PER_ELEMENT:n}),o(o.S+o.F*u(function(){w.of.call(y,1)}),s,{from:At,of:Ct}),"BYTES_PER_ELEMENT"in j||l(j,"BYTES_PER_ELEMENT",n),o(o.P,s,It),D(s),o(o.P+o.F*jt,s,{set:Dt}),o(o.P+o.F*!T,s,Lt),i||j.toString==lt||(j.toString=lt),o(o.P+o.F*u(function(){new y(1).slice()}),s,{slice:Ft}),o(o.P+o.F*(u(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!u(function(){j.toLocaleString.call([1,2])})),s,{toLocaleString:Nt}),I[s]=T?x:A,i||T||l(j,yt,A)}}else t.exports=function(){}},function(t,n,e){var i=e(167),r=e(0),u=e(76)("metadata"),o=u.store||(u.store=new(e(170))),a=function(t,n,e){var r=o.get(t);if(!r){if(!e)return;o.set(t,r=new i)}var u=r.get(n);if(!u){if(!e)return;r.set(n,u=new i)}return u};t.exports={store:o,map:a,has:function(t,n,e){var i=a(n,e,!1);return void 0!==i&&i.has(t)},get:function(t,n,e){var i=a(n,e,!1);return void 0===i?void 0:i.get(t)},set:function(t,n,e,i){a(e,i,!0).set(t,n)},keys:function(t,n){var e=a(t,n,!1),i=[];return e&&e.forEach(function(t,n){i.push(n)}),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(9)),u=o(e(46));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.MAX_VALUE,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_VALUE,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NEGATIVE_INFINITY,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Number.NEGATIVE_INFINITY;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.min=new r.default(n,e,i),this.max=new r.default(u,o,a)}return i(t,[{key:"extendToBox",value:function(n){window.assert(n instanceof t),this.isEmpty?(n.min.copyTo(this.min),n.max.copyTo(this.max)):(n.min=r.default.min(this.min,n.min),n.max=r.default.max(this.max,n.max)),this.At&&delete this.At}},{key:"extendToPoint",value:function(t){window.assert(t instanceof r.default),this.isEmpty?(t.copyTo(this.min),t.copyTo(this.max)):(this.min=r.default.min(this.min,t),this.max=r.default.max(this.max,t)),this.At&&delete this.At}},{key:"contains",value:function(t){return window.assert(t instanceof r.default),!this.isEmpty&&(this.min.x<=t.x&&this.min.y<=t.y&&this.min.z<=t.z&&this.max.x>=t.x&&this.max.y>=t.y&&this.max.z>=t.z)}},{key:"isEmpty",get:function(){return this.min.x>this.max.x||this.min.y>this.max.y||this.min.z>this.max.z}},{key:"center",get:function(){var t=this.At;if(!t){var n=this.min,e=this.max;t=new r.default(n.x+(e.x-n.x)/2,n.y+(e.y-n.y)/2,n.z+(e.z-n.z)/2),this.At=t}return t}},{key:"size",get:function(){return new u.default(this.max.x-this.min.x,this.max.y-this.min.y)}}]),t}();n.default=a},function(t,n,e){var i=e(49)("meta"),r=e(4),u=e(19),o=e(7).f,a=0,c=Object.isExtensible||function(){return!0},s=!e(3)(function(){return c(Object.preventExtensions({}))}),f=function(t){o(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,n){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,i)){if(!c(t))return"F";if(!n)return"E";f(t)}return t[i].i},getWeak:function(t,n){if(!u(t,i)){if(!c(t))return!0;if(!n)return!1;f(t)}return t[i].w},onFreeze:function(t){return s&&h.NEED&&c(t)&&!u(t,i)&&f(t),t}}},function(t,n){t.exports=!1},function(t,n,e){var i=e(5)("unscopables"),r=Array.prototype;void 0==r[i]&&e(14)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=s(e(9)),o=s(e(72)),a=s(e(58)),c=e(47);function s(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,16)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return c.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.mat4.add(new n,this,t)}},{key:"adjoint",value:function(){return r.mat4.adjoint(new n,this)}},{key:"determinant",value:function(){return r.mat4.determinant(this)}},{key:"frob",value:function(){return r.mat4.frob(this)}},{key:"invert",value:function(){return r.mat4.invert(new n,this)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.mat4.multiply(new n,this,t)}},{key:"multiplyScalar",value:function(t){return r.mat4.multiplyScalar(new n,this,t)}},{key:"rotate",value:function(t,e){return window.assert(e instanceof u.default),r.mat4.rotate(new n,this,t,e)}},{key:"rotateX",value:function(t){return r.mat4.rotateX(new n,this,t)}},{key:"rotateY",value:function(t){return r.mat4.rotateY(new n,this,t)}},{key:"rotateZ",value:function(t){return r.mat4.rotateZ(new n,this,t)}},{key:"scale",value:function(t){return window.assert(t instanceof u.default),r.mat4.scale(new n,this,t)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.mat4.subtract(new n,this,t)}},{key:"translate",value:function(t){return window.assert(t instanceof u.default),r.mat4.translate(new n,this,t)}},{key:"transpose",value:function(){return r.mat4.transpose(new n,this)}},{key:"clone",value:function(){return new n(this)}},{key:"position",value:function(t){return window.assert(t instanceof u.default),this[12]=t[0],this[13]=t[1],this[14]=t[2],this.clone()}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,c.applyArguments)(t,this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.mat4.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.mat4.exactEquals(this,t)}},{key:"toString",value:function(){return r.mat4.str(this)}},{key:"rotation",get:function(){return r.mat4.getRotation(new a.default,this)}},{key:"translation",get:function(){return r.mat4.getTranslation(new u.default,this)}},{key:"scaling",get:function(){return r.mat4.getScaling(new u.default,this)}}],[{key:"fromQuaternion",value:function(t){return window.assert(t instanceof a.default),r.mat4.fromQuat(new n,t)}},{key:"fromRotation",value:function(t,e){return window.assert(e instanceof u.default),r.mat4.fromRotation(new n,t,e)}},{key:"fromRotationTranslation",value:function(t,e){return window.assert(t instanceof a.default),window.assert(e instanceof u.default),r.mat4.fromRotationTranslation(new n,t,e)}},{key:"fromRotationTranslationScale",value:function(t,e,i){return window.assert(t instanceof a.default),window.assert(e instanceof u.default),window.assert(i instanceof u.default),r.mat4.fromRotationTranslationScale(new n,t,e,i)}},{key:"fromRotationTranslationScaleOrigin",value:function(t,e,i,o){return window.assert(t instanceof a.default),window.assert(e instanceof u.default),window.assert(i instanceof u.default),window.assert(o instanceof u.default),r.mat4.fromRotationTranslationScaleOrigin(new n,t,e,i,o)}},{key:"fromScaling",value:function(t){return window.assert(t instanceof u.default),r.mat4.fromScaling(new n,t)}},{key:"fromTranslation",value:function(t){return window.assert(t instanceof u.default),r.mat4.fromTranslation(new n,t)}},{key:"fromXRotation",value:function(t){return r.mat4.fromXRotation(new n,t)}},{key:"fromYRotation",value:function(t){return r.mat4.fromYRotation(new n,t)}},{key:"fromZRotation",value:function(t){return r.mat4.fromZRotation(new n,t)}},{key:"frustum",value:function(t,e,i,u,o,a){return r.mat4.frustum(new n,t,e,i,u,o,a)}},{key:"identity",value:function(){return r.mat4.identity(new n)}},{key:"lookAt",value:function(t,e,i){return window.assert(t instanceof u.default),window.assert(e instanceof u.default),window.assert(i instanceof u.default),r.mat4.lookAt(new n,t,e,i)}},{key:"ortho",value:function(t,e,i,u,o,a){return r.mat4.ortho(new n,t,e,i,u,o,a)}},{key:"perspective",value:function(t,e,i,u){return r.mat4.perspective(new n,t,e,i,u)}},{key:"perspectiveFromFieldOfView",value:function(t,e,i){return r.mat4.perspectiveFromFieldOfView(new n,t,e,i)}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(37),r=e(447),u=e(448),o=e(181),a=e(182),c=e(183),s=e(449),f=e(450),h=e(184),l=e(185);e.d(n,"glMatrix",function(){return i}),e.d(n,"mat2",function(){return r}),e.d(n,"mat2d",function(){return u}),e.d(n,"mat3",function(){return o}),e.d(n,"mat4",function(){return a}),e.d(n,"quat",function(){return c}),e.d(n,"quat2",function(){return s}),e.d(n,"vec2",function(){return f}),e.d(n,"vec3",function(){return h}),e.d(n,"vec4",function(){return l})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=l(e(91)),o=l(e(9)),a=l(e(186)),c=l(e(129)),s=l(e(92)),f=l(e(44)),h=e(47);function l(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,2)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return h.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.vec2.add(new n,this,t)}},{key:"ceil",value:function(){return r.vec2.ceil(new n,this)}},{key:"cross",value:function(t){return window.assert(t instanceof n),r.vec2.cross(new o.default,this,t)}},{key:"distanceTo",value:function(t){return window.assert(t instanceof n),r.vec2.distance(this,t)}},{key:"divide",value:function(t){return window.assert(t instanceof n),r.vec2.divide(new n,this,t)}},{key:"dot",value:function(t){return window.assert(t instanceof n),r.vec2.dot(this,t)}},{key:"floor",value:function(){return r.vec2.floor(new n,this)}},{key:"inverse",value:function(){return r.vec2.inverse(new n,this)}},{key:"getLength",value:function(){return r.vec2.length(this)}},{key:"lerp",value:function(t,e){return window.assert(t instanceof n),r.vec2.lerp(new n,this,t,e)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.vec2.multiply(new n,this,t)}},{key:"negate",value:function(){return r.vec2.negate(new n,this)}},{key:"normalize",value:function(){return r.vec2.normalize(new n,this)}},{key:"round",value:function(){return r.vec2.round(new n,this)}},{key:"scale",value:function(t){return r.vec2.scale(new n,this,t)}},{key:"squaredDistanceTo",value:function(t){return window.assert(t instanceof n),r.vec2.squaredDistance(this,t)}},{key:"squaredLength",value:function(){return r.vec2.squaredLength(this)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.vec2.subtract(new n,this,t)}},{key:"transformMatrix2",value:function(t){return window.assert(t instanceof a.default),r.vec2.transformMat2(new n,this,t)}},{key:"transformMatrix23",value:function(t){return window.assert(t instanceof c.default),r.vec2.transformMat2d(new n,this,t)}},{key:"transformMatrix3",value:function(t){return window.assert(t instanceof s.default),r.vec2.transformMat3(new n,this,t)}},{key:"transformMatrix4",value:function(t){return window.assert(t instanceof f.default),r.vec2.transformMat4(new n,this,t)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.vec2.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.vec2.exactEquals(this,t)}},{key:"toString",value:function(){return r.vec2.str(this)}},{key:"clone",value:function(){return new n(this[0],this[1])}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,h.applyArguments)(t,this)}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"u",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"v",get:function(){return this[1]},set:function(t){this[1]=t}}],[{key:"max",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec2.max(new n,t,e)}},{key:"min",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec2.min(new n,t,e)}}]),n}();n.default=v},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.applyArguments=function(t){for(var n={ctx:void 0,forEach:void 0},e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];Array.isArray(i[0])||i[0]instanceof Float32Array?(n.ctx=i[0],n.forEach=i[0].forEach):(n.ctx=i,n.forEach=i.forEach);n.ctx&&n.forEach&&n.forEach.call(n.ctx,function(n,e){"number"==typeof n&&(t[e]=n)})}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},function(t,n,e){var i=e(148),r=e(106);t.exports=Object.keys||function(t){return i(t,r)}},function(t,n,e){var i=e(34),r=Math.max,u=Math.min;t.exports=function(t,n){return(t=i(t))<0?r(t+n,0):u(t,n)}},function(t,n,e){var i=e(1),r=e(149),u=e(106),o=e(105)("IE_PROTO"),a=function(){},c=function(){var t,n=e(103)("iframe"),i=u.length;for(n.style.display="none",e(107).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c.prototype[u[i]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(a.prototype=i(t),e=new a,a.prototype=null,e[o]=t):e=c(),void 0===n?e:r(e,n)}},function(t,n,e){var i=e(148),r=e(106).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,n,e){"use strict";var i=e(2),r=e(7),u=e(6),o=e(5)("species");t.exports=function(t){var n=i[t];u&&n&&!n[o]&&r.f(n,o,{configurable:!0,get:function(){return this}})}},function(t,n){t.exports=function(t,n,e,i){if(!(t instanceof n)||void 0!==i&&i in t)throw TypeError(e+": incorrect invocation!");return t}},function(t,n,e){var i=e(24),r=e(160),u=e(119),o=e(1),a=e(8),c=e(121),s={},f={};(n=t.exports=function(t,n,e,h,l){var v,y,d,b,w=l?function(){return t}:c(t),p=i(e,h,n?2:1),k=0;if("function"!=typeof w)throw TypeError(t+" is not iterable!");if(u(w)){for(v=a(t.length);v>k;k++)if((b=n?p(o(y=t[k])[0],y[1]):p(t[k]))===s||b===f)return b}else for(d=w.call(t);!(y=d.next()).done;)if((b=r(d,p,y.value,n))===s||b===f)return b}).BREAK=s,n.RETURN=f},function(t,n,e){var i=e(15);t.exports=function(t,n,e){for(var r in n)i(t,r,n[r],e);return t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=c(e(9)),o=c(e(92)),a=e(47);function c(t){return t&&t.__esModule?t:{default:t}}function s(t){function n(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return n.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t,n}var f=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,4)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return a.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s(Float32Array)),i(n,[{key:"getAxisAngle",value:function(){return r.quat.getAxisAngle(new u.default,this)}},{key:"setAxisAngle",value:function(t,n){return window.assert(t instanceof u.default),r.quat.setAxisAngle(this,t,n)}},{key:"add",value:function(t){return window.assert(t instanceof n),r.quat.add(new n,this,t)}},{key:"calculateW",value:function(){return r.quat.calculateW(new n,this)}},{key:"conjugate",value:function(){return r.quat.conjugate(new n,this)}},{key:"dot",value:function(t){return window.assert(t instanceof n),r.quat.dot(new n,this,t)}},{key:"invert",value:function(){return r.quat.invert(new n,this)}},{key:"getLength",value:function(){return r.quat.length(this)}},{key:"lerp",value:function(t,e){return window.assert(t instanceof n),r.quat.lerp(new n,this,t,e)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.quat.multiply(new n,this,t)}},{key:"normalize",value:function(){return r.quat.normalize(new n,this)}},{key:"rotateX",value:function(t){return r.quat.rotateX(new n,this,t)}},{key:"rotateY",value:function(t){return r.quat.rotateY(new n,this,t)}},{key:"rotateZ",value:function(t){return r.quat.rotateZ(new n,this,t)}},{key:"scale",value:function(t){return r.quat.scale(new n,this,t)}},{key:"slerp",value:function(t,e){return window.assert(t instanceof n),r.quat.slerp(new n,this,t,e)}},{key:"squaredLength",value:function(){return r.quat.squaredLength(this)}},{key:"clone",value:function(){return new n(this)}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,a.applyArguments)(t,this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.quat.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.quat.exactEquals(this,t)}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=t}}],[{key:"fromMatrix3",value:function(t){return window.assert(t instanceof o.default),r.quat.fromMat3(new n,t)}},{key:"identity",value:function(){return r.quat.identity(new n)}},{key:"rotationTo",value:function(t,e){return window.assert(t instanceof u.default),window.assert(e instanceof u.default),r.quat.rotationTo(new n,t,e)}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();function r(t){function n(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return n.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t,n}var u=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,4));return u.setRGB(t,e,i),u[3]=r,u}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r(Float32Array)),i(n,[{key:"clone",value:function(){return new n(this[0],this[1],this[2],this[3])}},{key:"copy",value:function(t){return t instanceof n&&this.setRGB(t[0],t[1],t[2],t[3]),this}},{key:"setRGB",value:function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return this[0]=t,this[1]=n,this[2]=e,this[3]=i,this}},{key:"setHex",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=Math.floor(t);return this.setRGB((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,n),this}},{key:"setString",value:function(t){var n=/^#([A-Fa-f0-9]+)$/.exec(t);if(n){var e=n[1],i=e.length;3===i?this.setRGB(parseInt(e.charAt(0)+e.charAt(0),16)/255,parseInt(e.charAt(1)+e.charAt(1),16)/255,parseInt(e.charAt(2)+e.charAt(2),16)/255):i&&this.setRGB(parseInt(e.charAt(0)+e.charAt(1),16)/255,parseInt(e.charAt(2)+e.charAt(3),16)/255,parseInt(e.charAt(4)+e.charAt(5),16)/255)}return this}},{key:"getHex",value:function(){return 255*this[0]<<16^255*this[1]<<8^255*this[2]<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"setValue",value:function(t){return"number"==typeof t?this.setHex(t):"string"==typeof t?this.setString(t):this.copy(t)}}],[{key:"setValue",value:function(t){return(new n).setValue(t)}}]),n}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(28),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=n,this.y=e,this.z=i}return r(t,[{key:"set",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n instanceof t?(this.x=n.x,this.y=n.y,this.z=n.z):(this.x=n,this.y=e,this.z=i)}},{key:"clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"distanceTo",value:function(t){var n=this.x-t.x,e=this.y-t.y,i=this.z-t.z;return Math.sqrt(n*n+e*e+i*i)}},{key:"getRectangle",value:function(t){return t/=2,new o.default(this.x-t/2,this.y-t/2,t,t)}},{key:"toString",value:function(){return"(x = "+this.x+", y = "+this.y+", z = "+this.z+")"}},{key:"equals",value:function(n){return n instanceof t&&(this===n||this.x===n.x&&this.y===n.y&&this.z===n.z)}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"normalize",value:function(){var t=this.x,n=this.y,e=this.z,i=t*t+n*n+e*e;i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=n*i,this.z=e*i)}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"getAngle",value:function(t){var n=this.x*t.x+this.y*t.y,e=this.x*t.y-this.y*t.x;return 180*Math.atan2(e,n)/Math.PI}},{key:"x",get:function(){return this.et},set:function(t){this.et=t}},{key:"y",get:function(){return this.it},set:function(t){this.it=t}},{key:"z",get:function(){return this.Ct},set:function(t){this.Ct=t}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(12),o=(i=u)&&i.__esModule?i:{default:i},a=e(29),c=e(18);var s={pos:a.ControlPos.topleft,classes:[]},f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.options=Object.assign({},s,t),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"addTo",value:function(t){var n=this;window.assert(t),this.Rt=t;var e=this.Nt=this.onAddTo(t);t.addThemeClass(e,"control"),t.addToScreenPos(this,e),"string"==typeof this.options.classes?(0,c.addClass)(this.Nt,this.options.classes):this.options.classes.forEach(function(t){return(0,c.addClass)(n.Nt,t)})}},{key:"removeFrom",value:function(t){!this.Nt||this.Nt.remove(),this.onRemoveTo(t),delete this.Rt}},{key:"hide",value:function(){this.Nt&&(this.Nt.style.display="none")}},{key:"show",value:function(){this.Nt&&(this.Nt.style.display="")}},{key:"onAddTo",value:function(t){return document.createElement("div")}},{key:"onRemoveTo",value:function(t){}},{key:"destroy",value:function(){delete this.options,delete this.Nt,delete this.Rt,function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"pos",get:function(){return this.options.pos},set:function(t){this.options.pos=t,this.Rt.addToScreenPos(this,this.Nt)}},{key:"container",get:function(){return this.Nt}}]),n}();n.default=f},function(t,n,e){var i=e(7).f,r=e(19),u=e(5)("toStringTag");t.exports=function(t,n,e){t&&!r(t=e?t:t.prototype,u)&&i(t,u,{configurable:!0,value:n})}},function(t,n,e){var i=e(0),r=e(33),u=e(3),o=e(109),a="["+o+"]",c=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),f=function(t,n,e){var r={},a=u(function(){return!!o[t]()||"​"!="​"[t]()}),c=r[t]=a?n(h):o[t];e&&(r[e]=c),i(i.P+i.F*a,"String",r)},h=f.trim=function(t,n){return t=String(r(t)),1&n&&(t=t.replace(c,"")),2&n&&(t=t.replace(s,"")),t};t.exports=f},function(t,n){t.exports={}},function(t,n,e){var i=e(4);t.exports=function(t,n){if(!i(t)||t.It!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=c(e(494)),o=c(e(73)),a=c(e(46));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"prepare",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Ft=e.get("cameraOffset")}},{key:"render",value:function(t,e,i,u){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,u);var c=this.Ft;if(c){var s=e.center;if(u instanceof o.default){var f=u.origin,h=new a.default(f.lng-s.lng,f.lat-s.lat);c.bind(h)}}}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(27),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"_4326to3857",value:function(t){var n=o.default.like(t),e=n.lng,i=n.lat,r=20037508.34*e/180,u=Math.log(Math.tan((90+i)*Math.PI/360))/Math.PI*20037508.34;return new o.default(r,u,3857).setAltitude(n.altitude)}},{key:"_3857to4326",value:function(t){var n=o.default.like(t),e=n.lng,i=n.lat,r=e/20037508.34*180,u=Math.atan(Math.pow(Math.E,i/20037508.34*Math.PI))/Math.PI*360-90;return new o.default(r,u,4326).setAltitude(n.altitude)}}]),t}();n.default=a},function(t,n,e){var i=e(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var i=e(25),r=e(5)("toStringTag"),u="Arguments"==i(function(){return arguments}());t.exports=function(t){var n,e,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),r))?e:u?i(n):"Object"==(o=i(n))&&"function"==typeof n.callee?"Arguments":o}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(44)),u=c(e(12)),o=c(e(27)),a=c(e(9));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.At=new o.default(0,0,3857),t.Dt={x:0,y:0,z:0},t.ft=0,t.Lt=0,t.ht=0,t.Pt=1,t.zt=1e5,t.Gt=0,t.ut=0,t.Bt=1,t.Ut=30/180*Math.PI,t.Wt=1,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"clearWorldMatrixCache",value:function(){delete this.Yt,this.fire("view_changed"),delete this.Vt}},{key:"clearProjectionMatrixCache",value:function(){delete this.Ht,delete this.Vt,this.fire("projection_changed")}},{key:"zoomToScale",value:function(t){return Math.pow(2,t)}},{key:"scaleToZoom",value:function(t){return Math.log(t)/Math.LN2}},{key:"destroy",value:function(){(function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"fov",get:function(){return this.Ut/Math.PI*180},set:function(t){(t=t*Math.PI/180)!==this.Ut&&(this.Ut=t,this.clearProjectionMatrixCache())}},{key:"aspect",get:function(){return this.Wt},set:function(t){this.Wt!==t&&(this.Wt=t,this.clearProjectionMatrixCache())}},{key:"projectionMatrix",get:function(){return this.Ht||(this.Ht=r.default.perspective(this.Ut,this.Wt,this.Pt,this.zt)),this.Ht}},{key:"viewProjectionMatrix",get:function(){return this.Vt||(this.Vt=this.projectionMatrix.multiply(this.worldInverseMatrix)),this.Vt}},{key:"worldInverseMatrix",get:function(){return this.Yt||(this.Yt=r.default.identity().translate(new a.default(0,0,-this.ut)).rotateX(-this.Lt).rotateZ(this.ft)),this.Yt}},{key:"origin",set:function(t){this.Kt=t}},{key:"eye",get:function(){return this.Dt}},{key:"center",get:function(){return this.At},set:function(t){this.At.lng===t.lng&&this.At.lat===t.lat||(this.At=t,this.Kt&&(this.Dt={x:t.lng-this.Kt.lng,y:t.lat-this.Kt.lat,z:this.ut}),this.clearWorldMatrixCache())}},{key:"zooming",get:function(){return this.Gt},set:function(t){this.ut=20037508.34/Math.pow(2,t)/Math.tan(this.Ut/2)*this.Bt,this.Gt=t,this.ht=this.zoomToScale(t)}},{key:"scale",get:function(){return this.ht}},{key:"rotation",get:function(){return this.ft/Math.PI*180},set:function(t){this.ft=t*Math.PI/180,this.clearWorldMatrixCache()}},{key:"skewing",get:function(){return this.Lt/Math.PI*180},set:function(t){this.Lt=t*Math.PI/180,this.clearWorldMatrixCache()}},{key:"near",get:function(){return this.Pt},set:function(t){this.Pt=t,this.clearProjectionMatrixCache()}},{key:"far",get:function(){return this.zt},set:function(t){this.zt=t,this.clearProjectionMatrixCache()}}]),n}();n.default=s},function(t,n,e){"use strict";function i(t){function n(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return n.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t,n}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i(Float32Array)),n}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(74)),u=o(e(203));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"parent",get:function(){return function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",this)},set:function(t){!function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",t,this);for(var e=t;e&&!(e instanceof u.default);)t&&(e=t.parent);e instanceof u.default&&(this.Kt=e.origin)}},{key:"origin",set:function(t){this.Kt=t},get:function(){return this.Kt}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=c(e(30)),o=(c(e(75)),e(97)),a=(c(o),c(e(40)));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return window.assert(t),e.Zt=t,e.Qt=0,e.Jt=new a.default,e.Xt=[],e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"addMesh",value:function(t){t.validate(),this.Xt.push({mesh:t,context:this.Zt.createMeshRenderingContext(t,this.qt)})}},{key:"removeMesh",value:function(t){for(var n=this.Xt,e=0;e<n.length;++e)t===n[e]&&n.splice(e,1)}},{key:"mesh",value:function(t){var n=this.Xt;return t>=n.length?null:n[t].mesh}},{key:"calculateBounds",value:function(){for(var t=this.Xt,n=t.length,e=this.Jt,i=0;i<n;++i)e.extendToBox(t[i].mesh.box);var r=e.min.transformMatrix4(this.worldMatrix),u=e.max.transformMatrix4(this.worldMatrix);this.pt=new a.default(r.x,r.y,r.z,u.x,u.y,u.z)}},{key:"addToRenderQueue",value:function(t,e,i){if(r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addToRenderQueue",this).call(this,t,e,i),this.visible){var u=e.zooming;u<this.wt&&u>this.bt&&this.Zt.addToQueue(this.v(),this)}}},{key:"clearWorldMatrixCache",value:function(){delete this.pt,r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"clearWorldMatrixCache",this).call(this)}},{key:"render",value:function(t,n){for(var e=this.Xt,i=e.length,r=0;r<i;++r)e[r].context.render(t,n,this)}},{key:"v",value:function(){return o.DEFAULT_RENDER_TARGET.MAIN}},{key:"renderingGroup",get:function(){return this.Qt},set:function(t){this.Qt=t}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(40)),u=o(e(9));e(136);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=[1,2,1,2,4,2],s=[DataView.prototype.setInt8,DataView.prototype.setInt16,DataView.prototype.setUint8,DataView.prototype.setUint16,DataView.prototype.setFloat32],f=1===new Uint8Array(new Uint16Array([1]))[0],h=function(){function t(n,e,i,r){a(this,t),this.$t=n,this.qt=i,this.tn=r,this.nn=e}return i(t,[{key:"flush",value:function(){this.nn&&this.nn.flush()}},{key:"indexBuffer",get:function(){return this.nn}},{key:"indexCount",get:function(){return this.nn?this.nn.indexCount:0},set:function(t){this.nn&&(this.nn.indexCount=t)}},{key:"topology",get:function(){return this.$t}},{key:"program",get:function(){return this.qt}},{key:"options",get:function(){return this.tn}},{key:"hasIndex",get:function(){return!!this.nn}}]),t}(),l=function(){function t(n){a(this,t),this.en=[],this.in=[],this.rn=new Map,this.Zt=n}return i(t,[{key:"part",value:function(t){return t<this.in.length?this.in[t]:null}},{key:"topology",value:function(t){return this.in[t].topology}},{key:"options",value:function(t){return this.in[t].options}},{key:"indexCount",value:function(t){var n=this.in[t].nn;return n?n.indexCount:0}},{key:"stride",value:function(t){return this.aY(t),this.en[t].stride}},{key:"attribute",value:function(t){return this.rn.get(t)}},{key:"vertexBuffer",value:function(t){return this.aY(t),this.en[t]}},{key:"indexBuffer",value:function(t){return this.in[t].indexBuffer}},{key:"setAttribute",value:function(t,n,e,i){var r=this.rn.get(t);if(!r)throw new Error("Attribute "+t+" not exist.");var u=r.descriptor,o=r.buffer,a=o.stride,h=u.offset,l=u.size,v=o.editRange(e*a,i*a),y=s[u.type].bind(v);if(1===l)for(var d=e;d<e+i;++d)y(d*a+h,n,f);else for(var b=c[u.type],w=e;w<e+i;++w)for(var p=0;p<l;++p)y(w*a+h+p*b,n[p],f)}},{key:"setIndices",value:function(t,n,e){var i=this.part(t);if(i&&i.indexBuffer)for(var r=i.indexBuffer.data,u=0;u<n.length;++u)r.setUint16(2*(e+u),n[u])}},{key:"setVertexData",value:function(t,n){this.aY(t),this.en[t].data=n}},{key:"createVertexBuffer",value:function(t){window.assert(t instanceof Array,"Descriptors must be an array of BufferAttributeDescriptor.");var n=this.en.length,e=this.Zt.createVertexBuffer(t);this.en[n]=e;var i=this.rn,r=!0,u=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;i.set(s.name,{descriptor:s,buffer:e})}}catch(t){u=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(u)throw o}}return e}},{key:"createPart",value:function(t,n,e){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]?this.Zt.createIndexBuffer(t):null,r=new h(t,i,n,e);return this.in.push(r),r}},{key:"validate",value:function(){}},{key:"aY",value:function(t){if(t>=this.en.length)throw new RangeError("Vertex buffer out of range.")}},{key:"flush",value:function(){for(var t=this.en,n=t.length,e=0;e<n;++e)t[e].flush();var i=this.in;n=i.length;for(var r=0;r<n;++r)i[r].flush()}},{key:"aZ",value:function(){var t=new r.default,n=this.rn.get("position");if(n)for(var e=n.descriptor,i=n.buffer,o=i.data,a=i.stride,c=e.offset,s=0,h=0;s<o.byteLength;s+=a,++h){var l=o.getFloat32(s+c,f),v=o.getFloat32(s+c+4,f),y=o.getFloat32(s+c+8,f);t.extendToPoint(new u.default(l,v,y))}}},{key:"parts",get:function(){return this.in}},{key:"vertexBufferCount",get:function(){return this.en.length}},{key:"vertexCount",get:function(){return this.en[0].vertexCount},set:function(t){for(var n=this.en,e=n.length,i=0;i<e;++i)n[i].vertexCount=t}},{key:"box",get:function(){return this.pt||this.aZ(),this.pt},set:function(t){window.assert(t instanceof r.default),this.pt=t}}]),t}();n.default=l},function(t,n,e){var i=e(23),r=e(2),u=r["un"]||(r["un"]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:i.version,mode:e(42)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,n,e){var i=e(20),r=e(8),u=e(51);t.exports=function(t){return function(n,e,o){var a,c=i(n),s=r(c.length),f=u(o,s);if(t&&e!=e){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===e)return t||f||0;return!t&&-1}}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var i=e(25);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,n,e){var i=e(4),r=e(25),u=e(5)("match");t.exports=function(t){var n;return i(t)&&(void 0!==(n=t[u])?!!n:"RegExp"==r(t))}},function(t,n,e){var i=e(5)("iterator"),r=!1;try{var u=[7][i]();u.return=function(){r=!0},Array.from(u,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!r)return!1;var e=!1;try{var u=[7],o=u[i]();o.next=function(){return{done:e=!0}},u[i]=function(){return o},t(u)}catch(t){}return e}},function(t,n,e){"use strict";var i=e(1);t.exports=function(){var t=i(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,e){"use strict";var i=e(14),r=e(15),u=e(3),o=e(33),a=e(5);t.exports=function(t,n,e){var c=a(t),s=e(o,c,""[t]),f=s[0],h=s[1];u(function(){var n={};return n[c]=function(){return 7},7!=""[t](n)})&&(r(String.prototype,t,f),i(RegExp.prototype,c,2==n?function(t,n){return h.call(t,this,n)}:function(t){return h.call(t,this)}))}},function(t,n,e){var i=e(1),r=e(11),u=e(5)("species");t.exports=function(t,n){var e,o=i(t).constructor;return void 0===o||void 0==(e=i(o)[u])?n:r(e)}},function(t,n,e){var i=e(2).navigator;t.exports=i&&i.userAgent||""},function(t,n,e){"use strict";var i=e(2),r=e(0),u=e(15),o=e(57),a=e(41),c=e(56),s=e(55),f=e(4),h=e(3),l=e(81),v=e(62),y=e(110);t.exports=function(t,n,e,d,b,w){var p=i[t],k=p,m=b?"set":"add",g=k&&k.prototype,O={},j=function(t){var n=g[t];u(g,t,"delete"==t?function(t){return!(w&&!f(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(w&&!f(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return w&&!f(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})};if("function"==typeof k&&(w||g.forEach&&!h(function(){(new k).entries().next()}))){var M=new k,_=M[m](w?{}:-0,1)!=M,E=h(function(){M.has(1)}),S=l(function(t){new k(t)}),x=!w&&h(function(){for(var t=new k,n=5;n--;)t[m](n,n);return!t.has(-0)});S||((k=n(function(n,e){s(n,k,t);var i=y(new p,n,k);return void 0!=e&&c(e,b,i[m],i),i})).prototype=g,g.constructor=k),(E||x)&&(j("delete"),j("has"),b&&j("get")),(x||_)&&j(m),w&&g.clear&&delete g.clear}else k=d.getConstructor(n,t,b,m),o(k.prototype,e),a.NEED=!0;return v(k,t),O[t]=k,r(r.G+r.W+r.F*(k!=p),O),w||d.setStrong(k,t,b),k}},function(t,n,e){for(var i,r=e(2),u=e(14),o=e(49),a=o("typed_array"),c=o("view"),s=!(!r.ArrayBuffer||!r.DataView),f=s,h=0,l="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[l[h++]])?(u(i.prototype,a,!0),u(i.prototype,c,!0)):f=!1;t.exports={ABV:s,CONSTR:f,TYPED:a,VIEW:c}},function(t,n,e){"use strict";t.exports=e(42)||!e(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e(2)[t]})},function(t,n,e){"use strict";var i=e(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,e){"use strict";var i=e(0),r=e(11),u=e(24),o=e(56);t.exports=function(t){i(i.S,t,{from:function(t){var n,e,i,a,c=arguments[1];return r(this),(n=void 0!==c)&&r(c),void 0==t?new this:(e=[],n?(i=0,a=u(c,arguments[2],2),o(t,!1,function(t){e.push(a(t,i++))})):o(t,!1,e.push,e),new this(e))}})}},function(t,n,e){"use strict";function i(t){function n(){var n=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(n,Object.getPrototypeOf(this)),n}return n.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t,n}Object.defineProperty(n,"__esModule",{value:!0});var r=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i(Float32Array)),n}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=l(e(46)),o=l(e(9)),a=l(e(72)),c=l(e(129)),s=l(e(44)),f=l(e(58)),h=e(47);function l(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,9)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return h.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.mat3.add(new n,this,t)}},{key:"adjoint",value:function(){return r.mat3.adjoint(new n,this)}},{key:"determinant",value:function(){return r.mat3.determinant(this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.mat3.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.mat3.exactEquals(this,t)}},{key:"frob",value:function(){return r.mat3.frob(this)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.mat3.multiply(new n,this,t)}},{key:"multiplyScalar",value:function(t){return r.mat3.multiplyScalar(new n,this,t)}},{key:"rotate",value:function(t){return r.mat3.rotate(new n,this,t)}},{key:"scale",value:function(t){return window.assert(t instanceof u.default),r.mat3.scale(new n,this,t)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.mat3.subtract(new n,this,t)}},{key:"translate",value:function(t){return window.assert(t instanceof u.default),r.mat3.translate(new n,this,t)}},{key:"transpose",value:function(){return r.mat3.transpose(new n,this)}},{key:"clone",value:function(){return new n(this)}},{key:"copy",value:function(t){window.assert(t instanceof n),(0,h.applyArguments)(t,this)}},{key:"toString",value:function(){return r.mat3.str(this)}}],[{key:"fromMatrix2x3",value:function(t){return window.assert(t instanceof c.default),r.mat3.fromMat2d(new n,t)}},{key:"fromMatrix4",value:function(t){return window.assert(t instanceof s.default),r.mat3.fromMat4(new n,t)}},{key:"fromQuaternion",value:function(t){return window.assert(t instanceof f.default),r.mat3.fromQuat(new n,t)}},{key:"fromRotation",value:function(t){return r.mat3.fromRotation(new n,t)}},{key:"fromScaling",value:function(t){return window.assert(t instanceof o.default),r.mat3.fromScaling(new n,t)}},{key:"fromTranslation",value:function(t){return window.assert(t instanceof u.default),r.mat3.fromTranslation(new n,t)}},{key:"normalFromMatrix4",value:function(t){return window.assert(t instanceof s.default),r.mat3.normalFromMat4(new n,t)}},{key:"identity",value:function(){return r.mat3.identity(new n)}}]),n}();n.default=v},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(130)),u=a(e(60)),o=a(e(28));function a(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var s=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.parseCoordinate(n)}return i(t,[{key:"parseCoordinate",value:function(t){var n=this;this.cn=[],this.sn=[],t.forEach(function(e,i){i>0&&n.cn.push(new r.default(t[i-1],e)),n.sn.push(e)})}},{key:"parseSegment",value:function(t){var n=this;this.cn=[],this.sn=[],t.forEach(function(t,e){0===e?n.sn.push(t.start,t.end):n.sn.push(t.end),n.cn.push(t)})}},{key:"splitLength",value:function(t){var n=this.getDistanceAndClosestPoint(t),e=n.closestPoint,i=n.index;return this.cn[i].splitLength(e)+this.cn.slice(i+1).reduce(function(t,n){return t+n.length},0)}},{key:"forEach",value:function(t){this.sn.forEach(t)}},{key:"clone",value:function(){return new t(this.sn.map(function(t){return new u.default(t.x,t.y,t.z)}))}},{key:"split",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=this.getDistanceAndClosestPoint(t).index,r=[],u=void 0;if(u=n?(r=this.cn.slice(i,this.size))[0]:(r=this.cn.slice(0,i+1))[r.length-1]){var o=u.split(t,n,e);o||r.splice(r.indexOf(u),1)}this.parseSegment(r)}},{key:"extend",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.cn[n?0:this.cn.length-1].variableLength(t,n),this.parseSegment(this.cn)}},{key:"getRectangle",value:function(){var t=Number.MAX_VALUE,n=Number.MAX_VALUE,e=Number.MIN_VALUE,i=Number.MIN_VALUE;return this.sn.forEach(function(r){var u=r.x,o=r.y;u<t&&(t=u),u>e&&(e=u),o<n&&(n=o),o>i&&(i=o)}),new o.default(t,n,e-t,i-n)}},{key:"reverse",value:function(){this.sn.reverse(),this.cn.reverse(),this.cn.forEach(function(t){return t.reverse()})}},{key:"containPoint",value:function(t){return 0!==this.cn.filter(function(n){return n.containPoint(t)}).length}},{key:"getDistanceAndClosestPoint",value:function(t){var n={distance:Number.MAX_VALUE,closestPoint:new u.default,index:-1};return this.cn.forEach(function(e,i){var r=e.getDistanceAndClosestPoint(t);r.distance<n.distance&&(n.closestPoint=r.closestPoint,n.distance=r.distance,n.index=i)}),n}},{key:"addBeforeCoordinates",value:function(t){var n;(n=this.sn).splice.apply(n,[0,0].concat(c(t))),this.parseCoordinate(this.sn)}},{key:"addAfterCoordinates",value:function(t){var n;(n=this.sn).push.apply(n,c(t)),this.parseCoordinate(this.sn)}},{key:"getCoordinate",value:function(t){return this.sn[t]}},{key:"merge",value:function(t){if(!t||0===t.length)return this;var n=this.sn.concat();return t.forEach(function(t){return t.forEach(function(t,e){return 0===e&&t.equals(n[n.length-1])||n.push(t)})}),this.parseCoordinate(n),this}},{key:"toNumberArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0};return this.sn.map(function(n){return[n.x+t.x,n.y+t.y,n.z+t.z]})}},{key:"size",get:function(){return this.sn.length}},{key:"start",get:function(){return this.sn[0]}},{key:"end",get:function(){return this.sn[this.sn.length-1]}},{key:"length",get:function(){var t=0;return this.cn.forEach(function(n){return t+=n.length}),t}},{key:"segments",get:function(){return this.cn}},{key:"firstSegment",get:function(){return this.cn[0]}},{key:"lastSegment",get:function(){return this.cn[this.cn.length-1]}}]),t}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(61)),u=e(29),o=c(e(191)),a=e(18);function c(t){return t&&t.__esModule?t:{default:t}}var s={display:"address",pos:u.ControlPos.topright,itemEq:function(t,n){return t===n},selectClass:["selected"],height:.6,autoHeight:!1},f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},s,t)));return e.r=function(){if(e.options.autoHeight&&e.hn){for(var t=e.hn.parentElement;t&&t!==document.body&&!(0,a.hasClass)(t,"mapcube-container");)t=t.parentElement;if(!t)return;var n=e.hn.scrollHeight;(0,a.addStyle)(e.hn,{height:Math.min(n,t.clientHeight*e.options.height)+"px"})}},e.p=e.p.bind(e),e.ln=e.options.adapter||new o.default,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"clearList",value:function(){if(this.Nt)for(;this.hn.firstChild;){var t=this.hn.firstChild;t.removeEventListener("click",this.p),this.hn.removeChild(t)}}},{key:"select",value:function(t){var n=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.Nt){for(var i=-1,r=0;r<this.ln.getSize();r++){var u=this.ln.getItem(r);this.options.itemEq(u,t)&&(i=r)}-1!==i&&(e&&this.fire("onChange",this.ln.getItem(this.vn),this.ln.getItem(i)),this.vn=i,this.scrollTo(t),[].map.call(this.hn.children,function(t,e){return n.options.selectClass.forEach(function(n){return e===i?(0,a.addClass)(t,n):(0,a.removeClass)(t,n)})}))}}},{key:"scrollTo",value:function(t){for(var n=this.ln.getSize-1,e=0;e<this.ln.getSize();e++){var i=this.ln.getItem(e);this.options.itemEq(i,t)&&(n=e)}var r=this.hn,u=r.clientHeight,o=r.scrollHeight,a=r.children[n],c=a.offsetTop,s=a.offsetHeight;u>=o||r.scrollTo(0,c-u/2+s/2)}},{key:"onAddTo",value:function(t){if(this.hn=this.ln.getItemContainer(this,t),!this.hn)throw new Error("generated container error!");return(this.Nt=document.createElement("div")).appendChild(this.hn),this.ln.on("refresh",this.q,this),this.q(),this.options.autoHeight&&window.addEventListener("optimizedResize",this.r),this.Nt}},{key:"onRemoveTo",value:function(){this.clearList(),this.ln.off("refresh",this.q,this),this.options.autoHeight&&window.removeEventListener("optimizedResize",this.r)}},{key:"p",value:function(t){t.preventDefault(),t.stopPropagation(),this.select(this.ln.getItem([].indexOf.call(this.hn.children,t.target)))}},{key:"q",value:function(){if(this.Nt){this.clearList();for(var t=0;t<this.ln.getSize();t++){var n=this.ln.getItemView(this,this.Rt,t);n.addEventListener("click",this.p),this.hn.appendChild(n)}this.r()}}},{key:"adapter",get:function(){return this.ln}},{key:"currentItem",get:function(){return this.ln.getItem(this.vn)}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(197),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(n,e,i,r,u,o,a){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.assert(i,"Position cannot be null."),window.assert(r instanceof Array,"Properties must be an array."),this.dt=n,this.yn=e,this.dn=i,this.bn=r,this.wn=[],this.pn=u,this.kn=o,this.mn=a}return r(t,[{key:"get",value:function(t){if("string"==typeof t){var n=this.yn.get(t);return n?this.bn[n.index]:null}if("number"==typeof t)return this.bn[t]}},{key:"set",value:function(t,n){if("string"==typeof t){var e=this.yn.get(t);e||(e=new o.default(t,this.bn.length,0),this.yn.set(t,e)),this.bn[e.index]=n}else"number"==typeof t&&(this.bn[t]=n)}},{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"position",get:function(){return this.dn},set:function(t){this.dn=t}},{key:"nodes",get:function(){return this.wn}},{key:"style",get:function(){return this.pn}},{key:"storeyCollection",get:function(){return this.kn}},{key:"storey",get:function(){return this.mn}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(12),o=(i=u)&&i.__esModule?i:{default:i},a=e(18);var c=function(t){function n(t,e,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var u=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return u.rt=t.offsetWidth,u.ut=t.offsetHeight,u.gn=t,u.Nt=e,u.On=i,u.jn=r,u.Mn=function(){var t=e.offsetWidth||400,n=e.offsetHeight||300;u.reSize(t,n)},window.addEventListener("resize",u.Mn,!1),(0,a.addClass)(e,"mapcube-container"),u}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"reSize",value:function(t,n){this.width=t,this.height=n,this.fire("reSize",{width:t,height:n})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.Mn,!1),delete this.gn,delete this.Nt,delete this.On,delete this._n,delete this.Mn,function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}},{key:"container",get:function(){return this.Nt}},{key:"canvas",get:function(){return this.gn}},{key:"size",get:function(){return[this.gn.width,this.gn.height]}},{key:"aspect",get:function(){return this.gn.clientWidth/this.gn.clientHeight}},{key:"gl",get:function(){return this.On}},{key:"width",get:function(){return this.rt},set:function(t){this.rt=t,this.gn.style.width=t+"px",this.gn.width=t*this.jn}},{key:"height",get:function(){return this.ut},set:function(t){this.ut=t,this.gn.style.height=t+"px",this.gn.height=t*this.jn}},{key:"fps",set:function(t){this._n.innerText=t+" FPS"}},{key:"devicePixelRatio",get:function(){return this.jn}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_RENDER_TARGET=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=p(e(462)),u=p(e(464)),o=p(e(466)),a=p(e(468)),c=p(e(470)),s=p(e(471)),f=p(e(472)),h=p(e(201)),l=p(e(202)),v=p(e(473)),y=p(e(475)),d=p(e(476)),b=p(e(477)),w=p(e(96));function p(t){return t&&t.__esModule?t:{default:t}}function k(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var m={RENDERING:0,SELECTION:1},g=n.DEFAULT_RENDER_TARGET={TEXTURE:Symbol("texture"),MAIN:Symbol("main")},O=function(){function t(n,e,i,u){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.devicePixelRatio||1;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.assert(n instanceof w.default),this.En=!!u;var a=new f.default(n.gl);console.info("Initializing WebGL Renderer for MapCube.");var s=a.getParameter(a.VERSION),v=a.getSupportedExtensions();v.sort(),console.info("Using WebGL:\n\tVersion: "+s+".\n\tVendor: "+a.getParameter(a.VENDOR)+"\n\tSupported extensions: ");var y=!0,d=!1,b=void 0;try{for(var p,O=v[Symbol.iterator]();!(y=(p=O.next()).done);y=!0){var j=p.value;console.info("\t\t"+j)}}catch(t){d=!0,b=t}finally{try{!y&&O.return&&O.return()}finally{if(d)throw b}}this.glVersion=parseFloat(/WebGL (\d\.\d)/.exec(s)[1]),this.extensions=new Set(a.getSupportedExtensions()),this.programs=new Map;var M=[].concat(k(n.size));this.Sn=new c.default(a,M),this.xn=e,this.Tn=i,this.An=m.RENDERING,this.jn=o,this.gl=a,this.resize.apply(this,k(M)),this.Cn=new Map,this.addTarget(g.MAIN,new h.default(this)),this.addTarget(g.TEXTURE,new l.default(this,n)),this.En&&(this.Rn=(0,r.default)(a,[a.CULL_FACE,a.CULL_FACE_MODE,a.DEPTH_TEST,a.FRONT_FACE,a.BLEND,a.CURRENT_PROGRAM]))}return i(t,[{key:"supportUIntIndex",value:function(){return this.glVersion>=2||this.extensions.has("OES_element_index_uint")}},{key:"supportVertexArrayObject",value:function(){return this.glVersion>=2||this.extensions.has("OES_vertex_array_object")}},{key:"supportInstancedArrays",value:function(){return this.glVersion>=2||this.extensions.has("ANGLE_instanced_arrays")}},{key:"createMeshRenderingContext",value:function(t,n){return new s.default(this,t)}},{key:"createTexture",value:function(t,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new v.default(this.gl,t,n,e)}},{key:"createVertexBuffer",value:function(t){return new u.default(this.gl,t)}},{key:"createIndexBuffer",value:function(t){return new o.default(this.gl,t)}},{key:"createFrameBuffer",value:function(){return new d.default(this.gl)}},{key:"createMesh",value:function(){return new y.default(this)}},{key:"createProgram",value:function(t){var n=this.programs.get(t);return n||(n=new a.default(this,(0,b.default)(t)),this.programs.set(t,n)),n}},{key:"setBackgroundColor",value:function(t){this.gl.clearColor(t.r,t.g,t.b,t.a)}},{key:"clear",value:function(){var t=this.gl;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}},{key:"dispose",value:function(){this.programs.forEach(function(t){return t.dispose()})}},{key:"begin",value:function(){var t=this.gl;this.En&&this.Rn.push(),[].concat(k(this.Cn.values())).forEach(function(t){return t.init()}),t.enable(t.CULL_FACE),t.cullFace(t.BACK),t.frontFace(t.CCW),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.depthMask(!0)}},{key:"end",value:function(){var t=this,n=this.xn,e=this.Tn,i=[].concat(k(this.Cn.values()));i.sort(function(t,n){return t.targetIndex-n.targetIndex}),i.forEach(function(i){t.An!==m.SELECTION&&i.begin(),i.render(e,n),t.An!==m.SELECTION&&i.end()}),this.En&&this.Rn.pop()}},{key:"addTarget",value:function(t,n){this.Cn.set(t,n)}},{key:"getTarget",value:function(t){return this.Cn.get(t)}},{key:"addToQueue",value:function(t,n){var e=this.Cn.get(t);e&&e.addToTarget(n)}},{key:"beginSelection",value:function(){var t=this.gl;this.An=m.SELECTION,this.Sn.activate(),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}},{key:"endSelection",value:function(){this.Sn.deactivate(),this.An=m.RENDERING}},{key:"select",value:function(t,n){return t*=this.jn,n=this.Nn[1]-n*this.jn,this.Sn.getNodeId(t,n)}},{key:"resize",value:function(t,n){this.Nn=[t,n],this.gl.viewport(0,0,t,n),this.Sn.resize(t,n)}},{key:"viewportSize",get:function(){return this.Nn}},{key:"mode",get:function(){return this.An}},{key:"devicePixelRatio",get:function(){return this.jn}}]),t}();n.default=O},function(t,n,e){"use strict"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=n.SIDE={DOUBLE:function(t){t.disable(t.CULL_FACE)},FRONT:function(t){t.enable(t.CULL_FACE),t.cullFace(t.BACK)},BACK:function(t){t.enable(t.CULL_FACE),t.cullFace(t.FRONT)}},u=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.In=!0,this.Fn=r.DOUBLE,this.sfactor=1,this.dfactor=771}return i(t,[{key:"prepare",value:function(t){var n=t.attributes;this.dt=n.get("id")}},{key:"render",value:function(t,n,e,i){var r=this.dt;r&&r.bind(i.id)}},{key:"shaderLib",value:function(){return""}},{key:"side",get:function(){return this.Fn},set:function(t){this.Fn=t}},{key:"depthTest",get:function(){return this.In},set:function(t){this.In=t}},{key:"instanceArrays",get:function(){return this.Dn},set:function(t){this.Dn=t}},{key:"sfactor",set:function(t){this.Ln=t},get:function(){return this.Ln}},{key:"dfactor",set:function(t){this.Pn=t},get:function(){return this.Pn}}]),t}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.zn=n,this.g=0,this.h=0}return i(t,[{key:"findPath",value:function(t){return this.Gn&&this.Gn.get(t.vertex.id)}},{key:"loadPaths",value:function(t){var n=this;this.Gn||(this.Gn=new Map,t.forEach(function(t){n.Gn&&n.Gn.set(t.to.vertex.id,t)}))}},{key:"toString",value:function(){return this.vertex.toString()}},{key:"equals",value:function(t){return this===t||!!t&&this.vertex.equals(t.vertex)}},{key:"parent",get:function(){return this.kt},set:function(t){this.kt=t}},{key:"vertex",get:function(){return this.zn}},{key:"paths",get:function(){return!this.needLoadPaths&&this.Gn&&this.Gn.values()}},{key:"g",get:function(){return this.Bn},set:function(t){this.Bn=t}},{key:"h",get:function(){return this.Un},set:function(t){this.Un=t}},{key:"needLoadPaths",get:function(){return!this.Gn}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=d(e(226)),u=d(e(31)),o=d(e(535)),a=d(e(142)),c=e(134),s=d(c),f=d(e(40)),h=d(e(536)),l=d(e(143)),v=e(13),y=d(e(9));e(98);function d(t){return t&&t.__esModule?t:{default:t}}var b=[new u.default("position",v.MeshAttributeType.FLOAT,0,3),new u.default("st",v.MeshAttributeType.FLOAT,12,2),new u.default("textureSize",v.MeshAttributeType.FLOAT,20,2)],w=[new u.default("offset",v.MeshAttributeType.FLOAT,0,2)],p=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=[],u=!0,f=!1,l=void 0;try{for(var y,d=e[Symbol.iterator]();!(u=(y=d.next()).done);u=!0){var p=y.value,k=p.meshCount,m=p.slices,g=p.ratio,O=t.createTexture(p.image,g),j=m.length,M=new a.default(t),_=M.createVertexBuffer(b),E=M.createVertexBuffer(w);_.data=new Float32Array(28*k),E.data=new Float32Array(8*k);for(var S=[],x=0;x<j;++x)S.push(new o.default(O,m[x]));for(var T=new h.default(O),A=M.createPart(v.VertexTopology.TRIANGLES,T.shaderLib(),T),C=[],R=0;R<k;++R){M.addSlice(new s.default(M,new c.Slice(4*R,4),[new c.Slice(6*R,6)]));var N=4*R;C.push(N+1,N,N+2,N+2,N+3,N+1)}A.indexBuffer&&(A.indexBuffer.data=new Uint16Array(C)),i.addMesh(M),r.push({mesh:M,texture:O,textureSlices:S,remaining:k})}}catch(t){f=!0,l=t}finally{try{!u&&d.return&&d.return()}finally{if(f)throw l}}return i.Wn=r,i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,l.default),i(n,[{key:"nextSlice",value:function(t,n){var e=this.Wn;if(e.length<=t)return null;var i=e[t],r=i.textureSlices;if(r.length<=n)return null;var u=r[n];if(i.remaining<=0)return null;var o=--i.remaining;return[u,i.mesh.slice(o)]}},{key:"calculateBounds",value:function(){for(var t=new f.default,n=this.yt,e=n.length,i=0;i<e;++i)t.extendToBox(n[i].box);this.pt=t}},{key:"collides",value:function(t,n,e){for(var i=this.yt,u=i.length,o=this.Kt,a=n.center,c=new y.default(o.lng-a.lng,o.lat-a.lat,0),s=0;s<u;++s){var f=i[s];f instanceof r.default&&f.collides(t,n,c,e)}}}]),n}();n.default=p},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=u(e(542));u(e(59));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.feature=t,e.Yn=!1,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"fillColor",get:function(){return this.Vn},set:function(t){this.Vn=t;var n=this.Hn,e=this.kt;n&&e&&n.setAttribute("fillColor",this.Vn)}},{key:"strokeColor",get:function(){return this.Kn},set:function(t){this.Kn=t;var n=this.Hn,e=this.kt;n&&e&&n.setAttribute("strokeColor",this.Kn)}},{key:"highlightColor",get:function(){return this.Zn},set:function(t){this.Zn=t}},{key:"highlight",set:function(t){this.Hn&&this.Vn&&this.Yn!==t&&(this.Hn.setAttribute("fillColor",this.Zn&&t?this.Zn:this.Vn),this.Yn=t)}},{key:"parent",get:function(){return this.kt},set:function(t){!function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",t,this);var e=this.Hn;e&&(this.Vn&&e.setAttribute("fillColor",this.Vn),this.Kn&&e.setAttribute("strokeColor",this.Kn))}}]),n}();n.default=o},function(t,n,e){var i=e(4),r=e(2).document,u=i(r)&&i(r.createElement);t.exports=function(t){return u?r.createElement(t):{}}},function(t,n,e){var i=e(2),r=e(23),u=e(42),o=e(147),a=e(7).f;t.exports=function(t){var n=r.Symbol||(r.Symbol=u?{}:i.Symbol||{});"_"==t.charAt(0)||t in n||a(n,t,{value:o.f(t)})}},function(t,n,e){var i=e(76)("keys"),r=e(49);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,e){var i=e(2).document;t.exports=i&&i.documentElement},function(t,n,e){var i=e(4),r=e(1),u=function(t,n){if(r(t),!i(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=e(24)(Function.call,e(21).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return u(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:u}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,e){var i=e(4),r=e(108).set;t.exports=function(t,n,e){var u,o=n.constructor;return o!==e&&"function"==typeof o&&(u=o.prototype)!==e.prototype&&i(u)&&r&&r(t,u),t}},function(t,n,e){"use strict";var i=e(34),r=e(33);t.exports=function(t){var n=String(r(this)),e="",u=i(t);if(u<0||u==1/0)throw RangeError("Count can't be negative");for(;u>0;(u>>>=1)&&(n+=n))1&u&&(e+=n);return e}},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n){var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},function(t,n,e){var i=e(34),r=e(33);t.exports=function(t){return function(n,e){var u,o,a=String(r(n)),c=i(e),s=a.length;return c<0||c>=s?t?"":void 0:(u=a.charCodeAt(c))<55296||u>56319||c+1===s||(o=a.charCodeAt(c+1))<56320||o>57343?t?a.charAt(c):u:t?a.slice(c,c+2):o-56320+(u-55296<<10)+65536}}},function(t,n,e){"use strict";var i=e(42),r=e(0),u=e(15),o=e(14),a=e(64),c=e(116),s=e(62),f=e(22),h=e(5)("iterator"),l=!([].keys&&"next"in[].keys()),v=function(){return this};t.exports=function(t,n,e,y,d,b,w){c(e,n,y);var p,k,m,g=function(t){if(!l&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},O=n+" Iterator",j="values"==d,M=!1,_=t.prototype,E=_[h]||_["@@iterator"]||d&&_[d],S=E||g(d),x=d?j?g("entries"):S:void 0,T="Array"==n&&_.entries||E;if(T&&(m=f(T.call(new t)))!==Object.prototype&&m.next&&(s(m,O,!0),i||"function"==typeof m[h]||o(m,h,v)),j&&E&&"values"!==E.name&&(M=!0,S=function(){return E.call(this)}),i&&!w||!l&&!M&&_[h]||o(_,h,S),a[n]=S,a[O]=v,d)if(p={values:j?S:g("values"),keys:b?S:g("keys"),entries:x},w)for(k in p)k in _||u(_,k,p[k]);else r(r.P+r.F*(l||M),n,p);return p}},function(t,n,e){"use strict";var i=e(52),r=e(48),u=e(62),o={};e(14)(o,e(5)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=i(o,{next:r(1,e)}),u(t,n+" Iterator")}},function(t,n,e){var i=e(80),r=e(33);t.exports=function(t,n,e){if(i(n))throw TypeError("String#"+e+" doesn't accept regex!");return String(r(t))}},function(t,n,e){var i=e(5)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,e){var i=e(64),r=e(5)("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||u[r]===t)}},function(t,n,e){"use strict";var i=e(7),r=e(48);t.exports=function(t,n,e){n in t?i.f(t,n,r(0,e)):t[n]=e}},function(t,n,e){var i=e(70),r=e(5)("iterator"),u=e(64);t.exports=e(23).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||u[i(t)]}},function(t,n,e){var i=e(324);t.exports=function(t,n){return new(i(t))(n)}},function(t,n,e){"use strict";var i=e(10),r=e(51),u=e(8);t.exports=function(t){for(var n=i(this),e=u(n.length),o=arguments.length,a=r(o>1?arguments[1]:void 0,e),c=o>2?arguments[2]:void 0,s=void 0===c?e:r(c,e);s>a;)n[a++]=t;return n}},function(t,n,e){"use strict";var i=e(43),r=e(163),u=e(64),o=e(20);t.exports=e(115)(Array,"Array",function(t,n){this.It=o(t),this.Qn=0,this.Jn=n},function(){var t=this.It,n=this.Jn,e=this.Qn++;return!t||e>=t.length?(this.It=void 0,r(1)):r(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},function(t,n,e){var i,r,u,o=e(24),a=e(153),c=e(107),s=e(103),f=e(2),h=f.process,l=f.setImmediate,v=f.clearImmediate,y=f.MessageChannel,d=f.Dispatch,b=0,w={},p=function(){var t=+this;if(w.hasOwnProperty(t)){var n=w[t];delete w[t],n()}},k=function(t){p.call(t.data)};l&&v||(l=function(t){for(var n=[],e=1;arguments.length>e;)n.push(arguments[e++]);return w[++b]=function(){a("function"==typeof t?t:Function(t),n)},i(b),b},v=function(t){delete w[t]},"process"==e(25)(h)?i=function(t){h.nextTick(o(p,t,1))}:d&&d.now?i=function(t){d.now(o(p,t,1))}:y?(u=(r=new y).port2,r.port1.onmessage=k,i=o(u.postMessage,u,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(i=function(t){f.postMessage(t+"","*")},f.addEventListener("message",k,!1)):i="onreadystatechange"in s("script")?function(t){c.appendChild(s("script")).onreadystatechange=function(){c.removeChild(this),p.call(t)}}:function(t){setTimeout(o(p,t,1),0)}),t.exports={set:l,clear:v}},function(t,n,e){var i=e(2),r=e(125).set,u=i.MutationObserver||i.WebKitMutationObserver,o=i.process,a=i.Promise,c="process"==e(25)(o);t.exports=function(){var t,n,e,s=function(){var i,r;for(c&&(i=o.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?e():n=void 0,i}}n=void 0,i&&i.enter()};if(c)e=function(){o.nextTick(s)};else if(!u||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);e=function(){f.then(s)}}else e=function(){r.call(i,s)};else{var h=!0,l=document.createTextNode("");new u(s).observe(l,{characterData:!0}),e=function(){l.data=h=!h}}return function(i){var r={fn:i,next:void 0};n&&(n.next=r),t||(t=r,e()),n=r}}},function(t,n,e){"use strict";var i=e(11);t.exports.f=function(t){return new function(t){var n,e;this.promise=new t(function(t,i){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=i}),this.resolve=i(n),this.reject=i(e)}(t)}},function(t,n,e){"use strict";var i=e(2),r=e(6),u=e(42),o=e(87),a=e(14),c=e(57),s=e(3),f=e(55),h=e(34),l=e(8),v=e(172),y=e(53).f,d=e(7).f,b=e(123),w=e(62),p="prototype",k="Wrong index!",m=i.ArrayBuffer,g=i.DataView,O=i.Math,j=i.RangeError,M=i.Infinity,_=m,E=O.abs,S=O.pow,x=O.floor,T=O.log,A=O.LN2,C=r?"_b":"buffer",R=r?"_l":"byteLength",N=r?"_o":"byteOffset";function I(t,n,e){var i,r,u,o=new Array(e),a=8*e-n-1,c=(1<<a)-1,s=c>>1,f=23===n?S(2,-24)-S(2,-77):0,h=0,l=t<0||0===t&&1/t<0?1:0;for((t=E(t))!=t||t===M?(r=t!=t?1:0,i=c):(i=x(T(t)/A),t*(u=S(2,-i))<1&&(i--,u*=2),(t+=i+s>=1?f/u:f*S(2,1-s))*u>=2&&(i++,u/=2),i+s>=c?(r=0,i=c):i+s>=1?(r=(t*u-1)*S(2,n),i+=s):(r=t*S(2,s-1)*S(2,n),i=0));n>=8;o[h++]=255&r,r/=256,n-=8);for(i=i<<n|r,a+=n;a>0;o[h++]=255&i,i/=256,a-=8);return o[--h]|=128*l,o}function F(t,n,e){var i,r=8*e-n-1,u=(1<<r)-1,o=u>>1,a=r-7,c=e-1,s=t[c--],f=127&s;for(s>>=7;a>0;f=256*f+t[c],c--,a-=8);for(i=f&(1<<-a)-1,f>>=-a,a+=n;a>0;i=256*i+t[c],c--,a-=8);if(0===f)f=1-o;else{if(f===u)return i?NaN:s?-M:M;i+=S(2,n),f-=o}return(s?-1:1)*i*S(2,f-n)}function D(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function L(t){return[255&t]}function P(t){return[255&t,t>>8&255]}function z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return I(t,52,8)}function B(t){return I(t,23,4)}function U(t,n,e){d(t[p],n,{get:function(){return this[e]}})}function W(t,n,e,i){var r=v(+e);if(r+n>t[R])throw j(k);var u=t[C].Xn,o=r+t[N],a=u.slice(o,o+n);return i?a:a.reverse()}function Y(t,n,e,i,r,u){var o=v(+e);if(o+n>t[R])throw j(k);for(var a=t[C].Xn,c=o+t[N],s=i(+r),f=0;f<n;f++)a[c+f]=s[u?f:n-f-1]}if(o.ABV){if(!s(function(){m(1)})||!s(function(){new m(-1)})||s(function(){return new m,new m(1.5),new m(NaN),"ArrayBuffer"!=m.name})){for(var V,H=(m=function(t){return f(this,m),new _(v(t))})[p]=_[p],K=y(_),Z=0;K.length>Z;)(V=K[Z++])in m||a(m,V,_[V]);u||(H.constructor=m)}var Q=new g(new m(2)),J=g[p].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||c(g[p],{setInt8:function(t,n){J.call(this,t,n<<24>>24)},setUint8:function(t,n){J.call(this,t,n<<24>>24)}},!0)}else m=function(t){f(this,m,"ArrayBuffer");var n=v(t);this.Xn=b.call(new Array(n),0),this[R]=n},g=function(t,n,e){f(this,g,"DataView"),f(t,m,"DataView");var i=t[R],r=h(n);if(r<0||r>i)throw j("Wrong offset!");if(r+(e=void 0===e?i-r:l(e))>i)throw j("Wrong length!");this[C]=t,this[N]=r,this[R]=e},r&&(U(m,"byteLength","_l"),U(g,"buffer","_b"),U(g,"byteLength","_l"),U(g,"byteOffset","_o")),c(g[p],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var n=W(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=W(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return D(W(this,4,t,arguments[1]))},getUint32:function(t){return D(W(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(W(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(W(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){Y(this,1,t,L,n)},setUint8:function(t,n){Y(this,1,t,L,n)},setInt16:function(t,n){Y(this,2,t,P,n,arguments[2])},setUint16:function(t,n){Y(this,2,t,P,n,arguments[2])},setInt32:function(t,n){Y(this,4,t,z,n,arguments[2])},setUint32:function(t,n){Y(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){Y(this,4,t,B,n,arguments[2])},setFloat64:function(t,n){Y(this,8,t,G,n,arguments[2])}});w(m,"ArrayBuffer"),w(g,"DataView"),a(g[p],o.VIEW,!0),n.ArrayBuffer=m,n.DataView=g},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=c(e(46)),o=c(e(72)),a=e(47);function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,6)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return a.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.mat2d.add(new n,this,t)}},{key:"determinant",value:function(){return r.mat2d.determinant(this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.mat2d.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.mat2d.exactEquals(t)}},{key:"frob",value:function(){return r.mat2d.frob(this)}},{key:"invert",value:function(){return r.mat2d.invert(new n,this)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.mat2d.multiply(new n,this,t)}},{key:"multiplyScalar",value:function(t){return r.mat2d.multiplyScalar(new n,this,t)}},{key:"rotate",value:function(t){return r.mat2d.rotate(new n,this,t)}},{key:"scale",value:function(t){return window.assert(t instanceof u.default),r.mat2d.scale(new n,this,t)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.mat2d.subtract(new n,this,t)}},{key:"translate",value:function(t){return window.assert(t instanceof u.default),r.mat2d.translate(new n,this,t)}},{key:"clone",value:function(){return new n(this)}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,a.applyArguments)(t,this)}},{key:"toString",value:function(){return r.mat2d.str(this)}}],[{key:"fromRotation",value:function(t){return r.mat2d.fromRotation(new n,t)}},{key:"fromScaling",value:function(t){return r.mat2d.fromScaling(new n,t)}},{key:"fromTranslation",value:function(t){return window.assert(t instanceof u.default),r.mat2d.fromTranslation(new n,t)}},{key:"identity",value:function(){return r.mat2d.identity(new n)}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(60)),u=o(e(28));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.assert(n instanceof r.default),window.assert(e instanceof r.default),this.qn=n,this.$n=e}return i(t,[{key:"splitLength",value:function(t){return this.end.distanceTo(t)}},{key:"reverse",value:function(){var t=this.start;return this.start=this.end,this.end=t,this}},{key:"containPoint",value:function(t){var n=this.start,e=this.end;return Math.abs(n.distanceTo(t)+e.distanceTo(t)-n.distanceTo(e))<1e-8}},{key:"getDistanceAndClosestPoint",value:function(t){var n=this.start,e=this.end,i=this.aI(e,n),r=this.aJ(i,i),u=n;if(r>0){var o=((t.x-n.x)*i.x+(t.y-n.y)*i.y+(t.z-n.z)*i.z)/r;u=o>1?e.clone():o>0?this.aK(n,this.aL(i,o)):n}return{distance:t.distanceTo(u),closestPoint:u}}},{key:"split",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=this.getDistanceAndClosestPoint(t).closestPoint,r=void 0,u=void 0,o=!1;return n?(r=this.start,u=this.end):(r=this.end,u=this.start),i.distanceTo(u)>1e-8?(r.set(i),o=!0):o&&e<r.distanceTo(u)&&(this.fixedLength(e,n),o=!0),o}},{key:"fixedLength",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.aM(t,n,!1)}},{key:"variableLength",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.aM(t,n)}},{key:"aM",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=void 0,u=void 0,o=new r.default;n?(i=this.end,u=this.start,this.start=o):(i=this.start,u=this.end,this.end=o),o.set(u.x-i.x,u.y-i.y,u.z-i.z),o.normalize(),o.scale(t),o.add(e?u:i)}},{key:"aK",value:function(t,n){return new r.default(t.x+n.x,t.y+n.y,t.z+n.z)}},{key:"aI",value:function(t,n){return new r.default(t.x-n.x,t.y-n.y,t.z-n.z)}},{key:"aJ",value:function(t,n){return t.x*n.x+t.y*n.y+t.z*n.z}},{key:"aL",value:function(t,n){return new r.default(t.x*n,t.y*n,t.z*n)}},{key:"start",get:function(){return this.qn},set:function(t){this.qn=t}},{key:"end",get:function(){return this.$n},set:function(t){this.$n=t}},{key:"length",get:function(){return this.start.distanceTo(this.end)}},{key:"rectangle",get:function(){var t=this.start,n=this.end,e=t.x,i=t.y,r=n.x,o=n.y;if(e>r){var a=[r,e];e=a[0],r=a[1]}if(i>o){var c=[o,i];i=c[0],o=c[1]}return new u.default(e,i,r-e,o-i)}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=s(e(91)),o=s(e(44)),a=s(e(58)),c=e(47);function s(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,4)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return c.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.vec4.add(new n,this,t)}},{key:"ceil",value:function(){return r.vec4.ceil(new n,this)}},{key:"distanceTo",value:function(t){return window.assert(t instanceof n),r.vec4.distance(this,t)}},{key:"divide",value:function(t){return window.assert(t instanceof n),r.vec4.divide(new n,this,t)}},{key:"dot",value:function(t){return window.assert(t instanceof n),r.vec4.dot(this,t)}},{key:"floor",value:function(){return r.vec4.floor(new n,this)}},{key:"inverse",value:function(){return r.vec4.inverse(new n,this)}},{key:"getLength",value:function(){return r.vec4.length(this)}},{key:"lerp",value:function(t,e){return window.assert(t instanceof n),r.vec4.lerp(new n,this,t,e)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.vec4.multiply(new n,this,t)}},{key:"negate",value:function(){return r.vec4.negate(new n,this)}},{key:"normalize",value:function(){return r.vec4.normalize(new n,this)}},{key:"round",value:function(){return r.vec4.round(new n,this)}},{key:"scale",value:function(t){return r.vec4.scale(new n,this,t)}},{key:"squaredDistanceTo",value:function(t){return window.assert(t instanceof n),r.vec4.squaredDistance(this,t)}},{key:"squaredLength",value:function(){return r.vec4.squaredLength(this)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.vec4.subtract(new n,t)}},{key:"transformMatrix4",value:function(t){return window.assert(t instanceof o.default),r.vec4.transformMat4(new n,this,t)}},{key:"transformQuaternion",value:function(t){return window.assert(t instanceof a.default),r.vec4.transformQuat(new n,this,t)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.vec4.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.vec4.exactEquals(this,t)}},{key:"clone",value:function(){return new n(this)}},{key:"copyTo",value:function(t){window.assert(t instanceof n),(0,c.applyArguments)(t,this)}},{key:"toString",value:function(){return r.vec4.str(this)}},{key:"x",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"y",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"z",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"w",get:function(){return this[3]},set:function(t){this[3]=t}},{key:"r",get:function(){return this[0]},set:function(t){this[0]=t}},{key:"g",get:function(){return this[1]},set:function(t){this[1]=t}},{key:"b",get:function(){return this[2]},set:function(t){this[2]=t}},{key:"a",get:function(){return this[3]},set:function(t){this[3]=t}}],[{key:"max",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec4.max(new n,t,e)}},{key:"min",value:function(t,e){return window.assert(t instanceof n),window.assert(e instanceof n),r.vec4.min(new n,t,e)}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(17),u=a(e(12)),o=a(e(133));function a(t){return t&&t.__esModule?t:{default:t}}var c={easing:function(t){return t},interpolation:function(t,n){var e=t.length-1,i=e*n,r=Math.floor(i),u=function(t,n,e){return(n-t)*e+t};return n<0?u(t[0],t[1],i):n>1?u(t[e],t[e-1],e-i):u(t[r],t[r+1>e?e:r+1],i-r)},delay:0},s=0,f=function(t){function n(t,e,i,r,u){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));o.dt=s++;var a=Object.assign({},u),f=a.interpolation,h=a.easing,l=a.delay;return o.te=h||c.easing,o.ne=f||c.interpolation,o.ee=l||c.delay,o.ie=r,o.Rt=t,o.re=!1,o.ue=!1,o.oe=0,o.from(e),o.to(i),o}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"from",value:function(t){return this.ae=this.ce=(0,r.isNull)(t)?this.ce:this.t(t),this.ue=!0,this}},{key:"to",value:function(t){return this.se=(0,r.isNull)(t)?this.se:this.t(t),this.ue=!0,this}},{key:"easing",value:function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t){return this.te=t,this})},{key:"interpolation",value:function(t){return this.ne=t,this}},{key:"onAdd",value:function(t){}},{key:"onRemove",value:function(t){}},{key:"start",value:function(t){return window.assert(this.Rt),this.re?this:(this.fe=t||o.default.now(),this.fe+=this.ee,this.ue&&!this.u()?(this.Rt.removeAnimator(this),this):(this.Rt.addAnimator(this),this.ue=!1,this.re=!0,this))}},{key:"delay",value:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.ee=t,this})},{key:"repeat",value:function(t){return this.oe=t,this}},{key:"nextFrame",value:function(t){if(t<this.fe||!this.ce||!this.se)return!0;this.listens("start")&&(this.fire("start",this,this.ae),this.cleanListens("start"));var n=(t-this.fe)/this.ie;n=n>1?1:n;var e=this.te(n);for(var i in this.se){var u=this.ce[i],o=this.se[i];(0,r.isArray)(o)?this.ae[i]=this.ne(o,e):(0,r.isNumber)(+o)&&(this.ae[i]=u+(o-u)*e)}return this.fire("update",this,this.ae),1!==n||(this.oe>0?((0,r.isNumber)(this.oe)&&--this.oe,this.fe=t+this.ee,!0):(this.fire("complete",this,this.ae),!1))}},{key:"end",value:function(){return this.nextFrame(this.fe+this.ie),this}},{key:"cancel",value:function(){return window.assert(this.Rt),this.re?(this.re=!1,this.Rt.removeAnimator(this),this.fire("cancel",this),this):this}},{key:"t",value:function(t){var n=this,e={};(0,r.isObject)(t)?Object.keys(t).forEach(function(i){var u=t[i];(0,r.isNull)(u)||(e[i]=n.t(u).value)}):(0,r.isArray)(t)?e.value=t.filter(function(t){return!(0,r.isNull)(t)&&(0,r.isNumber)(+t)}).map(function(t){return+t}):(0,r.isNumber)(+t)&&(e.value=+t);return e}},{key:"u",value:function(){var t=this,n=Object.keys(this.ce);return 0!==(n=n.filter(function(n){return!(0,r.isNull)(t.se[n])&&t.ce[n]!==t.se[n]})).length&&(this.ce=n.reduce(function(n,e){return n[e]=t.ce[e],n},{}),this.se=n.reduce(function(n,e){var i=t.se[e];return n[e]=(0,r.isArray)(i)?[].concat(t.ce[e],i):i,n},{}),!0)}},{key:"id",get:function(){return this.dt}},{key:"animating",get:function(){return this.re}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)};n.default=i,i.now=void 0===performance?function(){return Date.now()}:function(){return performance.now()}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}n.Slice=function(){function t(n,e){r(this,t),this.St=n,this.he=e}return i(t,[{key:"offset",get:function(){return this.St},set:function(t){this.St=t}},{key:"count",get:function(){return this.he},set:function(t){this.he=t}}]),t}();var u=function(){function t(n,e,i){r(this,t),this.le=n,this.ve=e,this.ye=i||[]}return i(t,[{key:"float32VertexBuffer",value:function(t){var n=this.le.vertexBuffer(t);return n?new Float32Array(n.data.buffer,this.ve.offset*n.stride,this.ve.count*n.stride/4):null}},{key:"setAttribute",value:function(t,n){var e=this.ve,i=e.offset,r=e.count;this.le.setAttribute(t,n,i,r)}},{key:"setIndices",value:function(t,n){var e=this.ye[t].offset;this.le.setIndices(t,n,e)}},{key:"validate",value:function(){window.assert(this.pt,"Box cannot be null.")}},{key:"vertexBuffer",value:function(t){}},{key:"box",get:function(){return this.pt},set:function(t){this.pt=t}}]),t}();n.default=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={},r=(i.VertexTopology={POINTS:0,LINES:1,LINE_STRIP:2,LINE_LOOP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.Vector2f={});r.read=function(t,n){return t.readFields(r.de,{x:0,y:0},n)},r.de=function(t,n,e){1===t?n.x=e.readFloat():2===t&&(n.y=e.readFloat())},r.write=function(t,n){t.x&&n.writeFloatField(1,t.x),t.y&&n.writeFloatField(2,t.y)};var u=i.Vector2d={};u.read=function(t,n){return t.readFields(u.de,{x:0,y:0},n)},u.de=function(t,n,e){1===t?n.x=e.readDouble():2===t&&(n.y=e.readDouble())},u.write=function(t,n){t.x&&n.writeDoubleField(1,t.x),t.y&&n.writeDoubleField(2,t.y)};var o=i.Vector3f={};o.read=function(t,n){return t.readFields(o.de,{x:0,y:0,z:0},n)},o.de=function(t,n,e){1===t?n.x=e.readFloat():2===t?n.y=e.readFloat():3===t&&(n.z=e.readFloat())},o.write=function(t,n){t.x&&n.writeFloatField(1,t.x),t.y&&n.writeFloatField(2,t.y),t.z&&n.writeFloatField(3,t.z)};var a=i.Vector3d={};a.read=function(t,n){return t.readFields(a.de,{x:0,y:0,z:0},n)},a.de=function(t,n,e){1===t?n.x=e.readDouble():2===t?n.y=e.readDouble():3===t&&(n.z=e.readDouble())},a.write=function(t,n){t.x&&n.writeDoubleField(1,t.x),t.y&&n.writeDoubleField(2,t.y),t.z&&n.writeDoubleField(3,t.z)};var c=i.Vector4f={};c.read=function(t,n){return t.readFields(c.de,{x:0,y:0,z:0,w:0},n)},c.de=function(t,n,e){1===t?n.x=e.readFloat():2===t?n.y=e.readFloat():3===t?n.z=e.readFloat():4===t&&(n.w=e.readFloat())},c.write=function(t,n){t.x&&n.writeFloatField(1,t.x),t.y&&n.writeFloatField(2,t.y),t.z&&n.writeFloatField(3,t.z),t.w&&n.writeFloatField(4,t.w)};var s=i.Vector4d={};s.read=function(t,n){return t.readFields(s.de,{x:0,y:0,z:0,w:0},n)},s.de=function(t,n,e){1===t?n.x=e.readDouble():2===t?n.y=e.readDouble():3===t?n.z=e.readDouble():4===t&&(n.w=e.readDouble())},s.write=function(t,n){t.x&&n.writeDoubleField(1,t.x),t.y&&n.writeDoubleField(2,t.y),t.z&&n.writeDoubleField(3,t.z),t.w&&n.writeDoubleField(4,t.w)};var f=i.VertexBufferDescriptor={};f.read=function(t,n){return t.readFields(f.de,{name:"",size:0,offset:0},n)},f.de=function(t,n,e){1===t?n.name=e.readString():2===t?n.size=e.readVarint():3===t&&(n.offset=e.readVarint())},f.write=function(t,n){t.name&&n.writeStringField(1,t.name),t.size&&n.writeVarintField(2,t.size),t.offset&&n.writeVarintField(3,t.offset)};var h=i.VertexBuffer={};h.read=function(t,n){return t.readFields(h.de,{descriptor:[],data:[]},n)},h.de=function(t,n,e){1===t?n.descriptor.push(f.read(e,e.readVarint()+e.pos)):2===t&&e.readPackedFloat(n.data)},h.write=function(t,n){if(t.descriptor)for(var e=0;e<t.descriptor.length;e++)n.writeMessage(1,f.write,t.descriptor[e]);t.data&&n.writePackedFloat(2,t.data)};var l=i.IndexBuffer={};l.read=function(t,n){return t.readFields(l.de,{topology:0,data:[]},n)},l.de=function(t,n,e){1===t?n.topology=e.readVarint():2===t&&e.readPackedVarint(n.data)},l.write=function(t,n){t.topology&&n.writeVarintField(1,t.topology),t.data&&n.writePackedVarint(2,t.data)};var v=i.MeshSlice={};v.read=function(t,n){return t.readFields(v.de,{vertex_count:0,vertex_offset:0,index_offset:[],index_count:[]},n)},v.de=function(t,n,e){1===t?n.vertex_count=e.readVarint():2===t?n.vertex_offset=e.readVarint():3===t?e.readPackedVarint(n.index_offset):4===t&&e.readPackedVarint(n.index_count)},v.write=function(t,n){t.vertex_count&&n.writeVarintField(1,t.vertex_count),t.vertex_offset&&n.writeVarintField(2,t.vertex_offset),t.index_offset&&n.writePackedVarint(3,t.index_offset),t.index_count&&n.writePackedVarint(4,t.index_count)};var y=i.Mesh={};y.read=function(t,n){return t.readFields(y.de,{vertex_buffer:null,index_buffer:[],slice:[]},n)},y.de=function(t,n,e){1===t?n.vertex_buffer=h.read(e,e.readVarint()+e.pos):2===t?n.index_buffer.push(l.read(e,e.readVarint()+e.pos)):3===t&&n.slice.push(v.read(e,e.readVarint()+e.pos))},y.write=function(t,n){if(t.vertex_buffer&&n.writeMessage(1,h.write,t.vertex_buffer),t.index_buffer)for(var e=0;e<t.index_buffer.length;e++)n.writeMessage(2,l.write,t.index_buffer[e]);if(t.slice)for(e=0;e<t.slice.length;e++)n.writeMessage(3,v.write,t.slice[e])};var d=i.Texture={};d.read=function(t,n){return t.readFields(d.de,{image:"",ratio:[],slice:[],mesh_count:0},n)},d.de=function(t,n,e){1===t?n.image=e.readString():2===t?e.readPackedVarint(n.ratio):3===t?n.slice.push(b.read(e,e.readVarint()+e.pos)):4===t&&(n.mesh_count=e.readVarint())},d.write=function(t,n){if(t.image&&n.writeStringField(1,t.image),t.ratio&&n.writePackedVarint(2,t.ratio),t.slice)for(var e=0;e<t.slice.length;e++)n.writeMessage(3,b.write,t.slice[e]);t.mesh_count&&n.writeVarintField(4,t.mesh_count)};var b=i.TextureSlice={};b.read=function(t,n){return t.readFields(b.de,{x:0,y:0,width:0,height:0},n)},b.de=function(t,n,e){1===t?n.x=e.readVarint():2===t?n.y=e.readVarint():3===t?n.width=e.readVarint():4===t&&(n.height=e.readVarint())},b.write=function(t,n){t.x&&n.writeVarintField(1,t.x),t.y&&n.writeVarintField(2,t.y),t.width&&n.writeVarintField(3,t.width),t.height&&n.writeVarintField(4,t.height)};var w=i.Rectangle2D={};w.read=function(t,n){return t.readFields(w.de,{min_x:0,min_y:0,max_x:0,max_y:0},n)},w.de=function(t,n,e){1===t?n.min_x=e.readDouble():2===t?n.min_y=e.readDouble():3===t?n.max_x=e.readDouble():4===t&&(n.max_y=e.readDouble())},w.write=function(t,n){t.min_x&&n.writeDoubleField(1,t.min_x),t.min_y&&n.writeDoubleField(2,t.min_y),t.max_x&&n.writeDoubleField(3,t.max_x),t.max_y&&n.writeDoubleField(4,t.max_y)};var p=i.Bundle={};p.read=function(t,n){return t.readFields(p.de,{id:"",name:"",storey:null,entrance:null,storey_collection:null,navigate:""},n)},p.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.name=e.readString():3===t?(n.storey=Q.read(e,e.readVarint()+e.pos),n.entrance="storey"):4===t?(n.storey_collection=J.read(e,e.readVarint()+e.pos),n.entrance="storey_collection"):10===t&&(n.navigate=e.readString())},p.write=function(t,n){t.id&&n.writeStringField(1,t.id),t.name&&n.writeStringField(2,t.name),t.storey&&n.writeMessage(3,Q.write,t.storey),t.storey_collection&&n.writeMessage(4,J.write,t.storey_collection),t.navigate&&n.writeStringField(10,t.navigate)};var k=i.Field={};k.read=function(t,n){return t.readFields(k.de,{name:"",type:0},n)},k.de=function(t,n,e){1===t?n.name=e.readString():2===t&&(n.type=e.readVarint())},k.write=function(t,n){t.name&&n.writeStringField(1,t.name),t.type&&n.writeVarintField(2,t.type)},k.Type={INTEGER:0,FLOAT:1,DOUBLE:2,STRING:3,BINARY:4,DATE:5,TIME:6,DATETIME:7,INTEGER64:8,UNKNOWN:100};var m=i.IntProperty={};m.read=function(t,n){return t.readFields(m.de,{value:0},n)},m.de=function(t,n,e){1===t&&(n.value=e.readVarint(!0))},m.write=function(t,n){t.value&&n.writeVarintField(1,t.value)};var g=i.IntListProperty={};g.read=function(t,n){return t.readFields(g.de,{value:[]},n)},g.de=function(t,n,e){1===t&&e.readPackedVarint(n.value,!0)},g.write=function(t,n){t.value&&n.writePackedVarint(1,t.value)};var O=i.Int64Property={};O.read=function(t,n){return t.readFields(O.de,{value:0},n)},O.de=function(t,n,e){1===t&&(n.value=e.readVarint(!0))},O.write=function(t,n){t.value&&n.writeVarintField(1,t.value)};var j=i.Int64ListProperty={};j.read=function(t,n){return t.readFields(j.de,{value:[]},n)},j.de=function(t,n,e){1===t&&e.readPackedVarint(n.value,!0)},j.write=function(t,n){t.value&&n.writePackedVarint(1,t.value)};var M=i.FloatProperty={};M.read=function(t,n){return t.readFields(M.de,{value:0},n)},M.de=function(t,n,e){1===t&&(n.value=e.readFloat())},M.write=function(t,n){t.value&&n.writeFloatField(1,t.value)};var _=i.FloatListProperty={};_.read=function(t,n){return t.readFields(_.de,{value:[]},n)},_.de=function(t,n,e){1===t&&e.readPackedFloat(n.value)},_.write=function(t,n){t.value&&n.writePackedFloat(1,t.value)};var E=i.DoubleProperty={};E.read=function(t,n){return t.readFields(E.de,{value:0},n)},E.de=function(t,n,e){1===t&&(n.value=e.readDouble())},E.write=function(t,n){t.value&&n.writeDoubleField(1,t.value)};var S=i.DoubleListProperty={};S.read=function(t,n){return t.readFields(S.de,{value:[]},n)},S.de=function(t,n,e){1===t&&e.readPackedDouble(n.value)},S.write=function(t,n){t.value&&n.writePackedDouble(1,t.value)};var x=i.StringProperty={};x.read=function(t,n){return t.readFields(x.de,{value:""},n)},x.de=function(t,n,e){1===t&&(n.value=e.readString())},x.write=function(t,n){t.value&&n.writeStringField(1,t.value)};var T=i.StringListProperty={};T.read=function(t,n){return t.readFields(T.de,{value:[]},n)},T.de=function(t,n,e){1===t&&n.value.push(e.readString())},T.write=function(t,n){if(t.value)for(var e=0;e<t.value.length;e++)n.writeStringField(1,t.value[e])};var A=i.BinaryProperty={};A.read=function(t,n){return t.readFields(A.de,{value:null},n)},A.de=function(t,n,e){1===t&&(n.value=e.readBytes())},A.write=function(t,n){t.value&&n.writeBytesField(1,t.value)};var C=i.DateProperty={};C.read=function(t,n){return t.readFields(C.de,{year:0,month:0,day:0},n)},C.de=function(t,n,e){1===t?n.year=e.readVarint():2===t?n.month=e.readVarint():3===t&&(n.day=e.readVarint())},C.write=function(t,n){t.year&&n.writeVarintField(1,t.year),t.month&&n.writeVarintField(2,t.month),t.day&&n.writeVarintField(3,t.day)};var R=i.TimeProperty={};R.read=function(t,n){return t.readFields(R.de,{hour:0,minute:0,second:0,millisecond:0},n)},R.de=function(t,n,e){1===t?n.hour=e.readVarint():2===t?n.minute=e.readVarint():3===t?n.second=e.readVarint():4===t&&(n.millisecond=e.readVarint())},R.write=function(t,n){t.hour&&n.writeVarintField(1,t.hour),t.minute&&n.writeVarintField(2,t.minute),t.second&&n.writeVarintField(3,t.second),t.millisecond&&n.writeVarintField(4,t.millisecond)};var N=i.DateTimeProperty={};N.read=function(t,n){return t.readFields(N.de,{year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0},n)},N.de=function(t,n,e){1===t?n.year=e.readVarint():2===t?n.month=e.readVarint():3===t?n.day=e.readVarint():4===t?n.hour=e.readVarint():5===t?n.minute=e.readVarint():6===t?n.second=e.readVarint():7===t&&(n.millisecond=e.readVarint())},N.write=function(t,n){t.year&&n.writeVarintField(1,t.year),t.month&&n.writeVarintField(2,t.month),t.day&&n.writeVarintField(3,t.day),t.hour&&n.writeVarintField(4,t.hour),t.minute&&n.writeVarintField(5,t.minute),t.second&&n.writeVarintField(6,t.second),t.millisecond&&n.writeVarintField(7,t.millisecond)};var I=i.Property={};I.read=function(t,n){return t.readFields(I.de,{int:null,value:null,int64:null,float:null,double:null,string:null,binary:null,date:null,time:null,datetime:null,vector2f:null,vector2d:null,vector3f:null,vecttor3d:null,vector4f:null,vector4d:null},n)},I.de=function(t,n,e){1===t?(n.int=m.read(e,e.readVarint()+e.pos),n.value="int"):2===t?(n.int64=O.read(e,e.readVarint()+e.pos),n.value="int64"):3===t?(n.float=M.read(e,e.readVarint()+e.pos),n.value="float"):4===t?(n.double=E.read(e,e.readVarint()+e.pos),n.value="double"):5===t?(n.string=x.read(e,e.readVarint()+e.pos),n.value="string"):6===t?(n.binary=A.read(e,e.readVarint()+e.pos),n.value="binary"):7===t?(n.date=C.read(e,e.readVarint()+e.pos),n.value="date"):8===t?(n.time=R.read(e,e.readVarint()+e.pos),n.value="time"):9===t?(n.datetime=N.read(e,e.readVarint()+e.pos),n.value="datetime"):10===t?(n.vector2f=r.read(e,e.readVarint()+e.pos),n.value="vector2f"):11===t?(n.vector2d=u.read(e,e.readVarint()+e.pos),n.value="vector2d"):12===t?(n.vector3f=o.read(e,e.readVarint()+e.pos),n.value="vector3f"):13===t?(n.vecttor3d=a.read(e,e.readVarint()+e.pos),n.value="vecttor3d"):14===t?(n.vector4f=c.read(e,e.readVarint()+e.pos),n.value="vector4f"):25===t&&(n.vector4d=s.read(e,e.readVarint()+e.pos),n.value="vector4d")},I.write=function(t,n){t.int&&n.writeMessage(1,m.write,t.int),t.int64&&n.writeMessage(2,O.write,t.int64),t.float&&n.writeMessage(3,M.write,t.float),t.double&&n.writeMessage(4,E.write,t.double),t.string&&n.writeMessage(5,x.write,t.string),t.binary&&n.writeMessage(6,A.write,t.binary),t.date&&n.writeMessage(7,C.write,t.date),t.time&&n.writeMessage(8,R.write,t.time),t.datetime&&n.writeMessage(9,N.write,t.datetime),t.vector2f&&n.writeMessage(10,r.write,t.vector2f),t.vector2d&&n.writeMessage(11,u.write,t.vector2d),t.vector3f&&n.writeMessage(12,o.write,t.vector3f),t.vecttor3d&&n.writeMessage(13,a.write,t.vecttor3d),t.vector4f&&n.writeMessage(14,c.write,t.vector4f),t.vector4d&&n.writeMessage(25,s.write,t.vector4d)};var F=i.Feature={};F.read=function(t,n){return t.readFields(F.de,{id:"",property:[],position:null,storeyCollection:null,style:null},n)},F.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.property.push(I.read(e,e.readVarint()+e.pos)):3===t?n.position=r.read(e,e.readVarint()+e.pos):4===t?n.storeyCollection=J.read(e,e.readVarint()+e.pos):5===t&&(n.style=D.read(e,e.readVarint()+e.pos))},F.write=function(t,n){if(t.id&&n.writeStringField(1,t.id),t.property)for(var e=0;e<t.property.length;e++)n.writeMessage(2,I.write,t.property[e]);t.position&&n.writeMessage(3,r.write,t.position),t.storeyCollection&&n.writeMessage(4,J.write,t.storeyCollection),t.style&&n.writeMessage(5,D.write,t.style)};var D=i.StyleProperty={};D.read=function(t,n){return t.readFields(D.de,{translation:0,rotation:0,scaling:0,surface:null,property:null,polyhedron:null,annotation:null,multiple:null},n)},D.de=function(t,n,e){1===t?n.translation=e.readVarint():2===t?n.rotation=e.readVarint():3===t?n.scaling=e.readVarint():100===t?(n.surface=L.read(e,e.readVarint()+e.pos),n.property="surface"):101===t?(n.polyhedron=z.read(e,e.readVarint()+e.pos),n.property="polyhedron"):102===t?(n.annotation=B.read(e,e.readVarint()+e.pos),n.property="annotation"):103===t&&(n.multiple=U.read(e,e.readVarint()+e.pos),n.property="multiple")},D.write=function(t,n){t.translation&&n.writeVarintField(1,t.translation),t.rotation&&n.writeVarintField(2,t.rotation),t.scaling&&n.writeVarintField(3,t.scaling),t.surface&&n.writeMessage(100,L.write,t.surface),t.polyhedron&&n.writeMessage(101,z.write,t.polyhedron),t.annotation&&n.writeMessage(102,B.write,t.annotation),t.multiple&&n.writeMessage(103,U.write,t.multiple)};var L=i.SurfaceStyleProperty={};L.read=function(t,n){return t.readFields(L.de,{mesh_index:null,fill_color:0,stroke_color:0,highlight_color:0},n)},L.de=function(t,n,e){1===t?n.mesh_index=P.read(e,e.readVarint()+e.pos):2===t?n.fill_color=e.readVarint():3===t?n.stroke_color=e.readVarint():4===t&&(n.highlight_color=e.readVarint())},L.write=function(t,n){t.mesh_index&&n.writeMessage(1,P.write,t.mesh_index),t.fill_color&&n.writeVarintField(2,t.fill_color),t.stroke_color&&n.writeVarintField(3,t.stroke_color),t.highlight_color&&n.writeVarintField(4,t.highlight_color)};var P=i.MeshSliceIndex={};P.read=function(t,n){return t.readFields(P.de,{mesh_index:0,slice_index:0},n)},P.de=function(t,n,e){1===t?n.mesh_index=e.readVarint():2===t&&(n.slice_index=e.readVarint())},P.write=function(t,n){t.mesh_index&&n.writeVarintField(1,t.mesh_index),t.slice_index&&n.writeVarintField(2,t.slice_index)};var z=i.PolyhedronStyleProperty={};z.read=function(t,n){return t.readFields(z.de,{mesh_index:null,fill_color:0,stroke_color:0,highlight_color:0},n)},z.de=function(t,n,e){1===t?n.mesh_index=P.read(e,e.readVarint()+e.pos):2===t?n.fill_color=e.readVarint():3===t?n.stroke_color=e.readVarint():4===t&&(n.highlight_color=e.readVarint())},z.write=function(t,n){t.mesh_index&&n.writeMessage(1,P.write,t.mesh_index),t.fill_color&&n.writeVarintField(2,t.fill_color),t.stroke_color&&n.writeVarintField(3,t.stroke_color),t.highlight_color&&n.writeVarintField(4,t.highlight_color)};var G=i.TextureSliceIndex={};G.read=function(t,n){return t.readFields(G.de,{texture_index:0,slice_index:0},n)},G.de=function(t,n,e){1===t?n.texture_index=e.readVarint():2===t&&(n.slice_index=e.readVarint())},G.write=function(t,n){t.texture_index&&n.writeVarintField(1,t.texture_index),t.slice_index&&n.writeVarintField(2,t.slice_index)};var B=i.AnnotationStyleProperty={};B.read=function(t,n){return t.readFields(B.de,{icon:null,text:null},n)},B.de=function(t,n,e){1===t?n.icon=G.read(e,e.readVarint()+e.pos):2===t&&(n.text=G.read(e,e.readVarint()+e.pos))},B.write=function(t,n){t.icon&&n.writeMessage(1,G.write,t.icon),t.text&&n.writeMessage(2,G.write,t.text)};var U=i.MultipleStyleProperty={};U.read=function(t,n){return t.readFields(U.de,{style:[]},n)},U.de=function(t,n,e){1===t&&n.style.push(D.read(e,e.readVarint()+e.pos))},U.write=function(t,n){if(t.style)for(var e=0;e<t.style.length;e++)n.writeMessage(1,D.write,t.style[e])};var W=i.Style={};W.read=function(t,n){return t.readFields(W.de,{translation:[],rotation:[],scaling:[],surface:null,style:null,polyhedron:null,annotation:null,multiple:null},n)},W.de=function(t,n,e){1===t?n.translation.push(o.read(e,e.readVarint()+e.pos)):2===t?n.rotation.push(o.read(e,e.readVarint()+e.pos)):3===t?n.scaling.push(o.read(e,e.readVarint()+e.pos)):100===t?(n.surface=Y.read(e,e.readVarint()+e.pos),n.style="surface"):101===t?(n.polyhedron=V.read(e,e.readVarint()+e.pos),n.style="polyhedron"):102===t?(n.annotation=H.read(e,e.readVarint()+e.pos),n.style="annotation"):103===t&&(n.multiple=K.read(e,e.readVarint()+e.pos),n.style="multiple")},W.write=function(t,n){if(t.translation)for(var e=0;e<t.translation.length;e++)n.writeMessage(1,o.write,t.translation[e]);if(t.rotation)for(e=0;e<t.rotation.length;e++)n.writeMessage(2,o.write,t.rotation[e]);if(t.scaling)for(e=0;e<t.scaling.length;e++)n.writeMessage(3,o.write,t.scaling[e]);t.surface&&n.writeMessage(100,Y.write,t.surface),t.polyhedron&&n.writeMessage(101,V.write,t.polyhedron),t.annotation&&n.writeMessage(102,H.write,t.annotation),t.multiple&&n.writeMessage(103,K.write,t.multiple)};var Y=i.SurfaceStyle={};Y.read=function(t,n){return t.readFields(Y.de,{mesh:[],fill_color:[],stroke_color:[],highlight_color:[],texture:""},n)},Y.de=function(t,n,e){1===t?n.mesh.push(y.read(e,e.readVarint()+e.pos)):2===t?n.fill_color.push(c.read(e,e.readVarint()+e.pos)):3===t?n.stroke_color.push(c.read(e,e.readVarint()+e.pos)):4===t?n.highlight_color.push(c.read(e,e.readVarint()+e.pos)):5===t&&(n.texture=e.readString())},Y.write=function(t,n){if(t.mesh)for(var e=0;e<t.mesh.length;e++)n.writeMessage(1,y.write,t.mesh[e]);if(t.fill_color)for(e=0;e<t.fill_color.length;e++)n.writeMessage(2,c.write,t.fill_color[e]);if(t.stroke_color)for(e=0;e<t.stroke_color.length;e++)n.writeMessage(3,c.write,t.stroke_color[e]);if(t.highlight_color)for(e=0;e<t.highlight_color.length;e++)n.writeMessage(4,c.write,t.highlight_color[e]);t.texture&&n.writeStringField(5,t.texture)};var V=i.PolyhedronStyle={};V.read=function(t,n){return t.readFields(V.de,{mesh:[],fill_color:[],stroke_color:[],highlight_color:[]},n)},V.de=function(t,n,e){1===t?n.mesh.push(y.read(e,e.readVarint()+e.pos)):2===t?n.fill_color.push(c.read(e,e.readVarint()+e.pos)):3===t?n.stroke_color.push(c.read(e,e.readVarint()+e.pos)):4===t&&n.highlight_color.push(c.read(e,e.readVarint()+e.pos))},V.write=function(t,n){if(t.mesh)for(var e=0;e<t.mesh.length;e++)n.writeMessage(1,y.write,t.mesh[e]);if(t.fill_color)for(e=0;e<t.fill_color.length;e++)n.writeMessage(2,c.write,t.fill_color[e]);if(t.stroke_color)for(e=0;e<t.stroke_color.length;e++)n.writeMessage(3,c.write,t.stroke_color[e]);if(t.highlight_color)for(e=0;e<t.highlight_color.length;e++)n.writeMessage(4,c.write,t.highlight_color[e])};var H=i.AnnotationStyle={};H.read=function(t,n){return t.readFields(H.de,{texture:[]},n)},H.de=function(t,n,e){1===t&&n.texture.push(d.read(e,e.readVarint()+e.pos))},H.write=function(t,n){if(t.texture)for(var e=0;e<t.texture.length;e++)n.writeMessage(1,d.write,t.texture[e])};var K=i.MultipleStyles={};K.read=function(t,n){return t.readFields(K.de,{style:[]},n)},K.de=function(t,n,e){1===t&&n.style.push(W.read(e,e.readVarint()+e.pos))},K.write=function(t,n){if(t.style)for(var e=0;e<t.style.length;e++)n.writeMessage(1,W.write,t.style[e])};var Z=i.Layer={};Z.read=function(t,n){return t.readFields(Z.de,{name:"",field:[],feature:[],origin:null,style:null},n)},Z.de=function(t,n,e){1===t?n.name=e.readString():2===t?n.field.push(k.read(e,e.readVarint()+e.pos)):3===t?n.feature.push(F.read(e,e.readVarint()+e.pos)):4===t?n.origin=u.read(e,e.readVarint()+e.pos):5===t&&(n.style=W.read(e,e.readVarint()+e.pos))},Z.write=function(t,n){if(t.name&&n.writeStringField(1,t.name),t.field)for(var e=0;e<t.field.length;e++)n.writeMessage(2,k.write,t.field[e]);if(t.feature)for(e=0;e<t.feature.length;e++)n.writeMessage(3,F.write,t.feature[e]);t.origin&&n.writeMessage(4,u.write,t.origin),t.style&&n.writeMessage(5,W.write,t.style)};var Q=i.Storey={};Q.read=function(t,n){return t.readFields(Q.de,{id:"",name:"",default:!1,layer:[],bounds:null},n)},Q.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.name=e.readString():3===t?n.default=e.readBoolean():4===t?n.layer.push(e.readString()):5===t&&(n.bounds=w.read(e,e.readVarint()+e.pos))},Q.write=function(t,n){if(t.id&&n.writeStringField(1,t.id),t.name&&n.writeStringField(2,t.name),t.default&&n.writeBooleanField(3,t.default),t.layer)for(var e=0;e<t.layer.length;e++)n.writeStringField(4,t.layer[e]);t.bounds&&n.writeMessage(5,w.write,t.bounds)};var J=i.StoreyCollection={};J.read=function(t,n){return t.readFields(J.de,{id:"",name:"",storey:[]},n)},J.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.name=e.readString():3===t&&n.storey.push(Q.read(e,e.readVarint()+e.pos))},J.write=function(t,n){if(t.id&&n.writeStringField(1,t.id),t.name&&n.writeStringField(2,t.name),t.storey)for(var e=0;e<t.storey.length;e++)n.writeMessage(3,Q.write,t.storey[e])};var X=i.VertexCollection={};X.read=function(t,n){return t.readFields(X.de,{storey:"",altitude:0,vertices:[]},n)},X.de=function(t,n,e){1===t?n.storey=e.readString():2===t?n.altitude=e.readVarint(!0):3===t&&n.vertices.push(rt.read(e,e.readVarint()+e.pos))},X.write=function(t,n){if(t.storey&&n.writeStringField(1,t.storey),t.altitude&&n.writeVarintField(2,t.altitude),t.vertices)for(var e=0;e<t.vertices.length;e++)n.writeMessage(3,rt.write,t.vertices[e])};var q=i.PathCollection={};q.read=function(t,n){return t.readFields(q.de,{storey:"",altitude:0,paths:[]},n)},q.de=function(t,n,e){1===t?n.storey=e.readString():2===t?n.altitude=e.readVarint(!0):3===t&&n.paths.push(et.read(e,e.readVarint()+e.pos))},q.write=function(t,n){if(t.storey&&n.writeStringField(1,t.storey),t.altitude&&n.writeVarintField(2,t.altitude),t.paths)for(var e=0;e<t.paths.length;e++)n.writeMessage(3,et.write,t.paths[e])};var $=i.ConnectionCollection={};$.read=function(t,n){return t.readFields($.de,{storey:"",connections:[]},n)},$.de=function(t,n,e){1===t?n.storey=e.readString():2===t&&n.connections.push(it.read(e,e.readVarint()+e.pos))},$.write=function(t,n){if(t.storey&&n.writeStringField(1,t.storey),t.connections)for(var e=0;e<t.connections.length;e++)n.writeMessage(2,it.write,t.connections[e])};var tt=i.GatewayCollection={};tt.read=function(t,n){return t.readFields(tt.de,{storey:"",gateways:[]},n)},tt.de=function(t,n,e){1===t?n.storey=e.readString():2===t&&n.gateways.push(ut.read(e,e.readVarint()+e.pos))},tt.write=function(t,n){if(t.storey&&n.writeStringField(1,t.storey),t.gateways)for(var e=0;e<t.gateways.length;e++)n.writeMessage(2,ut.write,t.gateways[e])};var nt=i.Navigate={};nt.read=function(t,n){return t.readFields(nt.de,{bundle:"",vcs:[],pcs:[],ccs:[],gws:[]},n)},nt.de=function(t,n,e){1===t?n.bundle=e.readString():2===t?n.vcs.push(X.read(e,e.readVarint()+e.pos)):3===t?n.pcs.push(q.read(e,e.readVarint()+e.pos)):4===t?n.ccs.push(it.read(e,e.readVarint()+e.pos)):5===t&&n.gws.push(tt.read(e,e.readVarint()+e.pos))},nt.write=function(t,n){if(t.bundle&&n.writeStringField(1,t.bundle),t.vcs)for(var e=0;e<t.vcs.length;e++)n.writeMessage(2,X.write,t.vcs[e]);if(t.pcs)for(e=0;e<t.pcs.length;e++)n.writeMessage(3,q.write,t.pcs[e]);if(t.ccs)for(e=0;e<t.ccs.length;e++)n.writeMessage(4,it.write,t.ccs[e]);if(t.gws)for(e=0;e<t.gws.length;e++)n.writeMessage(5,tt.write,t.gws[e])};var et=i.Path={};et.read=function(t,n){return t.readFields(et.de,{id:"",direction:0,rank:0,from:"",to:"",shape:[],ignore:!1},n)},et.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.direction=e.readVarint(!0):3===t?n.rank=e.readVarint(!0):5===t?n.from=e.readString():6===t?n.to=e.readString():7===t?e.readPackedDouble(n.shape):8===t&&(n.ignore=e.readBoolean())},et.write=function(t,n){t.id&&n.writeStringField(1,t.id),t.direction&&n.writeVarintField(2,t.direction),t.rank&&n.writeVarintField(3,t.rank),t.from&&n.writeStringField(5,t.from),t.to&&n.writeStringField(6,t.to),t.shape&&n.writePackedDouble(7,t.shape),t.ignore&&n.writeBooleanField(8,t.ignore)};var it=i.Connection={};it.read=function(t,n){return t.readFields(it.de,{id:"",direction:0,rank:0,fromVertex:"",toVertex:""},n)},it.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.direction=e.readVarint(!0):3===t?n.rank=e.readVarint(!0):4===t?n.fromVertex=e.readString():5===t&&(n.toVertex=e.readString())},it.write=function(t,n){t.id&&n.writeStringField(1,t.id),t.direction&&n.writeVarintField(2,t.direction),t.rank&&n.writeVarintField(3,t.rank),t.fromVertex&&n.writeStringField(4,t.fromVertex),t.toVertex&&n.writeStringField(5,t.toVertex)};var rt=i.Vertex={};rt.read=function(t,n){return t.readFields(rt.de,{id:"",shape:[]},n)},rt.de=function(t,n,e){1===t?n.id=e.readString():2===t&&e.readPackedDouble(n.shape)},rt.write=function(t,n){t.id&&n.writeStringField(1,t.id),t.shape&&n.writePackedDouble(2,t.shape)};var ut=i.Gateway={};ut.read=function(t,n){return t.readFields(ut.de,{id:"",category:0,name:"",originID:"",shape:[]},n)},ut.de=function(t,n,e){1===t?n.id=e.readString():2===t?n.category=e.readVarint(!0):3===t?n.name=e.readString():4===t?n.originID=e.readString():5===t&&e.readPackedDouble(n.shape)},ut.write=function(t,n){t.id&&n.writeStringField(1,t.id),t.category&&n.writeVarintField(2,t.category),t.name&&n.writeStringField(3,t.name),t.originID&&n.writeStringField(4,t.originID),t.shape&&n.writePackedDouble(5,t.shape)},n.default=i},function(t,n,e){"use strict";e(13)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Zt=n}return i(t,[{key:"load",value:function(t){var n=this.Zt.createTexture(),e=new Image;return e.onload=function(){n.deactivate(),n.update(e)},e.src=t,n}}]),t}();n.default=r},function(t,n,e){"use strict";t.exports=r,t.exports.default=r;var i=e(511);function r(t,n){if(!(this instanceof r))return new r(t,n);this.we=Math.max(4,t||9),this.pe=Math.max(2,Math.ceil(.4*this.we)),n&&this.ke(n),this.clear()}function u(t,n,e){if(!e)return n.indexOf(t);for(var i=0;i<n.length;i++)if(e(t,n[i]))return i;return-1}function o(t,n){a(t,0,t.children.length,n,t)}function a(t,n,e,i,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var u,o=n;o<e;o++)u=t.children[o],c(r,t.leaf?i(u):u);return r}function c(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function s(t,n){return t.minX-n.minX}function f(t,n){return t.minY-n.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function v(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function y(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(t,n,e,r,u){for(var o,a=[n,e];a.length;)(e=a.pop())-(n=a.pop())<=r||(o=n+Math.ceil((e-n)/r/2)*r,i(t,o,n,e,u),a.push(n,o,o,e))}r.prototype={all:function(){return this.me(this.data,[])},search:function(t){var n=this.data,e=[],i=this.toBBox;if(!y(t,n))return e;for(var r,u,o,a,c=[];n;){for(r=0,u=n.children.length;r<u;r++)o=n.children[r],y(t,a=n.leaf?i(o):o)&&(n.leaf?e.push(o):v(t,a)?this.me(o,e):c.push(o));n=c.pop()}return e},collides:function(t){var n=this.data,e=this.toBBox;if(!y(t,n))return!1;for(var i,r,u,o,a=[];n;){for(i=0,r=n.children.length;i<r;i++)if(u=n.children[i],y(t,o=n.leaf?e(u):u)){if(n.leaf||v(t,o))return!0;a.push(u)}n=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.pe){for(var n=0,e=t.length;n<e;n++)this.insert(t[n]);return this}var i=this.ge(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this.Oe(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this.je(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this.je(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,n){if(!t)return this;for(var e,i,r,o,a=this.data,c=this.toBBox(t),s=[],f=[];a||s.length;){if(a||(a=s.pop(),i=s[s.length-1],e=f.pop(),o=!0),a.leaf&&-1!==(r=u(t,a.children,n)))return a.children.splice(r,1),s.push(a),this.Me(s),this;o||a.leaf||!v(a,c)?i?(e++,a=i.children[e],o=!1):a=null:(s.push(a),f.push(e),e=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:s,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},me:function(t,n){for(var e=[];t;)t.leaf?n.push.apply(n,t.children):e.push.apply(e,t.children),t=e.pop();return n},ge:function(t,n,e,i){var r,u=e-n+1,a=this.we;if(u<=a)return o(r=d(t.slice(n,e+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(u)/Math.log(a)),a=Math.ceil(u/Math.pow(a,i-1))),(r=d([])).leaf=!1,r.height=i;var c,s,f,h,l=Math.ceil(u/a),v=l*Math.ceil(Math.sqrt(a));for(b(t,n,e,v,this.compareMinX),c=n;c<=e;c+=v)for(b(t,c,f=Math.min(c+v-1,e),l,this.compareMinY),s=c;s<=f;s+=l)h=Math.min(s+l-1,f),r.children.push(this.ge(t,s,h,i-1));return o(r,this.toBBox),r},_e:function(t,n,e,i){for(var r,u,o,a,c,s,f,l,v,y;i.push(n),!n.leaf&&i.length-1!==e;){for(f=l=1/0,r=0,u=n.children.length;r<u;r++)c=h(o=n.children[r]),v=t,y=o,(s=(Math.max(y.maxX,v.maxX)-Math.min(y.minX,v.minX))*(Math.max(y.maxY,v.maxY)-Math.min(y.minY,v.minY))-c)<l?(l=s,f=c<f?c:f,a=o):s===l&&c<f&&(f=c,a=o);n=a||n.children[0]}return n},je:function(t,n,e){var i=this.toBBox,r=e?t:i(t),u=[],o=this._e(r,this.data,n,u);for(o.children.push(t),c(o,r);n>=0&&u[n].children.length>this.we;)this.Ee(u,n),n--;this.Se(r,u,n)},Ee:function(t,n){var e=t[n],i=e.children.length,r=this.pe;this.xe(e,r,i);var u=this.Te(e,r,i),a=d(e.children.splice(u,e.children.length-u));a.height=e.height,a.leaf=e.leaf,o(e,this.toBBox),o(a,this.toBBox),n?t[n-1].children.push(a):this.Oe(e,a)},Oe:function(t,n){this.data=d([t,n]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},Te:function(t,n,e){var i,r,u,o,c,s,f,l,v,y,d,b,w,p;for(s=f=1/0,i=n;i<=e-n;i++)r=a(t,0,i,this.toBBox),u=a(t,i,e,this.toBBox),v=r,y=u,void 0,void 0,void 0,void 0,d=Math.max(v.minX,y.minX),b=Math.max(v.minY,y.minY),w=Math.min(v.maxX,y.maxX),p=Math.min(v.maxY,y.maxY),o=Math.max(0,w-d)*Math.max(0,p-b),c=h(r)+h(u),o<s?(s=o,l=i,f=c<f?c:f):o===s&&c<f&&(f=c,l=i);return l},xe:function(t,n,e){var i=t.leaf?this.compareMinX:s,r=t.leaf?this.compareMinY:f;this.Ae(t,n,e,i)<this.Ae(t,n,e,r)&&t.children.sort(i)},Ae:function(t,n,e,i){t.children.sort(i);var r,u,o=this.toBBox,s=a(t,0,n,o),f=a(t,e-n,e,o),h=l(s)+l(f);for(r=n;r<e-n;r++)u=t.children[r],c(s,t.leaf?o(u):u),h+=l(s);for(r=e-n-1;r>=n;r--)u=t.children[r],c(f,t.leaf?o(u):u),h+=l(f);return h},Se:function(t,n,e){for(var i=e;i>=0;i--)c(n[i],t)},Me:function(t){for(var n,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},ke:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.NavigationActionStatus={NORTH:Symbol("north"),NORTHEAST:Symbol("northeast"),EAST:Symbol("east"),SOUTHEAST:Symbol("southeast"),SOUTH:Symbol("south"),SOUTHWEST:Symbol("southwest"),WEST:Symbol("west"),NORTHWEST:Symbol("northwest"),START:Symbol("start"),END:Symbol("end"),UP:Symbol("up"),DOWN:Symbol("down")};var r=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ce=n,this.Re=e,this.curSegments=[],this.Ne=0,this.Ie=0,this.Fe=0}return i(t,[{key:"contains",value:function(t){return!!this.curSegments.find(function(n){return n.containPoint(t)})}},{key:"angle",set:function(t){this.Ne=t},get:function(){return this.Ne}},{key:"distance",set:function(t){this.Ie=t},get:function(){return this.Ie}},{key:"direction",set:function(t){this.Fe=t},get:function(){return this.Fe}},{key:"parent",set:function(t){this.kt=t},get:function(){return this.kt}},{key:"tracePoint",set:function(t){this.De=t},get:function(){return this.De}},{key:"traceRect",set:function(t){this.Le=t},get:function(){return this.Le}},{key:"curSegments",set:function(t){this.Pe=t},get:function(){return this.Pe}},{key:"preSegment",set:function(t){this.ze=t},get:function(){return this.ze}},{key:"nextSegment",set:function(t){this.Ge=t},get:function(){return this.Ge}},{key:"action",get:function(){return this.Ce}},{key:"property",get:function(){return this.Re},set:function(t){this.Re=t}},{key:"storey",set:function(t){this.mn=t},get:function(){return this.mn}},{key:"description",get:function(){return this.Be},set:function(t){this.Be=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n){var e=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ue=n,this.Ue.forEach(function(t){return t.parent=e})}return i(t,[{key:"contains",value:function(t){return!!this.Ue.find(function(n){return n.contains(t)})}},{key:"traceRect",get:function(){var t=this.actions.concat(),n=t.shift().traceRect.clone();return t.forEach(function(t){return n.extend(t.traceRect)}),n}},{key:"actions",get:function(){return this.Ue}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=l(e(31)),u=e(134),o=l(u),a=l(e(142)),c=e(13),s=(l(e(75)),l(e(143))),f=l(e(532)),h=l(e(533));e(224);function l(t){return t&&t.__esModule?t:{default:t}}var v=[new r.default("position",c.MeshAttributeType.FLOAT,0,3),new r.default("normal",c.MeshAttributeType.FLOAT,12,3)],y=[new r.default("fillColor",c.MeshAttributeType.FLOAT,0,4),new r.default("strokeColor",c.MeshAttributeType.FLOAT,16,4)],d=function(t){function n(t,e,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),c=Object.assign({fillProgramOptions:new f.default,strokeProgramOtpions:new h.default,positionDescriptors:v},i),s=c.positionDescriptors,l=c.fillProgramOptions,y=c.strokeProgramOtpions,d=!0,b=!1,w=void 0;try{for(var p,k=e[Symbol.iterator]();!(d=(p=k.next()).done);d=!0){var m=p.value,g=new a.default(t);g.createVertexBuffer(s).data=new Float32Array(m.vertex_buffer.data);var O=m.index_buffer[0],j=g.createPart(O.topology,l.shaderLib(),l);j.indexBuffer&&(j.indexBuffer.data=new Uint16Array(O.data));var M=m.index_buffer[1];if(M&&M.data.length>0){var _=g.createPart(M.topology,y.shaderLib(),y);_.indexBuffer&&(_.indexBuffer.data=new Uint16Array(M.data))}var E=!0,S=!1,x=void 0;try{for(var T,A=m.slice[Symbol.iterator]();!(E=(T=A.next()).done);E=!0){var C=T.value,R=new o.default(g,new u.Slice(C.vertex_offset,C.vertex_count));g.addSlice(R)}}catch(t){S=!0,x=t}finally{try{!E&&A.return&&A.return()}finally{if(S)throw x}}r.addMesh(g)}}catch(t){b=!0,w=t}finally{try{!d&&k.return&&k.return()}finally{if(b)throw w}}return r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s.default),i(n,[{key:"addMesh",value:function(t){var e=8*t.vertexCount;t.createVertexBuffer(y).data=new Float32Array(e),function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addMesh",this).call(this,t)}}]),n}();n.default=d},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(75),o=(i=u)&&i.__esModule?i:{default:i};var a=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.We=[],e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"slice",value:function(t){var n=this.We;return t>=n.length?null:n[t]}},{key:"addSlice",value:function(t){this.We.push(t)}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(31)),u=c(e(142)),o=c(e(73)),a=e(13);function c(t){return t&&t.__esModule?t:{default:t}}var s=[new r.default("visible",a.MeshAttributeType.FLOAT,0,1)],f=[new r.default("subNodeId",a.MeshAttributeType.FLOAT,0,3)],h=[new r.default("subNodeMatrix",a.MeshAttributeType.FLOAT,0,16)],l=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"addMesh",value:function(t){t.createVertexBuffer(s).data=new Float32Array(t.vertexCount),t.createVertexBuffer(f).data=new Float32Array(3*t.vertexCount),t.createVertexBuffer(h).data=new Float32Array(16*t.vertexCount),function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addMesh",this).call(this,t)}},{key:"slice",value:function(t,n){var e=this.mesh(t);return e&&e instanceof u.default?e.slice(n):null}}]),n}();n.default=l},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(58)),u=c(e(9)),o=c(e(30)),a=e(230);e(541);function c(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(n){var e=n.translation,i=n.rotation,r=n.scaling;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.lt=(0,a.createProperty)("translation",e),this.ft=(0,a.createProperty)("rotation",i),this.ht=(0,a.createProperty)("scaling",r)}return i(t,[{key:"createLayerNode",value:function(t,n,e){var i=new o.default;return t.addNode(t),i}},{key:"applyLayerStyle",value:function(t,n){}},{key:"createFeatureNode",value:function(t,n,e){var i=new o.default;return i.feature=n,this.applyLayerStyle(i,n),i}},{key:"applyFeatureStyle",value:function(t,n,e){var i=n.position,o=this.lt.getValue(n)||this.lt.getValue(e.translation);o?t.translateTo(new u.default(i.lng,i.lat,0).add(o)):t.translateTo(new u.default(i.lng,i.lat,0));var a=this.ft.getValue(n)||this.ft.getValue(e.rotation);a&&t.rotateTo(new r.default(a));var c=this.ht.getValue(n)||this.ht.getValue(e.scaling);c&&t.scaleTo(c)}}]),t}();n.default=s},function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){t.exports=!e(6)&&!e(3)(function(){return 7!=Object.defineProperty(e(103)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){n.f=e(5)},function(t,n,e){var i=e(19),r=e(20),u=e(77)(!1),o=e(105)("IE_PROTO");t.exports=function(t,n){var e,a=r(t),c=0,s=[];for(e in a)e!=o&&i(a,e)&&s.push(e);for(;n.length>c;)i(a,e=n[c++])&&(~u(s,e)||s.push(e));return s}},function(t,n,e){var i=e(7),r=e(1),u=e(50);t.exports=e(6)?Object.defineProperties:function(t,n){r(t);for(var e,o=u(n),a=o.length,c=0;a>c;)i.f(t,e=o[c++],n[e]);return t}},function(t,n,e){var i=e(20),r=e(53).f,u={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==u.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(i(t))}},function(t,n,e){"use strict";var i=e(50),r=e(78),u=e(69),o=e(10),a=e(68),c=Object.assign;t.exports=!c||e(3)(function(){var t={},n={},e=Symbol(),i="abcdefghijklmnopqrst";return t[e]=7,i.split("").forEach(function(t){n[t]=t}),7!=c({},t)[e]||Object.keys(c({},n)).join("")!=i})?function(t,n){for(var e=o(t),c=arguments.length,s=1,f=r.f,h=u.f;c>s;)for(var l,v=a(arguments[s++]),y=f?i(v).concat(f(v)):i(v),d=y.length,b=0;d>b;)h.call(v,l=y[b++])&&(e[l]=v[l]);return e}:c},function(t,n,e){"use strict";var i=e(11),r=e(4),u=e(153),o=[].slice,a={};t.exports=Function.bind||function(t){var n=i(this),e=o.call(arguments,1),c=function(){var i=e.concat(o.call(arguments));return this instanceof c?function(t,n,e){if(!(n in a)){for(var i=[],r=0;r<n;r++)i[r]="a["+r+"]";a[n]=Function("F,a","return new F("+i.join(",")+")")}return a[n](t,e)}(n,i.length,i):u(n,i,t)};return r(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n){t.exports=function(t,n,e){var i=void 0===e;switch(n.length){case 0:return i?t():t.call(e);case 1:return i?t(n[0]):t.call(e,n[0]);case 2:return i?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return i?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return i?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},function(t,n,e){var i=e(2).parseInt,r=e(63).trim,u=e(109),o=/^[-+]?0[xX]/;t.exports=8!==i(u+"08")||22!==i(u+"0x16")?function(t,n){var e=r(String(t),3);return i(e,n>>>0||(o.test(e)?16:10))}:i},function(t,n,e){var i=e(2).parseFloat,r=e(63).trim;t.exports=1/i(e(109)+"-0")!=-1/0?function(t){var n=r(String(t),3),e=i(n);return 0===e&&"-"==n.charAt(0)?-0:e}:i},function(t,n,e){var i=e(25);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(n);return+t}},function(t,n,e){var i=e(4),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,e){var i=e(112),r=Math.pow,u=r(2,-52),o=r(2,-23),a=r(2,127)*(2-o),c=r(2,-126);t.exports=Math.fround||function(t){var n,e,r=Math.abs(t),s=i(t);return r<c?s*(r/c/o+1/u-1/u)*c*o:(e=(n=(1+o/u)*r)-(n-r))>a||e!=e?s*(1/0):s*e}},function(t,n,e){var i=e(1);t.exports=function(t,n,e,r){try{return r?n(i(e)[0],e[1]):n(e)}catch(n){var u=t.return;throw void 0!==u&&i(u.call(t)),n}}},function(t,n,e){var i=e(11),r=e(10),u=e(68),o=e(8);t.exports=function(t,n,e,a,c){i(n);var s=r(t),f=u(s),h=o(s.length),l=c?h-1:0,v=c?-1:1;if(e<2)for(;;){if(l in f){a=f[l],l+=v;break}if(l+=v,c?l<0:h<=l)throw TypeError("Reduce of empty array with no initial value")}for(;c?l>=0:h>l;l+=v)l in f&&(a=n(a,f[l],l,s));return a}},function(t,n,e){"use strict";var i=e(10),r=e(51),u=e(8);t.exports=[].copyWithin||function(t,n){var e=i(this),o=u(e.length),a=r(t,o),c=r(n,o),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?o:r(s,o))-c,o-a),h=1;for(c<a&&a<c+f&&(h=-1,c+=f-1,a+=f-1);f-- >0;)c in e?e[a]=e[c]:delete e[a],a+=h,c+=h;return e}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){e(6)&&"g"!=/./g.flags&&e(7).f(RegExp.prototype,"flags",{configurable:!0,get:e(82)})},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,e){var i=e(1),r=e(4),u=e(127);t.exports=function(t,n){if(i(t),r(n)&&n.constructor===t)return n;var e=u.f(t);return(0,e.resolve)(n),e.promise}},function(t,n,e){"use strict";var i=e(168),r=e(65);t.exports=e(86)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=i.getEntry(r(this,"Map"),t);return n&&n.v},set:function(t,n){return i.def(r(this,"Map"),0===t?0:t,n)}},i,!0)},function(t,n,e){"use strict";var i=e(7).f,r=e(52),u=e(57),o=e(24),a=e(55),c=e(56),s=e(115),f=e(163),h=e(54),l=e(6),v=e(41).fastKey,y=e(65),d=l?"_s":"size",b=function(t,n){var e,i=v(n);if("F"!==i)return t.Qn[i];for(e=t.Ye;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,s){var f=t(function(t,i){a(t,f,n,"_i"),t.It=n,t.Qn=r(null),t.Ye=void 0,t.Ve=void 0,t[d]=0,void 0!=i&&c(i,e,t[s],t)});return u(f.prototype,{clear:function(){for(var t=y(this,n),e=t.Qn,i=t.Ye;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t.Ye=t.Ve=void 0,t[d]=0},delete:function(t){var e=y(this,n),i=b(e,t);if(i){var r=i.n,u=i.p;delete e.Qn[i.i],i.r=!0,u&&(u.n=r),r&&(r.p=u),e.Ye==i&&(e.Ye=r),e.Ve==i&&(e.Ve=u),e[d]--}return!!i},forEach:function(t){y(this,n);for(var e,i=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this.Ye;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!b(y(this,n),t)}}),l&&i(f.prototype,"size",{get:function(){return y(this,n)[d]}}),f},def:function(t,n,e){var i,r,u=b(t,n);return u?u.v=e:(t.Ve=u={i:r=v(n,!0),k:n,v:e,p:i=t.Ve,n:void 0,r:!1},t.Ye||(t.Ye=u),i&&(i.n=u),t[d]++,"F"!==r&&(t.Qn[r]=u)),t},getEntry:b,setStrong:function(t,n,e){s(t,n,function(t,e){this.It=y(t,n),this.Jn=e,this.Ve=void 0},function(){for(var t=this.Jn,n=this.Ve;n&&n.r;)n=n.p;return this.It&&(this.Ve=n=n?n.n:this.It.Ye)?f(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(this.It=void 0,f(1))},e?"entries":"values",!e,!0),h(n)}}},function(t,n,e){"use strict";var i=e(168),r=e(65);t.exports=e(86)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,n,e){"use strict";var i,r=e(36)(0),u=e(15),o=e(41),a=e(151),c=e(171),s=e(4),f=e(3),h=e(65),l=o.getWeak,v=Object.isExtensible,y=c.ufstore,d={},b=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},w={get:function(t){if(s(t)){var n=l(t);return!0===n?y(h(this,"WeakMap")).get(t):n?n[this.Qn]:void 0}},set:function(t,n){return c.def(h(this,"WeakMap"),t,n)}},p=t.exports=e(86)("WeakMap",b,w,c,!0,!0);f(function(){return 7!=(new p).set((Object.freeze||Object)(d),7).get(d)})&&(a((i=c.getConstructor(b,"WeakMap")).prototype,w),o.NEED=!0,r(["delete","has","get","set"],function(t){var n=p.prototype,e=n[t];u(n,t,function(n,r){if(s(n)&&!v(n)){this.Ye||(this.Ye=new i);var u=this.Ye[t](n,r);return"set"==t?this:u}return e.call(this,n,r)})}))},function(t,n,e){"use strict";var i=e(57),r=e(41).getWeak,u=e(1),o=e(4),a=e(55),c=e(56),s=e(36),f=e(19),h=e(65),l=s(5),v=s(6),y=0,d=function(t){return t.Ve||(t.Ve=new b)},b=function(){this.a=[]},w=function(t,n){return l(t.a,function(t){return t[0]===n})};b.prototype={get:function(t){var n=w(this,t);if(n)return n[1]},has:function(t){return!!w(this,t)},set:function(t,n){var e=w(this,t);e?e[1]=n:this.a.push([t,n])},delete:function(t){var n=v(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,e,u){var s=t(function(t,i){a(t,s,n,"_i"),t.It=n,t.Qn=y++,t.Ve=void 0,void 0!=i&&c(i,e,t[u],t)});return i(s.prototype,{delete:function(t){if(!o(t))return!1;var e=r(t);return!0===e?d(h(this,n)).delete(t):e&&f(e,this.Qn)&&delete e[this.Qn]},has:function(t){if(!o(t))return!1;var e=r(t);return!0===e?d(h(this,n)).has(t):e&&f(e,this.Qn)}}),s},def:function(t,n,e){var i=r(u(n),!0);return!0===i?d(t).set(n,e):i[t.Qn]=e,t},ufstore:d}},function(t,n,e){var i=e(34),r=e(8);t.exports=function(t){if(void 0===t)return 0;var n=i(t),e=r(n);if(n!==e)throw RangeError("Wrong length!");return e}},function(t,n,e){var i=e(53),r=e(78),u=e(1),o=e(2).Reflect;t.exports=o&&o.ownKeys||function(t){var n=i.f(u(t)),e=r.f;return e?n.concat(e(t)):n}},function(t,n,e){"use strict";var i=e(79),r=e(4),u=e(8),o=e(24),a=e(5)("isConcatSpreadable");t.exports=function t(n,e,c,s,f,h,l,v){for(var y,d,b=f,w=0,p=!!l&&o(l,v,3);w<s;){if(w in c){if(y=p?p(c[w],w,e):c[w],d=!1,r(y)&&(d=void 0!==(d=y[a])?!!d:i(y)),d&&h>0)b=t(n,e,y,u(y.length),b,h-1)-1;else{if(b>=9007199254740991)throw TypeError();n[b]=y}b++}w++}return b}},function(t,n,e){var i=e(8),r=e(111),u=e(33);t.exports=function(t,n,e,o){var a=String(u(t)),c=a.length,s=void 0===e?" ":String(e),f=i(n);if(f<=c||""==s)return a;var h=f-c,l=r.call(s,Math.ceil(h/s.length));return l.length>h&&(l=l.slice(0,h)),o?l+a:a+l}},function(t,n,e){var i=e(50),r=e(20),u=e(69).f;t.exports=function(t){return function(n){for(var e,o=r(n),a=i(o),c=a.length,s=0,f=[];c>s;)u.call(o,e=a[s++])&&f.push(t?[e,o[e]]:o[e]);return f}}},function(t,n,e){var i=e(70),r=e(178);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,n,e){var i=e(56);t.exports=function(t,n){var e=[];return i(t,!1,e.push,e,n),e}},function(t,n){t.exports=Math.scale||function(t,n,e,i,r){return 0===arguments.length||t!=t||n!=n||e!=e||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-n)*(r-i)/(e-n)+i}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.project=o,n.unProject=function(t,n){window.assert(t instanceof i.default);var e=t.worldInverseMatrix.invert().multiply(t.projectionMatrix.invert());return n.transformMatrix4(e)},n.toCameraCoordinate=function(t,n,e){var u=n.width,o=n.height;window.assert(t instanceof i.default);var a=new r.default(e.x/u*2-1,-e.y/o*2+1,e.z),c=t.worldInverseMatrix.invert(),s=function(t,n,e){window.assert(t instanceof i.default);var r=n.multiply(t.projectionMatrix.invert());return e.transformMatrix4(r)}(t,c,a),f=new r.default(c[12],c[13],c[14]),h=s.subtract(f).normalize(),l=-f.z/h.z,v=f.add(h.scale(l));return v.x+=t.eye.x,v.y+=t.eye.y,v},n.toScreenCoordinate=function(t,n,e){var r=n.width,u=n.height;window.assert(t instanceof i.default);var a=o(t,e);return a.x=(a.x+1)/2*r,a.y=-(a.y-1)/2*u,a.z=0,a};var i=u(e(71)),r=u(e(9));e(187);function u(t){return t&&t.__esModule?t:{default:t}}function o(t,n){window.assert(t instanceof i.default);var e=t.eye,r=n.clone();r.setValue(n.x-e.x,n.y-e.y,n.z);var u=t.projectionMatrix.multiply(t.worldInverseMatrix);return r.transformMatrix4(u)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){let t=new i.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat4=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t},n.clone=function(t){let n=new i.ARRAY_TYPE(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromValues=function(t,n,e,r,u,o,a,c,s){let f=new i.ARRAY_TYPE(9);return f[0]=t,f[1]=n,f[2]=e,f[3]=r,f[4]=u,f[5]=o,f[6]=a,f[7]=c,f[8]=s,f},n.set=function(t,n,e,i,r,u,o,a,c,s){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t[4]=u,t[5]=o,t[6]=a,t[7]=c,t[8]=s,t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.transpose=function(t,n){if(t===n){let e=n[1],i=n[2],r=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=i,t[7]=r}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t},n.invert=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=n[6],s=n[7],f=n[8],h=f*o-a*s,l=-f*u+a*c,v=s*u-o*c,y=e*h+i*l+r*v;if(!y)return null;return y=1/y,t[0]=h*y,t[1]=(-f*i+r*s)*y,t[2]=(a*i-r*o)*y,t[3]=l*y,t[4]=(f*e-r*c)*y,t[5]=(-a*e+r*u)*y,t[6]=v*y,t[7]=(-s*e+i*c)*y,t[8]=(o*e-i*u)*y,t},n.adjoint=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=n[6],s=n[7],f=n[8];return t[0]=o*f-a*s,t[1]=r*s-i*f,t[2]=i*a-r*o,t[3]=a*c-u*f,t[4]=e*f-r*c,t[5]=r*u-e*a,t[6]=u*s-o*c,t[7]=i*c-e*s,t[8]=e*o-i*u,t},n.determinant=function(t){let n=t[0],e=t[1],i=t[2],r=t[3],u=t[4],o=t[5],a=t[6],c=t[7],s=t[8];return n*(s*u-o*c)+e*(-s*r+o*a)+i*(c*r-u*a)},n.multiply=r,n.translate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=n[6],f=n[7],h=n[8],l=e[0],v=e[1];return t[0]=i,t[1]=r,t[2]=u,t[3]=o,t[4]=a,t[5]=c,t[6]=l*i+v*o+s,t[7]=l*r+v*a+f,t[8]=l*u+v*c+h,t},n.rotate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=n[6],f=n[7],h=n[8],l=Math.sin(e),v=Math.cos(e);return t[0]=v*i+l*o,t[1]=v*r+l*a,t[2]=v*u+l*c,t[3]=v*o-l*i,t[4]=v*a-l*r,t[5]=v*c-l*u,t[6]=s,t[7]=f,t[8]=h,t},n.scale=function(t,n,e){let i=e[0],r=e[1];return t[0]=i*n[0],t[1]=i*n[1],t[2]=i*n[2],t[3]=r*n[3],t[4]=r*n[4],t[5]=r*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},n.fromRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=e,t[2]=0,t[3]=-e,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},n.fromMat2d=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},n.fromQuat=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=e+e,a=i+i,c=r+r,s=e*o,f=i*o,h=i*a,l=r*o,v=r*a,y=r*c,d=u*o,b=u*a,w=u*c;return t[0]=1-h-y,t[3]=f-w,t[6]=l+b,t[1]=f+w,t[4]=1-s-y,t[7]=v-d,t[2]=l-b,t[5]=v+d,t[8]=1-s-h,t},n.normalFromMat4=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=n[6],s=n[7],f=n[8],h=n[9],l=n[10],v=n[11],y=n[12],d=n[13],b=n[14],w=n[15],p=e*a-i*o,k=e*c-r*o,m=e*s-u*o,g=i*c-r*a,O=i*s-u*a,j=r*s-u*c,M=f*d-h*y,_=f*b-l*y,E=f*w-v*y,S=h*b-l*d,x=h*w-v*d,T=l*w-v*b,A=p*T-k*x+m*S+g*E-O*_+j*M;if(!A)return null;return A=1/A,t[0]=(a*T-c*x+s*S)*A,t[1]=(c*E-o*T-s*_)*A,t[2]=(o*x-a*E+s*M)*A,t[3]=(r*x-i*T-u*S)*A,t[4]=(e*T-r*E+u*_)*A,t[5]=(i*E-e*x-u*M)*A,t[6]=(d*j-b*O+w*g)*A,t[7]=(b*m-y*j-w*k)*A,t[8]=(y*O-d*m+w*p)*A,t},n.projection=function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},n.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},n.subtract=u,n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},n.multiplyScalarAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t[3]=n[3]+e[3]*i,t[4]=n[4]+e[4]*i,t[5]=n[5]+e[5]*i,t[6]=n[6]+e[6]*i,t[7]=n[7]+e[7]*i,t[8]=n[8]+e[8]*i,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=t[4],c=t[5],s=t[6],f=t[7],h=t[8],l=n[0],v=n[1],y=n[2],d=n[3],b=n[4],w=n[5],p=n[6],k=n[7],m=n[8];return Math.abs(e-l)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(r-v)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(u-y)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(o-d)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-b)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(c-w)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(s-p)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(f-k)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-m)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(m))};var i=e(37);function r(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=n[6],f=n[7],h=n[8],l=e[0],v=e[1],y=e[2],d=e[3],b=e[4],w=e[5],p=e[6],k=e[7],m=e[8];return t[0]=l*i+v*o+y*s,t[1]=l*r+v*a+y*f,t[2]=l*u+v*c+y*h,t[3]=d*i+b*o+w*s,t[4]=d*r+b*a+w*f,t[5]=d*u+b*c+w*h,t[6]=p*i+k*o+m*s,t[7]=p*r+k*a+m*f,t[8]=p*u+k*c+m*h,t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}const o=r;n.mul=o;const a=u;n.sub=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){let t=new i.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.clone=function(t){let n=new i.ARRAY_TYPE(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.fromValues=function(t,n,e,r,u,o,a,c,s,f,h,l,v,y,d,b){let w=new i.ARRAY_TYPE(16);return w[0]=t,w[1]=n,w[2]=e,w[3]=r,w[4]=u,w[5]=o,w[6]=a,w[7]=c,w[8]=s,w[9]=f,w[10]=h,w[11]=l,w[12]=v,w[13]=y,w[14]=d,w[15]=b,w},n.set=function(t,n,e,i,r,u,o,a,c,s,f,h,l,v,y,d,b){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t[4]=u,t[5]=o,t[6]=a,t[7]=c,t[8]=s,t[9]=f,t[10]=h,t[11]=l,t[12]=v,t[13]=y,t[14]=d,t[15]=b,t},n.identity=r,n.transpose=function(t,n){if(t===n){let e=n[1],i=n[2],r=n[3],u=n[6],o=n[7],a=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=i,t[9]=u,t[11]=n[14],t[12]=r,t[13]=o,t[14]=a}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t},n.invert=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=n[6],s=n[7],f=n[8],h=n[9],l=n[10],v=n[11],y=n[12],d=n[13],b=n[14],w=n[15],p=e*a-i*o,k=e*c-r*o,m=e*s-u*o,g=i*c-r*a,O=i*s-u*a,j=r*s-u*c,M=f*d-h*y,_=f*b-l*y,E=f*w-v*y,S=h*b-l*d,x=h*w-v*d,T=l*w-v*b,A=p*T-k*x+m*S+g*E-O*_+j*M;if(!A)return null;return A=1/A,t[0]=(a*T-c*x+s*S)*A,t[1]=(r*x-i*T-u*S)*A,t[2]=(d*j-b*O+w*g)*A,t[3]=(l*O-h*j-v*g)*A,t[4]=(c*E-o*T-s*_)*A,t[5]=(e*T-r*E+u*_)*A,t[6]=(b*m-y*j-w*k)*A,t[7]=(f*j-l*m+v*k)*A,t[8]=(o*x-a*E+s*M)*A,t[9]=(i*E-e*x-u*M)*A,t[10]=(y*O-d*m+w*p)*A,t[11]=(h*m-f*O-v*p)*A,t[12]=(a*_-o*S-c*M)*A,t[13]=(e*S-i*_+r*M)*A,t[14]=(d*k-y*g-b*p)*A,t[15]=(f*g-h*k+l*p)*A,t},n.adjoint=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=n[6],s=n[7],f=n[8],h=n[9],l=n[10],v=n[11],y=n[12],d=n[13],b=n[14],w=n[15];return t[0]=a*(l*w-v*b)-h*(c*w-s*b)+d*(c*v-s*l),t[1]=-(i*(l*w-v*b)-h*(r*w-u*b)+d*(r*v-u*l)),t[2]=i*(c*w-s*b)-a*(r*w-u*b)+d*(r*s-u*c),t[3]=-(i*(c*v-s*l)-a*(r*v-u*l)+h*(r*s-u*c)),t[4]=-(o*(l*w-v*b)-f*(c*w-s*b)+y*(c*v-s*l)),t[5]=e*(l*w-v*b)-f*(r*w-u*b)+y*(r*v-u*l),t[6]=-(e*(c*w-s*b)-o*(r*w-u*b)+y*(r*s-u*c)),t[7]=e*(c*v-s*l)-o*(r*v-u*l)+f*(r*s-u*c),t[8]=o*(h*w-v*d)-f*(a*w-s*d)+y*(a*v-s*h),t[9]=-(e*(h*w-v*d)-f*(i*w-u*d)+y*(i*v-u*h)),t[10]=e*(a*w-s*d)-o*(i*w-u*d)+y*(i*s-u*a),t[11]=-(e*(a*v-s*h)-o*(i*v-u*h)+f*(i*s-u*a)),t[12]=-(o*(h*b-l*d)-f*(a*b-c*d)+y*(a*l-c*h)),t[13]=e*(h*b-l*d)-f*(i*b-r*d)+y*(i*l-r*h),t[14]=-(e*(a*b-c*d)-o*(i*b-r*d)+y*(i*c-r*a)),t[15]=e*(a*l-c*h)-o*(i*l-r*h)+f*(i*c-r*a),t},n.determinant=function(t){let n=t[0],e=t[1],i=t[2],r=t[3],u=t[4],o=t[5],a=t[6],c=t[7],s=t[8],f=t[9],h=t[10],l=t[11],v=t[12],y=t[13],d=t[14],b=t[15];return(n*o-e*u)*(h*b-l*d)-(n*a-i*u)*(f*b-l*y)+(n*c-r*u)*(f*d-h*y)+(e*a-i*o)*(s*b-l*v)-(e*c-r*o)*(s*d-h*v)+(i*c-r*a)*(s*y-f*v)},n.multiply=u,n.translate=function(t,n,e){let i,r,u,o,a,c,s,f,h,l,v,y,d=e[0],b=e[1],w=e[2];n===t?(t[12]=n[0]*d+n[4]*b+n[8]*w+n[12],t[13]=n[1]*d+n[5]*b+n[9]*w+n[13],t[14]=n[2]*d+n[6]*b+n[10]*w+n[14],t[15]=n[3]*d+n[7]*b+n[11]*w+n[15]):(i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=n[6],f=n[7],h=n[8],l=n[9],v=n[10],y=n[11],t[0]=i,t[1]=r,t[2]=u,t[3]=o,t[4]=a,t[5]=c,t[6]=s,t[7]=f,t[8]=h,t[9]=l,t[10]=v,t[11]=y,t[12]=i*d+a*b+h*w+n[12],t[13]=r*d+c*b+l*w+n[13],t[14]=u*d+s*b+v*w+n[14],t[15]=o*d+f*b+y*w+n[15]);return t},n.scale=function(t,n,e){let i=e[0],r=e[1],u=e[2];return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=n[3]*i,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=n[7]*r,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=n[11]*u,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t},n.rotate=function(t,n,e,r){let u,o,a,c,s,f,h,l,v,y,d,b,w,p,k,m,g,O,j,M,_,E,S,x,T=r[0],A=r[1],C=r[2],R=Math.sqrt(T*T+A*A+C*C);if(R<i.EPSILON)return null;T*=R=1/R,A*=R,C*=R,u=Math.sin(e),o=Math.cos(e),a=1-o,c=n[0],s=n[1],f=n[2],h=n[3],l=n[4],v=n[5],y=n[6],d=n[7],b=n[8],w=n[9],p=n[10],k=n[11],m=T*T*a+o,g=A*T*a+C*u,O=C*T*a-A*u,j=T*A*a-C*u,M=A*A*a+o,_=C*A*a+T*u,E=T*C*a+A*u,S=A*C*a-T*u,x=C*C*a+o,t[0]=c*m+l*g+b*O,t[1]=s*m+v*g+w*O,t[2]=f*m+y*g+p*O,t[3]=h*m+d*g+k*O,t[4]=c*j+l*M+b*_,t[5]=s*j+v*M+w*_,t[6]=f*j+y*M+p*_,t[7]=h*j+d*M+k*_,t[8]=c*E+l*S+b*x,t[9]=s*E+v*S+w*x,t[10]=f*E+y*S+p*x,t[11]=h*E+d*S+k*x,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t},n.rotateX=function(t,n,e){let i=Math.sin(e),r=Math.cos(e),u=n[4],o=n[5],a=n[6],c=n[7],s=n[8],f=n[9],h=n[10],l=n[11];n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[4]=u*r+s*i,t[5]=o*r+f*i,t[6]=a*r+h*i,t[7]=c*r+l*i,t[8]=s*r-u*i,t[9]=f*r-o*i,t[10]=h*r-a*i,t[11]=l*r-c*i,t},n.rotateY=function(t,n,e){let i=Math.sin(e),r=Math.cos(e),u=n[0],o=n[1],a=n[2],c=n[3],s=n[8],f=n[9],h=n[10],l=n[11];n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*r-s*i,t[1]=o*r-f*i,t[2]=a*r-h*i,t[3]=c*r-l*i,t[8]=u*i+s*r,t[9]=o*i+f*r,t[10]=a*i+h*r,t[11]=c*i+l*r,t},n.rotateZ=function(t,n,e){let i=Math.sin(e),r=Math.cos(e),u=n[0],o=n[1],a=n[2],c=n[3],s=n[4],f=n[5],h=n[6],l=n[7];n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t[0]=u*r+s*i,t[1]=o*r+f*i,t[2]=a*r+h*i,t[3]=c*r+l*i,t[4]=s*r-u*i,t[5]=f*r-o*i,t[6]=h*r-a*i,t[7]=l*r-c*i,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotation=function(t,n,e){let r,u,o,a=e[0],c=e[1],s=e[2],f=Math.sqrt(a*a+c*c+s*s);if(f<i.EPSILON)return null;return a*=f=1/f,c*=f,s*=f,r=Math.sin(n),u=Math.cos(n),o=1-u,t[0]=a*a*o+u,t[1]=c*a*o+s*r,t[2]=s*a*o-c*r,t[3]=0,t[4]=a*c*o-s*r,t[5]=c*c*o+u,t[6]=s*c*o+a*r,t[7]=0,t[8]=a*s*o+c*r,t[9]=c*s*o-a*r,t[10]=s*s*o+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromXRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromYRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromZRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.fromRotationTranslation=o,n.fromQuat2=function(t,n){let e=new i.ARRAY_TYPE(3),r=-n[0],u=-n[1],a=-n[2],c=n[3],s=n[4],f=n[5],h=n[6],l=n[7],v=r*r+u*u+a*a+c*c;v>0?(e[0]=2*(s*c+l*r+f*a-h*u)/v,e[1]=2*(f*c+l*u+h*r-s*a)/v,e[2]=2*(h*c+l*a+s*u-f*r)/v):(e[0]=2*(s*c+l*r+f*a-h*u),e[1]=2*(f*c+l*u+h*r-s*a),e[2]=2*(h*c+l*a+s*u-f*r));return o(t,n,e),t},n.getTranslation=function(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t},n.getScaling=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[4],o=n[5],a=n[6],c=n[8],s=n[9],f=n[10];return t[0]=Math.sqrt(e*e+i*i+r*r),t[1]=Math.sqrt(u*u+o*o+a*a),t[2]=Math.sqrt(c*c+s*s+f*f),t},n.getRotation=function(t,n){let e=n[0]+n[5]+n[10],i=0;e>0?(i=2*Math.sqrt(e+1),t[3]=.25*i,t[0]=(n[6]-n[9])/i,t[1]=(n[8]-n[2])/i,t[2]=(n[1]-n[4])/i):n[0]>n[5]&&n[0]>n[10]?(i=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/i,t[0]=.25*i,t[1]=(n[1]+n[4])/i,t[2]=(n[8]+n[2])/i):n[5]>n[10]?(i=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/i,t[0]=(n[1]+n[4])/i,t[1]=.25*i,t[2]=(n[6]+n[9])/i):(i=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/i,t[0]=(n[8]+n[2])/i,t[1]=(n[6]+n[9])/i,t[2]=.25*i);return t},n.fromRotationTranslationScale=function(t,n,e,i){let r=n[0],u=n[1],o=n[2],a=n[3],c=r+r,s=u+u,f=o+o,h=r*c,l=r*s,v=r*f,y=u*s,d=u*f,b=o*f,w=a*c,p=a*s,k=a*f,m=i[0],g=i[1],O=i[2];return t[0]=(1-(y+b))*m,t[1]=(l+k)*m,t[2]=(v-p)*m,t[3]=0,t[4]=(l-k)*g,t[5]=(1-(h+b))*g,t[6]=(d+w)*g,t[7]=0,t[8]=(v+p)*O,t[9]=(d-w)*O,t[10]=(1-(h+y))*O,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},n.fromRotationTranslationScaleOrigin=function(t,n,e,i,r){let u=n[0],o=n[1],a=n[2],c=n[3],s=u+u,f=o+o,h=a+a,l=u*s,v=u*f,y=u*h,d=o*f,b=o*h,w=a*h,p=c*s,k=c*f,m=c*h,g=i[0],O=i[1],j=i[2],M=r[0],_=r[1],E=r[2],S=(1-(d+w))*g,x=(v+m)*g,T=(y-k)*g,A=(v-m)*O,C=(1-(l+w))*O,R=(b+p)*O,N=(y+k)*j,I=(b-p)*j,F=(1-(l+d))*j;return t[0]=S,t[1]=x,t[2]=T,t[3]=0,t[4]=A,t[5]=C,t[6]=R,t[7]=0,t[8]=N,t[9]=I,t[10]=F,t[11]=0,t[12]=e[0]+M-(S*M+A*_+N*E),t[13]=e[1]+_-(x*M+C*_+I*E),t[14]=e[2]+E-(T*M+R*_+F*E),t[15]=1,t},n.fromQuat=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=e+e,a=i+i,c=r+r,s=e*o,f=i*o,h=i*a,l=r*o,v=r*a,y=r*c,d=u*o,b=u*a,w=u*c;return t[0]=1-h-y,t[1]=f+w,t[2]=l-b,t[3]=0,t[4]=f-w,t[5]=1-s-y,t[6]=v+d,t[7]=0,t[8]=l+b,t[9]=v-d,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},n.frustum=function(t,n,e,i,r,u,o){let a=1/(e-n),c=1/(r-i),s=1/(u-o);return t[0]=2*u*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*u*c,t[6]=0,t[7]=0,t[8]=(e+n)*a,t[9]=(r+i)*c,t[10]=(o+u)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*u*2*s,t[15]=0,t},n.perspective=function(t,n,e,i,r){let u=1/Math.tan(n/2),o=1/(i-r);return t[0]=u/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*o,t[15]=0,t},n.perspectiveFromFieldOfView=function(t,n,e,i){let r=Math.tan(n.upDegrees*Math.PI/180),u=Math.tan(n.downDegrees*Math.PI/180),o=Math.tan(n.leftDegrees*Math.PI/180),a=Math.tan(n.rightDegrees*Math.PI/180),c=2/(o+a),s=2/(r+u);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(o-a)*c*.5,t[9]=(r-u)*s*.5,t[10]=i/(e-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*e/(e-i),t[15]=0,t},n.ortho=function(t,n,e,i,r,u,o){let a=1/(n-e),c=1/(i-r),s=1/(u-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+e)*a,t[13]=(r+i)*c,t[14]=(o+u)*s,t[15]=1,t},n.lookAt=function(t,n,e,u){let o,a,c,s,f,h,l,v,y,d,b=n[0],w=n[1],p=n[2],k=u[0],m=u[1],g=u[2],O=e[0],j=e[1],M=e[2];if(Math.abs(b-O)<i.EPSILON&&Math.abs(w-j)<i.EPSILON&&Math.abs(p-M)<i.EPSILON)return r(t);l=b-O,v=w-j,y=p-M,d=1/Math.sqrt(l*l+v*v+y*y),o=m*(y*=d)-g*(v*=d),a=g*(l*=d)-k*y,c=k*v-m*l,(d=Math.sqrt(o*o+a*a+c*c))?(o*=d=1/d,a*=d,c*=d):(o=0,a=0,c=0);s=v*c-y*a,f=y*o-l*c,h=l*a-v*o,(d=Math.sqrt(s*s+f*f+h*h))?(s*=d=1/d,f*=d,h*=d):(s=0,f=0,h=0);return t[0]=o,t[1]=s,t[2]=l,t[3]=0,t[4]=a,t[5]=f,t[6]=v,t[7]=0,t[8]=c,t[9]=h,t[10]=y,t[11]=0,t[12]=-(o*b+a*w+c*p),t[13]=-(s*b+f*w+h*p),t[14]=-(l*b+v*w+y*p),t[15]=1,t},n.targetTo=function(t,n,e,i){let r=n[0],u=n[1],o=n[2],a=i[0],c=i[1],s=i[2],f=r-e[0],h=u-e[1],l=o-e[2],v=f*f+h*h+l*l;v>0&&(v=1/Math.sqrt(v),f*=v,h*=v,l*=v);let y=c*l-s*h,d=s*f-a*l,b=a*h-c*f;(v=y*y+d*d+b*b)>0&&(v=1/Math.sqrt(v),y*=v,d*=v,b*=v);return t[0]=y,t[1]=d,t[2]=b,t[3]=0,t[4]=h*b-l*d,t[5]=l*y-f*b,t[6]=f*d-h*y,t[7]=0,t[8]=f,t[9]=h,t[10]=l,t[11]=0,t[12]=r,t[13]=u,t[14]=o,t[15]=1,t},n.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t},n.subtract=a,n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t},n.multiplyScalarAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t[3]=n[3]+e[3]*i,t[4]=n[4]+e[4]*i,t[5]=n[5]+e[5]*i,t[6]=n[6]+e[6]*i,t[7]=n[7]+e[7]*i,t[8]=n[8]+e[8]*i,t[9]=n[9]+e[9]*i,t[10]=n[10]+e[10]*i,t[11]=n[11]+e[11]*i,t[12]=n[12]+e[12]*i,t[13]=n[13]+e[13]*i,t[14]=n[14]+e[14]*i,t[15]=n[15]+e[15]*i,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=t[4],c=t[5],s=t[6],f=t[7],h=t[8],l=t[9],v=t[10],y=t[11],d=t[12],b=t[13],w=t[14],p=t[15],k=n[0],m=n[1],g=n[2],O=n[3],j=n[4],M=n[5],_=n[6],E=n[7],S=n[8],x=n[9],T=n[10],A=n[11],C=n[12],R=n[13],N=n[14],I=n[15];return Math.abs(e-k)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(r-m)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(u-g)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(o-O)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(a-j)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(c-M)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(s-_)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(f-E)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-S)<=i.EPSILON*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(l-x)<=i.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(v-T)<=i.EPSILON*Math.max(1,Math.abs(v),Math.abs(T))&&Math.abs(y-A)<=i.EPSILON*Math.max(1,Math.abs(y),Math.abs(A))&&Math.abs(d-C)<=i.EPSILON*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(b-R)<=i.EPSILON*Math.max(1,Math.abs(b),Math.abs(R))&&Math.abs(w-N)<=i.EPSILON*Math.max(1,Math.abs(w),Math.abs(N))&&Math.abs(p-I)<=i.EPSILON*Math.max(1,Math.abs(p),Math.abs(I))};var i=e(37);function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=n[6],f=n[7],h=n[8],l=n[9],v=n[10],y=n[11],d=n[12],b=n[13],w=n[14],p=n[15],k=e[0],m=e[1],g=e[2],O=e[3];return t[0]=k*i+m*a+g*h+O*d,t[1]=k*r+m*c+g*l+O*b,t[2]=k*u+m*s+g*v+O*w,t[3]=k*o+m*f+g*y+O*p,k=e[4],m=e[5],g=e[6],O=e[7],t[4]=k*i+m*a+g*h+O*d,t[5]=k*r+m*c+g*l+O*b,t[6]=k*u+m*s+g*v+O*w,t[7]=k*o+m*f+g*y+O*p,k=e[8],m=e[9],g=e[10],O=e[11],t[8]=k*i+m*a+g*h+O*d,t[9]=k*r+m*c+g*l+O*b,t[10]=k*u+m*s+g*v+O*w,t[11]=k*o+m*f+g*y+O*p,k=e[12],m=e[13],g=e[14],O=e[15],t[12]=k*i+m*a+g*h+O*d,t[13]=k*r+m*c+g*l+O*b,t[14]=k*u+m*s+g*v+O*w,t[15]=k*o+m*f+g*y+O*p,t}function o(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=i+i,c=r+r,s=u+u,f=i*a,h=i*c,l=i*s,v=r*c,y=r*s,d=u*s,b=o*a,w=o*c,p=o*s;return t[0]=1-(v+d),t[1]=h+p,t[2]=l-w,t[3]=0,t[4]=h-p,t[5]=1-(f+d),t[6]=y+b,t[7]=0,t[8]=l+w,t[9]=y-b,t[10]=1-(f+v),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}const c=u;n.mul=c;const s=a;n.sub=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=a,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},n.setAxisAngle=c,n.getAxisAngle=function(t,n){let e=2*Math.acos(n[3]),i=Math.sin(e/2);0!=i?(t[0]=n[0]/i,t[1]=n[1]/i,t[2]=n[2]/i):(t[0]=1,t[1]=0,t[2]=0);return e},n.multiply=s,n.rotateX=function(t,n,e){e*=.5;let i=n[0],r=n[1],u=n[2],o=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=i*c+o*a,t[1]=r*c+u*a,t[2]=u*c-r*a,t[3]=o*c-i*a,t},n.rotateY=function(t,n,e){e*=.5;let i=n[0],r=n[1],u=n[2],o=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=i*c-u*a,t[1]=r*c+o*a,t[2]=u*c+i*a,t[3]=o*c-r*a,t},n.rotateZ=function(t,n,e){e*=.5;let i=n[0],r=n[1],u=n[2],o=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=i*c+r*a,t[1]=r*c-i*a,t[2]=u*c+o*a,t[3]=o*c-u*a,t},n.calculateW=function(t,n){let e=n[0],i=n[1],r=n[2];return t[0]=e,t[1]=i,t[2]=r,t[3]=Math.sqrt(Math.abs(1-e*e-i*i-r*r)),t},n.slerp=f,n.invert=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=e*e+i*i+r*r+u*u,a=o?1/o:0;return t[0]=-e*a,t[1]=-i*a,t[2]=-r*a,t[3]=u*a,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t},n.fromMat3=h,n.fromEuler=function(t,n,e,i){let r=.5*Math.PI/180;n*=r,e*=r,i*=r;let u=Math.sin(n),o=Math.cos(n),a=Math.sin(e),c=Math.cos(e),s=Math.sin(i),f=Math.cos(i);return t[0]=u*c*f-o*a*s,t[1]=o*a*f+u*c*s,t[2]=o*c*s-u*a*f,t[3]=o*c*f+u*a*s,t},n.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var i=e(37),r=e(181),u=e(184),o=e(185);function a(){let t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function c(t,n,e){e*=.5;let i=Math.sin(e);return t[0]=i*n[0],t[1]=i*n[1],t[2]=i*n[2],t[3]=Math.cos(e),t}function s(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=e[0],c=e[1],s=e[2],f=e[3];return t[0]=i*f+o*a+r*s-u*c,t[1]=r*f+o*c+u*a-i*s,t[2]=u*f+o*s+i*c-r*a,t[3]=o*f-i*a-r*c-u*s,t}function f(t,n,e,i){let r,u,o,a,c,s=n[0],f=n[1],h=n[2],l=n[3],v=e[0],y=e[1],d=e[2],b=e[3];return(u=s*v+f*y+h*d+l*b)<0&&(u=-u,v=-v,y=-y,d=-d,b=-b),1-u>1e-6?(r=Math.acos(u),o=Math.sin(r),a=Math.sin((1-i)*r)/o,c=Math.sin(i*r)/o):(a=1-i,c=i),t[0]=a*s+c*v,t[1]=a*f+c*y,t[2]=a*h+c*d,t[3]=a*l+c*b,t}function h(t,n){let e,i=n[0]+n[4]+n[8];if(i>0)e=Math.sqrt(i+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let i=0;n[4]>n[0]&&(i=1),n[8]>n[3*i+i]&&(i=2);let r=(i+1)%3,u=(i+2)%3;e=Math.sqrt(n[3*i+i]-n[3*r+r]-n[3*u+u]+1),t[i]=.5*e,e=.5/e,t[3]=(n[3*r+u]-n[3*u+r])*e,t[r]=(n[3*r+i]+n[3*i+r])*e,t[u]=(n[3*u+i]+n[3*i+u])*e}return t}const l=o.clone;n.clone=l;const v=o.fromValues;n.fromValues=v;const y=o.copy;n.copy=y;const d=o.set;n.set=d;const b=o.add;n.add=b;const w=s;n.mul=w;const p=o.scale;n.scale=p;const k=o.dot;n.dot=k;const m=o.lerp;n.lerp=m;const g=o.length;n.length=g;const O=g;n.len=O;const j=o.squaredLength;n.squaredLength=j;const M=j;n.sqrLen=M;const _=o.normalize;n.normalize=_;const E=o.exactEquals;n.exactEquals=E;const S=o.equals;n.equals=S;const x=function(){let t=u.create(),n=u.fromValues(1,0,0),e=u.fromValues(0,1,0);return function(i,r,o){let a=u.dot(r,o);return a<-.999999?(u.cross(t,n,r),u.len(t)<1e-6&&u.cross(t,e,r),u.normalize(t,t),c(i,t,Math.PI),i):a>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(u.cross(t,r,o),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+a,_(i,i))}}();n.rotationTo=x;const T=function(){let t=a(),n=a();return function(e,i,r,u,o,a){return f(t,i,o,a),f(n,r,u,a),f(e,t,n,2*a*(1-a)),e}}();n.sqlerp=T;const A=function(){let t=r.create();return function(n,e,i,r){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=r[0],t[4]=r[1],t[7]=r[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],_(n,h(n,t))}}();n.setAxes=A},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=r,n.clone=function(t){var n=new i.ARRAY_TYPE(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n},n.length=u,n.fromValues=o,n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t},n.set=function(t,n,e,i){return t[0]=n,t[1]=e,t[2]=i,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},n.subtract=a,n.multiply=c,n.divide=s,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t},n.scaleAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t},n.distance=f,n.squaredDistance=h,n.squaredLength=l,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},n.normalize=v,n.dot=y,n.cross=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=e[0],a=e[1],c=e[2];return t[0]=r*c-u*a,t[1]=u*o-i*c,t[2]=i*a-r*o,t},n.lerp=function(t,n,e,i){let r=n[0],u=n[1],o=n[2];return t[0]=r+i*(e[0]-r),t[1]=u+i*(e[1]-u),t[2]=o+i*(e[2]-o),t},n.hermite=function(t,n,e,i,r,u){let o=u*u,a=o*(2*u-3)+1,c=o*(u-2)+u,s=o*(u-1),f=o*(3-2*u);return t[0]=n[0]*a+e[0]*c+i[0]*s+r[0]*f,t[1]=n[1]*a+e[1]*c+i[1]*s+r[1]*f,t[2]=n[2]*a+e[2]*c+i[2]*s+r[2]*f,t},n.bezier=function(t,n,e,i,r,u){let o=1-u,a=o*o,c=u*u,s=a*o,f=3*u*a,h=3*c*o,l=c*u;return t[0]=n[0]*s+e[0]*f+i[0]*h+r[0]*l,t[1]=n[1]*s+e[1]*f+i[1]*h+r[1]*l,t[2]=n[2]*s+e[2]*f+i[2]*h+r[2]*l,t},n.random=function(t,n){n=n||1;let e=2*i.RANDOM()*Math.PI,r=2*i.RANDOM()-1,u=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*u,t[1]=Math.sin(e)*u,t[2]=r*n,t},n.transformMat4=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=e[3]*i+e[7]*r+e[11]*u+e[15];return o=o||1,t[0]=(e[0]*i+e[4]*r+e[8]*u+e[12])/o,t[1]=(e[1]*i+e[5]*r+e[9]*u+e[13])/o,t[2]=(e[2]*i+e[6]*r+e[10]*u+e[14])/o,t},n.transformMat3=function(t,n,e){let i=n[0],r=n[1],u=n[2];return t[0]=i*e[0]+r*e[3]+u*e[6],t[1]=i*e[1]+r*e[4]+u*e[7],t[2]=i*e[2]+r*e[5]+u*e[8],t},n.transformQuat=function(t,n,e){let i=e[0],r=e[1],u=e[2],o=e[3],a=n[0],c=n[1],s=n[2],f=r*s-u*c,h=u*a-i*s,l=i*c-r*a,v=r*l-u*h,y=u*f-i*l,d=i*h-r*f,b=2*o;return f*=b,h*=b,l*=b,v*=2,y*=2,d*=2,t[0]=a+f+v,t[1]=c+h+y,t[2]=s+l+d,t},n.rotateX=function(t,n,e,i){let r=[],u=[];return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],u[0]=r[0],u[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),u[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t},n.rotateY=function(t,n,e,i){let r=[],u=[];return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],u[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),u[1]=r[1],u[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t},n.rotateZ=function(t,n,e,i){let r=[],u=[];return r[0]=n[0]-e[0],r[1]=n[1]-e[1],r[2]=n[2]-e[2],u[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),u[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),u[2]=r[2],t[0]=u[0]+e[0],t[1]=u[1]+e[1],t[2]=u[2]+e[2],t},n.angle=function(t,n){let e=o(t[0],t[1],t[2]),i=o(n[0],n[1],n[2]);v(e,e),v(i,i);let r=y(e,i);return r>1?0:r<-1?Math.PI:Math.acos(r)},n.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=n[0],a=n[1],c=n[2];return Math.abs(e-o)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(u-c)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(c))};var i=e(37);function r(){let t=new i.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function u(t){let n=t[0],e=t[1],i=t[2];return Math.sqrt(n*n+e*e+i*i)}function o(t,n,e){let r=new i.ARRAY_TYPE(3);return r[0]=t,r[1]=n,r[2]=e,r}function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function c(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function s(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function f(t,n){let e=n[0]-t[0],i=n[1]-t[1],r=n[2]-t[2];return Math.sqrt(e*e+i*i+r*r)}function h(t,n){let e=n[0]-t[0],i=n[1]-t[1],r=n[2]-t[2];return e*e+i*i+r*r}function l(t){let n=t[0],e=t[1],i=t[2];return n*n+e*e+i*i}function v(t,n){let e=n[0],i=n[1],r=n[2],u=e*e+i*i+r*r;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t}function y(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}const d=a;n.sub=d;const b=c;n.mul=b;const w=s;n.div=w;const p=f;n.dist=p;const k=h;n.sqrDist=k;const m=u;n.len=m;const g=l;n.sqrLen=g;const O=function(){let t=r();return function(n,e,i,r,u,o){let a,c;for(e||(e=3),i||(i=0),c=r?Math.min(r*e+i,n.length):n.length,a=i;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],u(t,t,o),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2];return n}}();n.forEach=O},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=r,n.clone=function(t){let n=new i.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.fromValues=function(t,n,e,r){let u=new i.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=e,u[3]=r,u},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.set=function(t,n,e,i,r){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},n.subtract=u,n.multiply=o,n.divide=a,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},n.scale=c,n.scaleAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t[3]=n[3]+e[3]*i,t},n.distance=s,n.squaredDistance=f,n.length=h,n.squaredLength=l,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},n.normalize=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=e*e+i*i+r*r+u*u;o>0&&(o=1/Math.sqrt(o),t[0]=e*o,t[1]=i*o,t[2]=r*o,t[3]=u*o);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},n.lerp=function(t,n,e,i){let r=n[0],u=n[1],o=n[2],a=n[3];return t[0]=r+i*(e[0]-r),t[1]=u+i*(e[1]-u),t[2]=o+i*(e[2]-o),t[3]=a+i*(e[3]-a),t},n.random=function(t,n){var e,r,u,o,a,s;n=n||1;do{e=2*i.RANDOM()-1,r=2*i.RANDOM()-1,a=e*e+r*r}while(a>=1);do{u=2*i.RANDOM()-1,o=2*i.RANDOM()-1,s=u*u+o*o}while(s>=1);var f=Math.sqrt((1-a)/s);return t[0]=c*e,t[1]=c*r,t[2]=c*u*f,t[3]=c*o*f,t},n.transformMat4=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3];return t[0]=e[0]*i+e[4]*r+e[8]*u+e[12]*o,t[1]=e[1]*i+e[5]*r+e[9]*u+e[13]*o,t[2]=e[2]*i+e[6]*r+e[10]*u+e[14]*o,t[3]=e[3]*i+e[7]*r+e[11]*u+e[15]*o,t},n.transformQuat=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=e[0],a=e[1],c=e[2],s=e[3],f=s*i+a*u-c*r,h=s*r+c*i-o*u,l=s*u+o*r-a*i,v=-o*i-a*r-c*u;return t[0]=f*s+v*-o+h*-c-l*-a,t[1]=h*s+v*-a+l*-o-f*-c,t[2]=l*s+v*-c+f*-a-h*-o,t[3]=n[3],t},n.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=n[0],c=n[1],s=n[2],f=n[3];return Math.abs(e-a)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-c)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(u-s)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-f)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))};var i=e(37);function r(){let t=new i.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function o(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function a(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function c(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function s(t,n){let e=n[0]-t[0],i=n[1]-t[1],r=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(e*e+i*i+r*r+u*u)}function f(t,n){let e=n[0]-t[0],i=n[1]-t[1],r=n[2]-t[2],u=n[3]-t[3];return e*e+i*i+r*r+u*u}function h(t){let n=t[0],e=t[1],i=t[2],r=t[3];return Math.sqrt(n*n+e*e+i*i+r*r)}function l(t){let n=t[0],e=t[1],i=t[2],r=t[3];return n*n+e*e+i*i+r*r}const v=u;n.sub=v;const y=o;n.mul=y;const d=a;n.div=d;const b=s;n.dist=b;const w=f;n.sqrDist=w;const p=h;n.len=p;const k=l;n.sqrLen=k;const m=function(){let t=r();return function(n,e,i,r,u,o){let a,c;for(e||(e=4),i||(i=0),c=r?Math.min(r*e+i,n.length):n.length,a=i;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],t[2]=n[a+2],t[3]=n[a+3],u(t,t,o),n[a]=t[0],n[a+1]=t[1],n[a+2]=t[2],n[a+3]=t[3];return n}}();n.forEach=m},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(45),u=c(e(46)),o=c(e(72)),a=e(47);function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,4)),e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return a.applyArguments.apply(void 0,[t].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"add",value:function(t){return window.assert(t instanceof n),r.mat2.add(new n,this,t)}},{key:"adjoint",value:function(){return r.mat2.adjoint(new n,this)}},{key:"determinant",value:function(){return r.mat2.determinant(this)}},{key:"equalsTo",value:function(t){return window.assert(t instanceof n),r.mat2.equals(this,t)}},{key:"exactEqualsTo",value:function(t){return window.assert(t instanceof n),r.mat2.exactEquals(this,t)}},{key:"frob",value:function(){return r.mat2.frob(this)}},{key:"invert",value:function(){return r.mat2.invert(new n,this)}},{key:"LDU",value:function(t,e,i){window.assert(t instanceof n),window.assert(e instanceof n),window.assert(i instanceof n),r.mat2.LDU(t,e,i,this)}},{key:"multiply",value:function(t){return window.assert(t instanceof n),r.mat2.multiply(new n,this,t)}},{key:"multiplyScalar",value:function(t){return r.mat2.multiplyScalar(new n,this,t)}},{key:"rotate",value:function(t){return r.mat2.rotate(new n,this,t)}},{key:"scale",value:function(t){return window.assert(t instanceof u.default),r.mat2.scale(new n,this,t)}},{key:"subtract",value:function(t){return window.assert(t instanceof n),r.mat2.subtract(new n,this,t)}},{key:"transpose",value:function(){return r.mat2.transpose(new n,this)}},{key:"clone",value:function(){return new n(this)}},{key:"copyTo",value:function(t){(0,a.applyArguments)(t,this)}},{key:"toString",value:function(){return r.mat2.str(this)}}],[{key:"fromRotation",value:function(t){return r.mat2.fromRotation(new n,t)}},{key:"fromScaling",value:function(t){return window.assert(t instanceof u.default),r.mat2.fromScaling(new n,t)}},{key:"identity",value:function(){return r.mat2.identity(new n)}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Vector4=n.Vector3=n.Vector2=n.Vector=n.Segment=n.Rectangle=n.Quaternion=n.QuandTree=n.Matrix4=n.Matrix3=n.Matrix2x3=n.Matrix2=n.Matrix=n.Line=n.Coordinate=n.Color=n.Box=void 0;var i=m(e(40)),r=m(e(59)),u=m(e(60)),o=m(e(93)),a=m(e(72)),c=m(e(186)),s=m(e(129)),f=m(e(92)),h=m(e(44)),l=m(e(188)),v=m(e(58)),y=m(e(28)),d=m(e(130)),b=m(e(91)),w=m(e(46)),p=m(e(9)),k=m(e(131));function m(t){return t&&t.__esModule?t:{default:t}}n.Box=i.default,n.Color=r.default,n.Coordinate=u.default,n.Line=o.default,n.Matrix=a.default,n.Matrix2=c.default,n.Matrix2x3=s.default,n.Matrix3=f.default,n.Matrix4=h.default,n.QuandTree=l.default,n.Quaternion=v.default,n.Rectangle=y.default,n.Segment=d.default,n.Vector=b.default,n.Vector2=w.default,n.Vector3=p.default,n.Vector4=k.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(28),o=(i=u)&&i.__esModule?i:{default:i},a=e(17);function c(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var h=-50;function l(t){return function(t,n){var e=void 0,i=void 0,r=void 0,u=void 0,o={32:8,64:11}[t];if(u||(e=n<0||1/n<0,isFinite(n)||(u={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[t],e&&(u.d+=1<<t/4-1),i=Math.pow(2,o)-1,r=0)),!u){for(i={32:127,64:1023}[t],r=Math.abs(n);r>=2;)i++,r/=2;for(;r<1&&i>0;)i--,r*=2;i<=0&&(r/=2),32===t&&i>254&&(u={d:e?255:127,c:128,b:0,a:0},i=Math.pow(2,o)-1,r=0)}return i}(64,t)-1023}function v(t,n){var e=n-t;return 0===e||l(e/Math.max(Math.abs(t),Math.abs(n)))<=h}var y=function(){function t(n){f(this,t),this.He=0,this.computeKey(null,n)}return r(t,[{key:"computeKey",value:function(n,e){if((0,a.isNumber)(n)){var i=(c=n,Math.pow(2,c)),r=Math.floor(e.minX/i)*i,u=Math.floor(e.minY/i)*i;this.Ke.set(r,u,i,i)}else for(this.He=t.computeQuadLevel(e),this.Ke=new o.default,this.computeKey(this.He,e);!this.Ke.contains(e);)this.He+=1,this.computeKey(this.He,e);var c}},{key:"level",get:function(){return this.He}},{key:"rectangle",get:function(){return this.Ke}}],[{key:"computeQuadLevel",value:function(t){var n=t.width,e=t.height;return l(n>e?n:e)+1}}]),t}(),d=function(){function t(){f(this,t),this.Ze=[],this.Qe=[]}return r(t,[{key:"add",value:function(t){this.Ze.push(t)}},{key:"search",value:function(t,n){if(this.isSearchMatch(t)){n.push.apply(n,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(this.Ze));for(var e=0;e<4;e++){var i=this.Qe[e];i&&i.search(t,n)}}}}],[{key:"getSubnodeIndex",value:function(t,n,e){var i=-1,r=t.minX,u=t.minY,o=t.maxX,a=t.maxY;return r>=n&&(u>=e&&(i=3),a<=e&&(i=1)),o<=n&&(u>=e&&(i=2),a<=e&&(i=0)),i}}]),t}(),b=function(t){function n(t,e){f(this,n);var i=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.Ke=t,i.He=e,i.Je=(t.minX+t.maxX)/2,i.Xe=(t.minY+t.maxY)/2,i}return s(n,d),r(n,[{key:"isSearchMatch",value:function(t){return null!==t&&this.Ke.intersects(t)}},{key:"find",value:function(t){var n=d.getSubnodeIndex(t,this.Je,this.Xe);if(-1===n)return this;var e=this.Qe[n];return e?e.find(t):this}},{key:"getSubnode",value:function(t){var n=this.Qe[t];return n||(this.Qe[t]=n=this.createSubnode(t)),n}},{key:"getNode",value:function(t){var n=d.getSubnodeIndex(t,this.Je,this.Xe);return-1!==n?this.getSubnode(n).getNode(t):this}},{key:"createSubnode",value:function(t){var e=0,i=0,r=0,u=0;switch(t){case 0:e=this.Ke.minX,i=this.Je,r=this.Ke.minY,u=this.Xe;break;case 1:e=this.Je,i=this.Ke.maxX,r=this.Ke.minY,u=this.Xe;break;case 2:e=this.Ke.minX,i=this.Je,r=this.Xe,u=this.Ke.maxY;break;case 3:e=this.Je,i=this.Ke.maxX,r=this.Xe,u=this.Ke.maxY}return new n(new o.default(e,r,i-e,u-r),this.He-1)}},{key:"insertNode",value:function(t){var n=d.getSubnodeIndex(t.rectangle,this.Je,this.Xe);if(t.level===this.level-1)this.Qe[n]=t;else{var e=this.createSubnode(n);e.insertNode(t),this.Qe[n]=e}}},{key:"level",get:function(){return this.He}},{key:"rectangle",get:function(){return this.Ke}}],[{key:"createNode",value:function(t){var e=new y(t);return new n(e.rectangle,e.level)}},{key:"createExpanded",value:function(t,e){var i=new o.default;i.set(e),t&&i.extendTo(t.rectangle);var r=n.createNode(i);return t&&r.insertNode(t),r}}]),n}(),w=function(t){function n(){return f(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,d),r(n,[{key:"isSearchMatch",value:function(){return!0}},{key:"insert",value:function(t,n){var e=d.getSubnodeIndex(t,0,0);if(-1!==e){var i=this.Qe[e];if(!i||!i.rectangle.contains(t)){var r=b.createExpanded(i,t);this.Qe[e]=r}this.insertContained(this.Qe[e],t,n)}else this.add(n)}},{key:"insertContained",value:function(t,n,e){var i=v(n.minZ,n.maxX),r=v(n.minY,n.maxY),u=i||r?t.find(n):u=t.getNode(n);u.add(e)}}]),n}(),p=function(){function t(){f(this,t),this.qe=new w,this.$e=1}return r(t,[{key:"insert",value:function(n,e){window.assert(n instanceof o.default),this.collectStatus(n),this.qe.insert(t.ensureExtent(n,this.$e),e)}},{key:"search",value:function(t){window.assert(t instanceof o.default);var n=[];return this.qe.search(t,n),n}},{key:"collectStatus",value:function(t){window.assert(t instanceof o.default);var n=t.width;n<this.$e&&n>0&&(this.$e=n);var e=t.height;e<this.$e&&e>0&&(this.$e=e)}}],[{key:"ensureExtent",value:function(t,n){var e=t.minX,i=t.minY,r=t.maxX,u=t.maxY;return e!==r&&i!==u?t:(e===r&&(r=(e-=n/2)+n/2),i===u&&(u=(i-=n/2)+n/2),new o.default(e,i,r-e,u-i))}}]),t}();n.default=p},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(190)),u=e(18),o=e(29),a=c(e(453));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({pos:o.ControlPos.topleft,url:a.default,width:42,height:42},t)))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"onAddTo",value:function(t){var e=this.ti=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onAddTo",this).call(this,t),i=document.createElement("div");return i.appendChild(e),i}},{key:"setRotate",value:function(t){var n=this.ti;n&&(0,u.addStyle)(n,{transform:"rotateZ("+t+"deg)"})}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(61),o=(i=u)&&i.__esModule?i:{default:i},a=e(29),c=e(18);var s={pos:a.ControlPos.bottomleft,url:"",width:85,height:21},f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},s,t)));return e.au=e.au.bind(e),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"onAddTo",value:function(t){return this.Nt=document.createElement("div"),t.addThemeClass(this.Nt,"icon"),this.ni=document.createElement("a"),this.P(),this.Nt.appendChild(this.ni),this.Nt.addEventListener("click",this.au),this.Nt}},{key:"onRemoveTo",value:function(){this.Nt.removeEventListener("click",this.au)}},{key:"au",value:function(t){this.fire("click",t)}},{key:"P",value:function(){this.Nt&&(0,c.addStyle)(this.ni,{width:this.options.width+"px",height:this.options.height+"px",backgroundImage:"url("+this.options.url+")",backgroundSize:this.options.width+"px "+this.options.height+"px"})}},{key:"url",set:function(t){this.options.url=t,this.P()}},{key:"size",set:function(t){var n=t.width,e=void 0===n?64:n,i=t.height,r=void 0===i?64:i;this.options.width=e,this.options.height=r,this.P()}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=(u(e(94)),u(e(12)));e(29);function u(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.Ze=t,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"getItemContainer",value:function(t,n){var e=document.createElement("div");return n.addThemeClass(e,"list-switcher"),n.addThemeClass(e,"bar"),e}},{key:"getItemView",value:function(t,n,e){var i=document.createElement("a"),r=this.getItem(e);return i.innerHTML=this.display(r),i.href="#",i}},{key:"display",value:function(t){return String(t)}},{key:"refresh",value:function(){this.fire("refresh",this)}},{key:"getSize",value:function(){return this.Ze.length}},{key:"getItem",value:function(t){return this.Ze[t]}},{key:"forEach",value:function(t){this.Ze.forEach(t)}},{key:"items",set:function(t){this.Ze=t||[],this.refresh()}}]),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=e(94),a=(i=o)&&i.__esModule?i:{default:i},c=e(18);var s=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({showSwitchButton:!1},t)));return e.av=function(t){var n=t.target.id,i=e.vn;"up"===n?i=Math.max(0,--i):"down"===n&&(i=Math.min(e.adapter.getSize()-1,++i)),e.select(e.adapter.getItem(i))},e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"onAddTo",value:function(t){var e=u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onAddTo",this).call(this,t);if(this.options.showSwitchButton){var i=this.ei=document.createElement("a");i.id="up",(0,c.addClass)(i,"mapcube-up-arrow");var r=this.ii=document.createElement("a");r.id="down",(0,c.addClass)(r,"mapcube-down-arrow"),i.addEventListener("click",this.av),r.addEventListener("click",this.av),e.insertBefore(i,e.firstChild),e.appendChild(r)}return e}},{key:"onRemoveTo",value:function(){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onRemoveTo",this).call(this),this.options.showSwitchButton&&(this.ei.removeEventListener("click",this.av),this.ii.removeEventListener("click",this.av))}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(61),o=(i=u)&&i.__esModule?i:{default:i};var a={pos:e(29).ControlPos.bottomright,attribs:[]},c=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},a,t)))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"append",value:function(){var t;(t=this.options.attribs).push.apply(t,arguments),this.P()}},{key:"onAddTo",value:function(t){return this.Nt=document.createElement("div"),t.addThemeClass(this.Nt,"attribution"),this.P(),this.Nt}},{key:"P",value:function(){this.Nt&&(this.Nt.innerHTML=this.options.attribs.join(" | "))}},{key:"attribs",set:function(t){this.options.attribs=t,this.P()}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(94),o=(i=u)&&i.__esModule?i:{default:i},a=e(29),c=e(18);var s={pos:a.ControlPos.bottomright,zoomInText:"+",zoomOutText:"-",max:100,min:0,disabledClass:"mapcube-disabled"},f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},s,t)));return e.adapter.items=[e.options.zoomInText,e.options.zoomOutText],e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"select",value:function(t){for(var n=0;n<this.adapter.getSize();n++)if(this.options.itemEq(this.adapter.getItem(n),t)){this.fire("zoom",0===n);break}}},{key:"range",value:function(t){var n=t.max,e=t.min;this.options.max=n,this.options.min=e}},{key:"update",value:function(t){if(this.Nt){var n=this.options.disabledClass,e=this.Nt.firstElementChild,i=this.Nt.lastElementChild;t>=this.options.max?(0,c.addClass)(e,n):(0,c.removeClass)(e,n),t<=this.options.min?(0,c.addClass)(i,n):(0,c.removeClass)(i,n)}}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(9),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.default(1,1,1),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.ri=n,this.ui=e}return r(t,[{key:"color",get:function(){return this.ri},set:function(t){this.ri=t}},{key:"intensity",get:function(){return this.ui},set:function(t){window.assert(t>=0&&t<=1),this.ui=t}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(9),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.default(1,1,1),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new o.default(.6,.6,.6),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Fe=n,this.ri=e,this.ui=i}return r(t,[{key:"direction",get:function(){return this.Fe},set:function(t){window.assert(t instanceof o.default),this.Fe=t}},{key:"color",get:function(){return this.ri},set:function(t){window.assert(t instanceof o.default),this.ri=t}},{key:"intensity",get:function(){return this.ui},set:function(t){window.assert(t>=0&&t<=1),this.ui=t}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(135);(i=u)&&i.__esModule;var o=function(){function t(n,e,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.oi=n,this.ci=e,this.Et=i}return r(t,[{key:"key",get:function(){return this.oi}},{key:"index",get:function(){return this.ci}},{key:"type",get:function(){return this.Et}}]),t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r,u){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._t=n,this.Kt=e,this.yn=i,this.si=r,this.pn=u}return i(t,[{key:"name",get:function(){return this._t},set:function(t){this._t=t}},{key:"origin",get:function(){return this.Kt}},{key:"fields",get:function(){return this.yn}},{key:"style",get:function(){return this.pn}},{key:"features",get:function(){return this.si}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"setSize",value:function(t){this.fi=new DataView(new ArrayBuffer(t)),this.editRange(0,t)}},{key:"flush",value:function(){this.ue=!1}},{key:"editRange",value:function(t,n){return this.ue=!0,this.fi}},{key:"dispose",value:function(){}},{key:"data",get:function(){return this.fi},set:function(t){t instanceof ArrayBuffer?(this.fi=new DataView(t),this.editRange(0,t.byteLength)):t.buffer instanceof ArrayBuffer&&(this.fi=new DataView(t.buffer),this.editRange(0,t.buffer.byteLength))}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Zt=n,this.targetIndex=3}return i(t,[{key:"addToTarget",value:function(t){var n=t.renderingGroup,e=this.hi.get(n);e||(e=[],this.hi.set(n,e)),e.push([100,t])}},{key:"init",value:function(){this.hi=new Map}},{key:"begin",value:function(){var t=this.Zt.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"render",value:function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=this.hi.keys()[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var c=o.value;e.push(c)}}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}e.sort();var s=!0,f=!1,h=void 0;try{for(var l,v=e[Symbol.iterator]();!(s=(l=v.next()).done);s=!0){var y=l.value,d=this.hi.get(y);if(d){d.sort(function(t,n){return t[0]-n[0]});for(var b=d.length,w=0;w<b;++w)d[w][1].render(n,t)}}}catch(t){f=!0,h=t}finally{try{!s&&v.return&&v.return()}finally{if(f)throw h}}}},{key:"end",value:function(){}},{key:"destroy",value:function(){this.hi.clear(),delete this.hi,delete this.li,delete this.Zt}},{key:"targetIndex",get:function(){return this.li},set:function(t){this.li=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=e(201),c=(i=a)&&i.__esModule?i:{default:i};var s=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));i.targetIndex=1;var u=t.gl,o=r(t.viewportSize,2),a=o[0],c=o[1],s=t.createTexture({width:a,height:c},1,!1),f=t.createFrameBuffer();return f.activate(),s.activate(),u.viewport(0,0,a,c),f.bindTexture(s),s.nearest().clampToEdge(),s.deactivate(),f.deactivate(),i.Mn=function(t){var n=t.width,e=t.height,r=i.Zt.devicePixelRatio;i.resize(n*r,e*r)},e.on("reSize",i.Mn),i.vi=s,i.yi=f,i.gn=e,i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,c.default),u(n,[{key:"begin",value:function(){o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"begin",this).call(this);var t=this.Zt.gl;this.yi.activate(),t.clear(t.COLOR_BUFFER_BIT)}},{key:"end",value:function(){o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"end",this).call(this),this.yi.deactivate()}},{key:"texture",value:function(){return this.vi}},{key:"resize",value:function(t,n){this.yi.resize(t,n)}},{key:"destroy",value:function(){o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.gn.off("reSize",this.Mn),this.vi.dispose(),this.yi.destroy(),delete this.vi,delete this.yi,delete this.gn}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(30),o=(i=u)&&i.__esModule?i:{default:i};var a=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.mn=t,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"storey",get:function(){return this.mn}},{key:"origin",set:function(t){this.Kt=t},get:function(){return this.Kt}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=(e(13),u(e(31)),u(e(30)));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.rn=[]}return i(t,[{key:"build",value:function(t,n){return new r.default}},{key:"attributes",get:function(){return this.rn}}]),t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=e(99),a=(i=o)&&i.__esModule?i:{default:i};var c={DEFAULT:0,CUSTOMGRADEIENT:1},s=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.depthTest=!1,t.heatmapAlpha=.75,t.di=c.DEFAULT,t.bi=[],t.enableRatio=!0,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"prepare",value:function(t){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.wi=e.get("texture"),this.pi=e.get("heatmapAlpha"),this.ki=e.get("colorPattern"),this.bi.push(e.get("color1")),this.bi.push(e.get("color2")),this.bi.push(e.get("color3")),this.bi.push(e.get("color4")),this.bi.push(e.get("color5"))}},{key:"render",value:function(t,e,i,r){var o=this;u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,r),this.vi&&(this.vi.activate(),this.wi&&this.wi.bind(0)),this.pi&&this.pi.bind(this.mi),this.gi&&5===this.gi.length?this.gi.forEach(function(t,n){var e=o.bi[n];t&&e&&e.bind(t)}):this.di=c.DEFAULT,this.ki&&this.ki.bind(this.di)}},{key:"shaderLib",value:function(){return"heatmap_reander"}},{key:"enableRatio",set:function(t){this.Oi=t},get:function(){return this.Oi}},{key:"gradeientColor",set:function(t){window.assert(5===t.length,"gradeientColor length must is 5"),this.gi=t,this.di=c.CUSTOMGRADEIENT}},{key:"texture",set:function(t){this.vi=t}},{key:"heatmapAlpha",set:function(t){this.mi=t}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(17);function o(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function i(r,u){try{var o=n[r](u),a=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})}}var a={json:function(t){return(0,u.isString)(t)?JSON.parse(t):t}},c=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.ji=new Map}return r(t,[{key:"get",value:function(){var t=o(regeneratorRuntime.mark(function t(n,e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.headers,t.abrupt("return",new Promise(function(t,u){var o=new XMLHttpRequest;o.responseType=e||"text",o.onload=function(){var n=a[e];t(n?n(this.response):this)},o.ontimeout=function(){u("timeout")},o.open("get",n,!0);var c=!0,s=!1,f=void 0;try{for(var h,l=r[Symbol.iterator]();!(c=(h=l.next()).done);c=!0){var v=i(h.value,2),y=v[0],d=v[1];o.setRequestHeader(y,d)}}catch(t){s=!0,f=t}finally{try{!c&&l.return&&l.return()}finally{if(s)throw f}}o.send()}));case 2:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"headers",get:function(){return this.ji}}],[{key:"get",value:function(){var n=o(regeneratorRuntime.mark(function n(e,i){var r,u,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=new t,u=r.headers,Object.keys(o).forEach(function(t){return o[t]&&u.set(t,o[t])}),n.abrupt("return",r.get(e,i));case 5:case"end":return n.stop()}},n,this)}));return function(t,e){return n.apply(this,arguments)}}()}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=w(e(502)),o=w(e(100)),a=w(e(208)),c=w(e(210)),s=w(e(212)),f=(w(e(214)),w(e(213))),h=w(e(215)),l=w(e(216)),v=(w(e(93)),w(e(188))),y=w(e(28)),d=w(e(60)),b=w(e(217));function w(t){return t&&t.__esModule?t:{default:t}}function p(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function k(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var m=function(t,n){return t.g+t.h-n.g-n.h>0?-1:1},g=function(t,n){return t.equals(n)},O=function(){function t(n,e){k(this,t),this.Mi=n,this._i=e}return r(t,[{key:"path",get:function(){return this.Mi},set:function(t){this.Mi=t}},{key:"shape",get:function(){return this._i},set:function(t){this._i=t}}]),t}(),j=function(t){function n(t,e,i){k(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i));return r.Bn=t,r.Un=e,r.Ei=new Map,r.Gn=new Map,r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s.default),r(n,[{key:"navigate",value:function(t,n){var e=new d.default(t.x,t.y),i=t.storey,r=new d.default(n.x,n.y),o=n.storey,c=new u.default(m),s=new b.default(g),h=new f.default,l=[],v=this.w(e,i),y=this.w(r,o),w=this.x(e,v),p=this.x(r,y);if(!(w&&p&&v&&y))return h;var k=i!==o;if(w.equals(p)){if(e.distanceTo(r)<.5)return h;if(v===y)l.push(new a.default(v,e.distanceTo(v.to.shape)<r.distanceTo(v.to.shape)));else{var O=!v.to.equals(p.vertex);l.push(new a.default(y,O)),l.push(new a.default(v,O))}}else{c.enq(w);var j=void 0;t:for(;c.size()>0;){j=c.deq(),s.add(j);var M=j.paths;j.needLoadPaths&&(M=this.y(j));for(var _=0;_<M.length;_++){var E=M[_],S=E.to;if(!s.contains(S)){var x=this.Bn.g(j,E,k)+j.g,T=this.Un.h(S,p);if(this.z(c,S)?x+T<S.g+S.h&&(this.A(c,S),this.B(c,S,x,T,j)):this.B(c,S,x,T,j),S.equals(p)){do{l.push(S.parent.findPath(S)),S=S.parent}while(!S.equals(w));break t}}}}this.C(l,v,e),this.C(l,y,r,!1)}l.reverse();var A=this.D(l);return this.E(A,e,r),this.F(h,A),h}},{key:"C",value:function(t,n,e){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=t[i?t.length-1:0];if(r&&r instanceof a.default&&r.path!==n){var u=new a.default(n,i?!r.from.vertex.equals(n.to):!r.to.vertex.equals(n.from)),o=u.to,c=u.path.shape.getDistanceAndClosestPoint(e).closestPoint;if(o.vertex.shape.equals(c))return;i?t.push(u):t.splice(0,0,u)}}},{key:"F",value:function(t,n){var e=this,r=void 0,u=[],o=[],s=[];n.forEach(function(t){var n=t.path,i=t.shape;n instanceof c.default?u.push(e.G(n)):i&&n instanceof a.default&&(r!==n.path.storey&&(o=[],u=[],r=n.path.storey,s.push([r,o,u,{}])),o.push(i))}),s.forEach(function(n,e){var r=i(n,4),u=r[0],o=r[1],a=r[2],c=r[3];return t.addSymbol(u,c,o,s[e-1]&&s[e-1][2],a)})}},{key:"G",value:function(t){var n=t.connection,e=n.fromPoi,i=n.toPoi,r=n.from,u=n.to;if(t.reverse){var o=[e,i,r,u];i=o[0],e=o[1],u=o[2],r=o[3]}return{poi:[e,i],altitude:[r.altitude,u.altitude],storey:[r.storey,u.storey]}}},{key:"w",value:function(t,n){var e=this.Ei.get(n),i=void 0;if(e||(e=this.H(n)),!e)return null;var r=new y.default(t.x-10,t.y-10,20,20);0===(i=e.search(r)).length&&(i=this.I(n));var u=Number.MAX_VALUE,o=void 0;return i.forEach(function(n){var e=n.shape.getDistanceAndClosestPoint(t).distance;u>e&&(u=e,o=n)}),o}},{key:"H",value:function(t){var n=this.I(t);if(0===n.length)return null;var e=new v.default;return n.forEach(function(t){return e.insert(t.shape.getRectangle(),t)}),e}},{key:"I",value:function(t){var n=this.Gn.get(t);return n||(n=this.dataSource.queryAllPathFromStorey(t),this.Gn.set(t,n)),n||[]}},{key:"x",value:function(t,n){if(!n)return null;var e=n.from,i=n.to,r=this.dataSource.queryConnectionsByVertex(e);return 0!==r.length?new o.default(i):0!==(r=this.dataSource.queryConnectionsByVertex(i)).length?new o.default(e):new o.default(t.distanceTo(e.shape)<t.distanceTo(i.shape)?e:i)}},{key:"B",value:function(t,n,e,i,r){this.J(n,e,i,r),this.K(t,n)}},{key:"J",value:function(t,n,e,i){t.g=n,t.h=e,t.parent=i}},{key:"K",value:function(t,n){t.enq(n)}},{key:"z",value:function(t,n){var e=this,i=!1;return t.forEach(function(t){return t.equals(n)&&(i=!0)&&e.J(n,t.g,t.h,t.parent)}),i}},{key:"A",value:function(t,n){var e=t.Si;e.forEach(function(t,i){t.equals(n)&&e.splice(i,1)})}},{key:"y",value:function(t){var n=[],e=t.vertex,i=this.dataSource.queryPathByVertex(e);i.length>0&&n.push.apply(n,p(i.map(function(t){return new a.default(t,t.from.id!==e.id)})));var r=this.dataSource.queryConnectionsByVertex(e);return r.length>0&&n.push.apply(n,p(r.map(function(t){return new c.default(t,t.from.id!==e.id)}))),t.loadPaths(n),n}},{key:"D",value:function(t){return t.map(function(t){var n=void 0;return t instanceof a.default&&(n=t.path.shape.clone(),t.reverse&&n.reverse()),new O(t,n)})}},{key:"E",value:function(t,n,e){var i=t[0],r=t[t.length-1];return this.L(t,i,n,!0),this.L(t,r,e,!1),t}},{key:"L",value:function(t,n,e,i){if(n){var r=n.path,u=n.shape;r instanceof a.default&&u&&(u.split(e,i,0),n.path=this.M(r.path,u))}}},{key:"M",value:function(t,n){var e=t.storey,i=new l.default("",this.N(n.start,e),this.N(n.end,e),t.rank,t.direction,t.altitude,t.bundle,t.storey,n);return new a.default(i,!1)}},{key:"N",value:function(t,n){return new h.default("",0,"",n,t)}}]),n}();n.default=j},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(209)),u=o(e(100));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.Mi=t,i.xi=e,e?(i.from=new u.default(t.to),i.to=new u.default(t.from)):(i.from=new u.default(t.from),i.to=new u.default(t.to)),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"path",get:function(){return this.Mi}},{key:"weight",get:function(){return this.Mi.shape.length*(this.Mi.rank+1)}},{key:"altitude",get:function(){return this.Mi.altitude}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(100);(i=u)&&i.__esModule;var o=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"reverse",get:function(){return this.xi}},{key:"weight",get:function(){return 0}},{key:"altitude",get:function(){return 0}},{key:"from",get:function(){return this.ce},set:function(t){this.ce=t}},{key:"to",get:function(){return this.se},set:function(t){this.se=t}}]),t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(209)),u=o(e(100));o(e(211));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.Ti=t,i.xi=e,e?(i.from=new u.default(t.to),i.to=new u.default(t.from)):(i.from=new u.default(t.from),i.to=new u.default(t.to)),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"connection",get:function(){return this.Ti}},{key:"weight",get:function(){return this.Ti.rank}},{key:"altitude",get:function(){return this.to.vertex.altitude}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r,u,o,a,c){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.direction=e,this.rank=i,this.from=r,this.to=u,this.fromPoi=o,this.toPoi=a,this.bundle=c}return i(t,[{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"direction",get:function(){return this.Fe},set:function(t){this.Fe=t}},{key:"rank",get:function(){return this.Ai},set:function(t){this.Ai=t}},{key:"from",get:function(){return this.ce},set:function(t){this.ce=t}},{key:"to",get:function(){return this.se},set:function(t){this.se=t}},{key:"fromPoi",get:function(){return this.Ci},set:function(t){this.Ci=t}},{key:"toPoi",get:function(){return this.Ri},set:function(t){this.Ri=t}},{key:"bundle",get:function(){return this.Ni},set:function(t){this.Ni=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(213),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Ii=n}return r(t,[{key:"navigate",value:function(t,n){return new o.default}},{key:"dataSource",get:function(){return this.Ii},set:function(t){this.Ii=t}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(93),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.Fi=new Map,this.Di=[]}return r(t,[{key:"isEmpty",value:function(){return 0===this.Fi.size||0===this.Di.length}},{key:"addSymbol",value:function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=this.Fi.get(t);u||(u=[],this.Fi.set(t,u));var a={properties:Object.assign({storey:t},n),shape:new o.default([]).merge(e),fromConnection:i,toConnection:r};u.push(a),this.Di.push(t)}},{key:"getSymbolLines",value:function(t){return(this.getSymbol(t)||[]).map(function(t){return t.shape})}},{key:"getSymbol",value:function(t){return this.getSymbols([t])}},{key:"getSymbols",value:function(){var t=this,n=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var i=t.Fi.get(e);i&&n.push.apply(n,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(i))}),n}},{key:"storeyOrder",get:function(){return this.Di}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"queryPathByVertex",value:function(t){return[]}},{key:"queryConnectionsByVertex",value:function(t){return[]}},{key:"queryAllPathFromStorey",value:function(t){return[]}},{key:"queryGatewayFromStorey",value:function(t){return[]}},{key:"queryAllGateways",value:function(){return[]}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r,u){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.bundle=i,this.shape=u,this.storey=r,this.altitude=e}return i(t,[{key:"toString",value:function(){return 31*+this.id+this.storey}},{key:"equals",value:function(t){return this===t||!!t&&(this.id===t.id&&this.storey===t.storey)}},{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"bundle",get:function(){return this.Ni},set:function(t){this.Ni=t}},{key:"shape",get:function(){return this._i},set:function(t){this._i=t}},{key:"storey",get:function(){return this.mn},set:function(t){this.mn=t}},{key:"altitude",get:function(){return this.nt},set:function(t){this.nt=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r,u,o,a,c,s){var f=arguments.length>9&&void 0!==arguments[9]&&arguments[9];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.from=e,this.to=i,this.bundle=a,this.rank=r,this.direction=u,this.shape=s,this.storey=c,this.altitude=o,this.ignore=f}return i(t,[{key:"toString",value:function(){return 31*+this.id+this.storey}},{key:"equals",value:function(t){return this===t||!!t&&(this.id===t.id&&this.storey===t.storey)}},{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"bundle",get:function(){return this.Ni},set:function(t){this.Ni=t}},{key:"rank",get:function(){return this.Ai},set:function(t){this.Ai=t}},{key:"direction",get:function(){return this.Fe},set:function(t){this.Fe=t}},{key:"shape",get:function(){return this._i},set:function(t){this._i=t}},{key:"from",get:function(){return this.ce},set:function(t){this.ce=t}},{key:"to",get:function(){return this.se},set:function(t){this.se=t}},{key:"storey",get:function(){return this.mn},set:function(t){this.mn=t}},{key:"altitude",get:function(){return this.nt},set:function(t){this.nt=t}},{key:"ignore",get:function(){return this.Li},set:function(t){this.Li=t}}]),t}();n.default=r},function(t,n,e){"use strict";var i=e(503);t.exports=function t(n){if(!(this instanceof t)){for(var e=new t,r=0;r<arguments.length;++r)e.add(arguments[r]);return e}var u=0,o=Object.create(null);Object.defineProperty(this,"length",{get:function(){return u}});var a=this;function c(t){var n=toString.call(t);if(void 0===o[n])return!1;var e=i(""+t);if(void 0===o[n][e])return!1;for(var r=o[n][e],u=0;u<r.length;++u)if(this.fEquals&&this.fEquals(r[u],t)||r[u]===t)return!0;return!1}function s(t){var n=toString.call(t);void 0===o[n]&&(o[n]=Object.create(null));var e=i(""+t);if(void 0===o[n][e])return o[n][e]=[t],u++,!0;for(var r=0,a=-1,c=o[n][e];r<c.length;++r){if(this.fEquals&&this.fEquals(c[r],t)||c[r]===t)return!1;void 0===c[r]&&(a=r)}return a>=0?c[a]=t:c.push(t),u++,!0}function f(t){var n=toString.call(t);if(void 0===o[n])return!1;var e=i(""+t);if(void 0===o[n][e])return!1;for(var r=o[n][e],a=0;a<r.length;++a)if(this.fEquals&&this.fEquals(r[a],t)||r[a]===t)return r[a]=void 0,u--,!0;return!1}function h(){var t=[];return Object.keys(o).forEach(function(n){Object.keys(o[n]).forEach(function(e){for(var i=o[n][e],r=0;r<i.length;++r)t.push(i[r])})}),t}[].forEach.call(arguments,function(t){"function"==typeof t?a.fEquals=n:s(t)}),this.contains=c,this.equals=function(t){if(u!==t.length)return!1;var n=t.toArray();for(var e in n)if(!c(n[e]))return!1;return!0},this.add=s,this.remove=f,this.toArray=h,this.isSubSetOf=function(t){if(u<1)return!0;if(t.length<1)return!1;var n=h();for(var e in n)if(!t.contains(n[e]))return!1;return!0},this.isSuperSetOf=function(t){if(0===t.length)return!0;if(this.length<t.length)return!1;var n=t.toArray();for(var e in n)if(!c(n[e]))return!1;return!0},this.unionWith=function(t){t.toArray().forEach(function(t){s(t)})},this.intersectWith=function(t){if(0===u)return;for(var n=h(),e=0;e<n.length;++e)t.contains(n[e])||f(n[e])}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(504)),u=a(e(208)),o=a(e(210));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"g",value:function(t,n,e){return n instanceof u.default?n.weight:n instanceof o.default?e?40:20:0}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(505),o=(i=u)&&i.__esModule?i:{default:i};var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"h",value:function(t,n){return Math.abs(n.vertex.altitude-t.vertex.altitude)+t.vertex.shape.distanceTo(n.vertex.shape)}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NavigateStatus=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=(l(e(212)),l(e(221))),u=l(e(510)),o=l(e(207)),a=l(e(218)),c=l(e(219)),s=l(e(512)),f=l(e(12)),h=l(e(60));function l(t){return t&&t.__esModule?t:{default:t}}var v=n.NavigateStatus={OK:Symbol("ok"),ERROR:Symbol("error")},y=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),i=t.dataSource,f=t.g,h=t.h,l=t.algorithm;return e.Pi=l||new o.default(f||new a.default,h||new c.default,i||new r.default),e.zi=new s.default,e.Gi=new u.default,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,f.default),i(n,[{key:"navigate",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[t.storey];if(this.Pi){var i=this.Bi=this.Pi.navigate(t,n);this.i(i,t),this.i(i,n,!1),i.isEmpty()||this.zi.generate(i),this.j(e)}}},{key:"getNavigate",value:function(){return this.Bi}},{key:"switch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.Pi&&this.Bi&&this.j(t)}},{key:"clear",value:function(){delete this.Bi}},{key:"j",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=v.OK,e=void 0;this.Bi&&(e=this.Bi.getSymbols("string"==typeof t?[t]:t))||(n=v.ERROR),this.fire("onSwitchNavigate",this,n,e)}},{key:"i",value:function(t,n){var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t.isEmpty()){var i=t.storeyOrder,r=t.getSymbol(i[e?0:i.length-1]);if(r){var u=void 0,o=void 0,a=void 0;if(e?(a=(u=r[0]).shape.firstSegment,o=u.shape.addBeforeCoordinates):(a=(u=r[r.length-1]).shape.lastSegment,o=u.shape.addAfterCoordinates),!a)return;var c=new h.default(n.x,n.y),s=a.getDistanceAndClosestPoint(c).distance,f=void 0===s?0:s;f>1&&f<10&&o.call(u.shape,[c])}}}},{key:"instructions",get:function(){return this.zi.instructions||[]}},{key:"dataSource",get:function(){return this.Pi.dataSource},set:function(t){this.Pi.dataSource=t}},{key:"dynamic",get:function(){return this.Gi.instructions=this.instructions,this.Gi}}]),n}();n.default=y},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=y(e(222)),u=y(e(214)),o=y(e(135)),a=e(508),c=y(e(215)),s=y(e(216)),f=y(e(211)),h=y(e(509)),l=y(e(60)),v=y(e(93));function y(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var b=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"requestNavigate",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n,e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ve=new Map,this.Gn=new Map,this.Ui=new Map,this.Wi=new Map,this.Ii=e,t.next=7,this.Ii.request("/"+n+".pbf");case 7:return i=t.sent,this.am(o.default.Navigate.read(new r.default(i.response))),t.abrupt("return",this);case 10:case"end":return t.stop()}},t,this)}),function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function i(r,u){try{var o=n[r](u),a=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})});return function(t,e){return n.apply(this,arguments)}}()},{key:"am",value:function(t){var n=this,e=t.vcs,i=t.pcs,r=t.ccs,u=t.gws;e.forEach(function(e){var i=e.storey,r=e.altitude;return e.vertices.forEach(function(e){return n.ve.set(e.id,n.an(t.bundle,i,r,e))})}),i.forEach(function(e){var i=e.storey,r=e.altitude;e.paths.forEach(function(e){var u=n.ao(t.bundle,i,r,e);u&&(n.ap(i,u.from.id,u,n.Gn),n.ap(i,u.to.id,u,n.Gn))})}),r.forEach(function(e){var i=n.aq(t.bundle,e);i&&n.ap(i.from.storey,i.from.id,i,n.Ui)}),u&&u.forEach(function(t){var e=t.storey,i=t.gateways,r=void 0===i?[]:i;return n.Wi.set(e,r.map(function(t){return n.ar(e,t)}))})}},{key:"queryPathByVertex",value:function(t){var n=t.id,e=t.storey,i=this.Gn.get(e);return i&&i.get(n)||[]}},{key:"queryConnectionsByVertex",value:function(t){var n=t.id,e=t.storey,i=this.Ui.get(e);return i&&i.get(n)||[]}},{key:"queryAllPathFromStorey",value:function(t){var n=this.Gn.get(t),e=[];return n?(n.forEach(function(t){return e.push.apply(e,d(t))}),e):e}},{key:"queryGatewayFromStorey",value:function(t){return this.Wi.get(t)||[]}},{key:"queryAllGateways",value:function(){var t=[];return this.Wi.forEach(function(n){return t.push.apply(t,d(n))}),t}},{key:"an",value:function(t,n,e,i){return new c.default(i.id,e,t,n,new l.default(i.shape[0],i.shape[1]))}},{key:"ao",value:function(t,n,e,i){var r=i.id,u=i.from,o=i.to,a=i.rank,c=i.direction,f=i.shape,h=i.ignore,l=this.ve.get(u);if(!l)return null;var y=this.ve.get(o);return y?new s.default(r,l,y,a,this.as(c),e,t,n,new v.default(this.createLine(f)),h):null}},{key:"aq",value:function(t,n){var e=n.id,i=n.direction,r=n.rank,u=n.fromVertex,o=n.toVertex,a=this.ve.get(u);if(!a)return null;var c=this.ve.get(o);return c?new f.default(e,this.as(i),r,a,c,"","",t):null}},{key:"ar",value:function(t,n){var e=n.id,i=n.gategory,r=n.name,u=n.originID,o=n.shape;return new h.default(e,r,i,u,t,new l.default(o[0],o[1]))}},{key:"at",value:function(t,n){var e=n.get(t);return e||(e=new Map,n.set(t,e)),e}},{key:"ap",value:function(t,n,e,i){var r=this.at(t,i),u=r.get(n);u||(u=[],r.set(n,u)),u.push(e)}},{key:"createLine",value:function(t){var n=[];return t.forEach(function(e,i){return(i+1)%2==0&&n.push(new l.default(t[i-1],e))}),n}},{key:"as",value:function(t){switch(t){case 1:return a.DIRECTION.ONEWAY;default:return a.DIRECTION.TWOWAY}}}]),n}();n.default=b},function(t,n,e){"use strict";t.exports=r;var i=e(507);function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;function u(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function o(t,n,e){return e?4294967296*n+(t>>>0):4294967296*(n>>>0)+(t>>>0)}function a(t,n,e){var i=n<=16383?1:n<=2097151?2:n<=268435455?3:Math.ceil(Math.log(n)/(7*Math.LN2));e.realloc(i);for(var r=e.pos-1;r>=t;r--)e.buf[r+i]=e.buf[r]}function c(t,n){for(var e=0;e<t.length;e++)n.writeVarint(t[e])}function s(t,n){for(var e=0;e<t.length;e++)n.writeSVarint(t[e])}function f(t,n){for(var e=0;e<t.length;e++)n.writeFloat(t[e])}function h(t,n){for(var e=0;e<t.length;e++)n.writeDouble(t[e])}function l(t,n){for(var e=0;e<t.length;e++)n.writeBoolean(t[e])}function v(t,n){for(var e=0;e<t.length;e++)n.writeFixed32(t[e])}function y(t,n){for(var e=0;e<t.length;e++)n.writeSFixed32(t[e])}function d(t,n){for(var e=0;e<t.length;e++)n.writeFixed64(t[e])}function b(t,n){for(var e=0;e<t.length;e++)n.writeSFixed64(t[e])}function w(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+16777216*t[n+3]}function p(t,n,e){t[e]=n,t[e+1]=n>>>8,t[e+2]=n>>>16,t[e+3]=n>>>24}function k(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+(t[n+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(t,n,e){for(e=e||this.length;this.pos<e;){var i=this.readVarint(),r=i>>3,u=this.pos;this.type=7&i,t(r,n,this),this.pos===u&&this.skip(i)}return n},readMessage:function(t,n){return this.readFields(t,n,this.readVarint()+this.pos)},readFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=k(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=w(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=w(this.buf,this.pos)+4294967296*k(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var n,e,i=this.buf;return n=127&(e=i[this.pos++]),e<128?n:(n|=(127&(e=i[this.pos++]))<<7,e<128?n:(n|=(127&(e=i[this.pos++]))<<14,e<128?n:(n|=(127&(e=i[this.pos++]))<<21,e<128?n:function(t,n,e){var i,r,u=e.buf;if(r=u[e.pos++],i=(112&r)>>4,r<128)return o(t,i,n);if(r=u[e.pos++],i|=(127&r)<<3,r<128)return o(t,i,n);if(r=u[e.pos++],i|=(127&r)<<10,r<128)return o(t,i,n);if(r=u[e.pos++],i|=(127&r)<<17,r<128)return o(t,i,n);if(r=u[e.pos++],i|=(127&r)<<24,r<128)return o(t,i,n);if(r=u[e.pos++],i|=(1&r)<<31,r<128)return o(t,i,n);throw new Error("Expected varint not more than 10 bytes")}(n|=(15&(e=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,n=function(t,n,e){var i="",r=n;for(;r<e;){var u,o,a,c=t[r],s=null,f=c>239?4:c>223?3:c>191?2:1;if(r+f>e)break;1===f?c<128&&(s=c):2===f?128==(192&(u=t[r+1]))&&(s=(31&c)<<6|63&u)<=127&&(s=null):3===f?(u=t[r+1],o=t[r+2],128==(192&u)&&128==(192&o)&&((s=(15&c)<<12|(63&u)<<6|63&o)<=2047||s>=55296&&s<=57343)&&(s=null)):4===f&&(u=t[r+1],o=t[r+2],a=t[r+3],128==(192&u)&&128==(192&o)&&128==(192&a)&&((s=(15&c)<<18|(63&u)<<12|(63&o)<<6|63&a)<=65535||s>=1114112)&&(s=null)),null===s?(s=65533,f=1):s>65535&&(s-=65536,i+=String.fromCharCode(s>>>10&1023|55296),s=56320|1023&s),i+=String.fromCharCode(s),r+=f}return i}(this.buf,this.pos,t);return this.pos=t,n},readBytes:function(){var t=this.readVarint()+this.pos,n=this.buf.subarray(this.pos,t);return this.pos=t,n},readPackedVarint:function(t,n){var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readVarint(n));return t},readPackedSVarint:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readFloat());return t},readPackedDouble:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readSFixed64());return t},skip:function(t){var n=7&t;if(n===r.Varint)for(;this.buf[this.pos++]>127;);else if(n===r.Bytes)this.pos=this.readVarint()+this.pos;else if(n===r.Fixed32)this.pos+=4;else{if(n!==r.Fixed64)throw new Error("Unimplemented type: "+n);this.pos+=8}},writeTag:function(t,n){this.writeVarint(t<<3|n)},realloc:function(t){for(var n=this.length||16;n<this.pos+t;)n*=2;if(n!==this.length){var e=new Uint8Array(n);e.set(this.buf),this.buf=e,this.length=n}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),p(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),p(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),p(this.buf,-1&t,this.pos),p(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),p(this.buf,-1&t,this.pos),p(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,n){var e,i;t>=0?(e=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(e=~(-t%4294967296))?e=e+1|0:(e=0,i=i+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");n.realloc(10),function(t,n,e){e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos++]=127&t|128,t>>>=7,e.buf[e.pos]=127&t}(e,0,n),function(t,n){var e=(7&t)<<4;if(n.buf[n.pos++]|=e|((t>>>=3)?128:0),!t)return;if(n.buf[n.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(n.buf[n.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(n.buf[n.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(n.buf[n.pos++]=127&t|((t>>>=7)?128:0),!t)return;n.buf[n.pos++]=127&t}(i,n)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var n=this.pos;this.pos=function(t,n,e){for(var i,r,u=0;u<n.length;u++){if((i=n.charCodeAt(u))>55295&&i<57344){if(!r){i>56319||u+1===n.length?(t[e++]=239,t[e++]=191,t[e++]=189):r=i;continue}if(i<56320){t[e++]=239,t[e++]=191,t[e++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[e++]=239,t[e++]=191,t[e++]=189,r=null);i<128?t[e++]=i:(i<2048?t[e++]=i>>6|192:(i<65536?t[e++]=i>>12|224:(t[e++]=i>>18|240,t[e++]=i>>12&63|128),t[e++]=i>>6&63|128),t[e++]=63&i|128)}return e}(this.buf,t,this.pos);var e=this.pos-n;e>=128&&a(n,e,this),this.pos=n-1,this.writeVarint(e),this.pos+=e},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var n=t.length;this.writeVarint(n),this.realloc(n);for(var e=0;e<n;e++)this.buf[this.pos++]=t[e]},writeRawMessage:function(t,n){this.pos++;var e=this.pos;t(n,this);var i=this.pos-e;i>=128&&a(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,n,e){this.writeTag(t,r.Bytes),this.writeRawMessage(n,e)},writePackedVarint:function(t,n){this.writeMessage(t,c,n)},writePackedSVarint:function(t,n){this.writeMessage(t,s,n)},writePackedBoolean:function(t,n){this.writeMessage(t,l,n)},writePackedFloat:function(t,n){this.writeMessage(t,f,n)},writePackedDouble:function(t,n){this.writeMessage(t,h,n)},writePackedFixed32:function(t,n){this.writeMessage(t,v,n)},writePackedSFixed32:function(t,n){this.writeMessage(t,y,n)},writePackedFixed64:function(t,n){this.writeMessage(t,d,n)},writePackedSFixed64:function(t,n){this.writeMessage(t,b,n)},writeBytesField:function(t,n){this.writeTag(t,r.Bytes),this.writeBytes(n)},writeFixed32Field:function(t,n){this.writeTag(t,r.Fixed32),this.writeFixed32(n)},writeSFixed32Field:function(t,n){this.writeTag(t,r.Fixed32),this.writeSFixed32(n)},writeFixed64Field:function(t,n){this.writeTag(t,r.Fixed64),this.writeFixed64(n)},writeSFixed64Field:function(t,n){this.writeTag(t,r.Fixed64),this.writeSFixed64(n)},writeVarintField:function(t,n){this.writeTag(t,r.Varint),this.writeVarint(n)},writeSVarintField:function(t,n){this.writeTag(t,r.Varint),this.writeSVarint(n)},writeStringField:function(t,n){this.writeTag(t,r.Bytes),this.writeString(n)},writeFloatField:function(t,n){this.writeTag(t,r.Fixed32),this.writeFloat(n)},writeDoubleField:function(t,n){this.writeTag(t,r.Fixed64),this.writeDouble(n)},writeBooleanField:function(t,n){this.writeVarintField(t,Boolean(n))}}},function(t,n){t.exports=AMap},function(t,n,e){"use strict";var i,r=e(28);(i=r)&&i.__esModule},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(44)),u=c(e(30)),o=c(e(195)),a=c(e(196));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var f=function(t){function n(){s(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.gt=r.default.identity(),t.Ot=r.default.identity(),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"clearLocalMatrixCache",value:function(){}},{key:"clearWorldMatrixCache",value:function(){}}]),n}(),h=function(){function t(){s(this,t),this.qe=new f,this.Yi=new o.default,this.Vi=new a.default}return i(t,[{key:"addNode",value:function(t){this.qe.addNode(t)}},{key:"removeNode",value:function(t){return this.qe.removeNode(t)}},{key:"findNode",value:function(t){return this.qe.findNode(t)}},{key:"findNodes",value:function(t){return this.qe.findNodes(t)}},{key:"render",value:function(t,n){this.qe.addToRenderQueue(t,n,this)}},{key:"box",set:function(t){this.pt=t},get:function(){return this.pt}},{key:"root",get:function(){return this.qe}},{key:"ambientLight",get:function(){return this.Yi}},{key:"directionLight",get:function(){return this.Vi}}]),t}();n.default=h},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=c(e(30)),o=c(e(40)),a=c(e(101));e(98);function c(t){return t&&t.__esModule?t:{default:t}}var s=0,f=1,h=2,l=3,v=4,y=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.pt=new o.default,t.Hi=!0,t.Ki=void 0,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"setIconTexture",value:function(t,n){this.Zi=t,this.Qi=n}},{key:"setTextTexture",value:function(t,n){this.Ji=t,this.Xi=n}},{key:"ba",value:function(){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"ba",this).call(this),this.qi&&this.qi.setAttribute("subNodeMatrix",this.Ot),this.$i&&this.$i.setAttribute("subNodeMatrix",this.Ot)}},{key:"bd",value:function(){var t=this.vt&&!this.Hi;this.Ki!==t&&(this.qi&&this.qi.setAttribute("visible",t?1:0),this.$i&&this.$i.setAttribute("visible",t?1:0),this.Ki=t)}},{key:"collides",value:function(t,n,e,i){var r=window.devicePixelRatio,u=this.worldMatrix,o=e.transformMatrix4(n.viewProjectionMatrix.multiply(u)),a=o.x,c=o.y,y=void 0,d=this.ni,b=!1,w=0,p=0,k=void 0;if(d){var m=(y=d.rect).width*r/i[0],g=y.height*r/i[1];k={minX:a-(w=m),minY:c-(p=g),maxX:a+w,maxY:c+p},b=t.collides(k,this)}var O=!1,j=this.tr,M=void 0,_=void 0,E=0,S=0;if(!b&&j){var x=(y=j.rect).width*r/i[0],T=y.height*r/i[1],A=2*x,C=2*T;if(E=x,S=T,d)for(var R=1;R<=4;++R){var N=0,I=0;switch(R){case v:N=a-A-w,I=c+E;break;case l:N=a+w,I=c+S;break;case h:N=a-E,I=c+C+p;break;case f:N=a-E,I=c-p}if(M={minX:N,minY:I-C,maxX:N+A,maxY:I},!(O=t.collides(M,this))){_=R;break}}else _=s,M={minX:a-E,minY:c-S,maxX:a+E,maxY:c+S},O=t.collides(M,this)}if(b||O||!j&&!d)this.colliding=!0;else{k&&t.insert(k),M&&t.insert(M);var F=new Float32Array(2);if(j){switch(_){case v:F[0]=-E-w;break;case l:F[0]=E+w;break;case h:F[1]=S+p;break;case f:F[1]=-S-p}this.$i.setAttribute("offset",F)}this.colliding=!1}}},{key:"iconTextureIndex",get:function(){return this.Zi}},{key:"iconTextureSlice",get:function(){return this.Qi}},{key:"textTextureIndex",get:function(){return this.Ji}},{key:"textSliceIndex",get:function(){return this.Xi}},{key:"colliding",get:function(){return this.Hi},set:function(t){this.Hi=t,this.bd()}},{key:"iconSlice",set:function(t){this.qi=t}},{key:"textSlice",set:function(t){this.$i=t}},{key:"visible",set:function(t){this.vt=t,this.bd()}},{key:"parent",get:function(){return r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",this)},set:function(t){!function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",t,this);var e=this.Zi,i=this.Qi,r=this.localMatrix,u=this.vt?1:0,o=this.dt,c=new Float32Array([o>>16&255,o>>8&255,255&o]);if(void 0!==e&&void 0!==i&&t instanceof a.default){var s=t.nextSlice(e,i);if(s){var f=s[0],h=s[1];if(h){var l=f.rect,v=l.x,y=l.y,d=l.width,b=l.height,w=f.texture.width,p=f.texture.height,k=h.float32VertexBuffer(0);k&&(k.set([-1,1,0,v/w,y/p,d,b,1,1,0,(v+d)/w,y/p,d,b,-1,-1,0,v/w,(y+b)/p,d,b,1,-1,0,(v+d)/w,(y+b)/p,d,b]),h.setAttribute("visible",u),h.setAttribute("subNodeId",c),h.setAttribute("subNodeMatrix",r),this.ni=f,this.qi=h)}}}var m=this.Ji,g=this.Xi;if(void 0!==m&&void 0!==g&&t instanceof a.default){var O=t.nextSlice(m,g);if(O){var j=O[0],M=O[1];if(M){var _=j.rect,E=_.x,S=_.y,x=_.width,T=_.height,A=j.texture.width,C=j.texture.height,R=M.float32VertexBuffer(0);R&&(R.set([-1,1,0,E/A,S/C,x,T,1,1,0,(E+x)/A,S/C,x,T,-1,-1,0,E/A,(S+T)/C,x,T,1,-1,0,(E+x)/A,(S+T)/C,x,T]),M.setAttribute("visible",u),M.setAttribute("subNodeId",c),M.setAttribute("subNodeMatrix",r),this.tr=j,this.$i=M)}}}}}]),n}();n.default=y},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(40);(i=u)&&i.__esModule;var o=function(){function t(n,e,i,r,u,o){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.dt=n,this._t=e,this.nr=i,this.er=r,this.pt=u,this.kt=o}return r(t,[{key:"id",get:function(){return this.dt}},{key:"name",get:function(){return this._t}},{key:"default",get:function(){return this.nr}},{key:"layers",get:function(){return this.er}},{key:"box",get:function(){return this.pt}},{key:"parent",get:function(){return this.kt}}]),t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.dt=n,this._t=e,this.ir=i}return i(t,[{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"name",get:function(){return this._t},set:function(t){this._t=t}},{key:"storeys",get:function(){return this.ir},set:function(t){this.ir=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(144)),u=c(e(102)),o=c(e(74)),a=e(230);c(e(95));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),i=t.meshes,r=t.fillColor,u=t.strokeColor,o=t.highlightColor;return e.Xt=i,e.Vn=(0,a.createProperty)("fillColor",r),e.Kn=(0,a.createProperty)("strokeColor",u),e.Zn=(0,a.createProperty)("highlightColor",o),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"createLayerNode",value:function(t,n,e){var i=this.bb(n,this.Xt);return t.addNode(i),this.applyLayerStyle(i),i}},{key:"bb",value:function(t,n){return new o.default(t)}},{key:"createFeatureNode",value:function(t,n,e){if(!e)return null;var i=this.bc(n);return this.applyFeatureStyle(i,n,e),t.addNode(i),i}},{key:"bc",value:function(t){return new u.default(t)}},{key:"applyFeatureStyle",value:function(t,e,i){if(function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"applyFeatureStyle",this).call(this,t,e,i||e.style),t instanceof u.default){var r=i[i.property],o=r.mesh_index;t.meshIndex=o.mesh_index?o.mesh_index:0,t.sliceIndex=o.slice_index?o.slice_index:0;var a=this.Vn.getValue(e)||this.Vn.getValue(r.fill_color);a&&(t.fillColor=a);var c=this.Kn.getValue(e)||this.Kn.getValue(r.stroke_color);c&&(t.strokeColor=c);var s=this.Zn.getValue(e)||this.Zn.getValue(r.highlight_color);s&&(t.highlightColor=s)}}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NULL_PROPERTY=n.PropertyValue=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();n.createProperty=function(t,n){return n?new c(t,n):f};var r,u=e(95),o=(r=u)&&r.__esModule?r:{default:r};function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=n.PropertyValue=function(){function t(n,e){a(this,t),this._t=n,this.rr=e}return i(t,[{key:"getValue",value:function(t){return t instanceof o.default?t.get(this._t):this.rr[t]}}]),t}(),s=function(t){function n(){return a(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"",[]))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,c),i(n,[{key:"getValue",value:function(t){return null}}]),n}(),f=n.NULL_PROPERTY=new s},function(t,n,e){e(232),t.exports=e(434)},function(t,n,e){"use strict";(function(t){if(e(233),e(430),e(431),t.ur)throw new Error("only one instance of babel-polyfill is allowed");t.ur=!0;var n="defineProperty";function i(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&i(Array,t,Function.call.bind([][t]))})}).call(n,e(145))},function(t,n,e){e(234),e(236),e(237),e(238),e(239),e(240),e(241),e(242),e(243),e(244),e(245),e(246),e(247),e(248),e(249),e(250),e(252),e(253),e(254),e(255),e(256),e(257),e(258),e(259),e(260),e(261),e(262),e(263),e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(271),e(272),e(273),e(274),e(275),e(276),e(277),e(278),e(279),e(280),e(281),e(282),e(283),e(284),e(285),e(286),e(287),e(288),e(289),e(290),e(291),e(292),e(293),e(294),e(295),e(296),e(297),e(298),e(299),e(300),e(301),e(302),e(303),e(304),e(305),e(306),e(307),e(308),e(309),e(310),e(311),e(312),e(314),e(315),e(317),e(318),e(319),e(320),e(321),e(322),e(323),e(325),e(326),e(327),e(328),e(329),e(330),e(331),e(332),e(333),e(334),e(335),e(336),e(337),e(124),e(338),e(339),e(164),e(340),e(341),e(342),e(343),e(344),e(167),e(169),e(170),e(345),e(346),e(347),e(348),e(349),e(350),e(351),e(352),e(353),e(354),e(355),e(356),e(357),e(358),e(359),e(360),e(361),e(362),e(363),e(364),e(365),e(366),e(367),e(368),e(369),e(370),e(371),e(372),e(373),e(374),e(375),e(376),e(377),e(378),e(379),e(380),e(381),e(382),e(383),e(384),e(385),e(386),e(387),e(388),e(389),e(390),e(391),e(392),e(393),e(394),e(395),e(396),e(397),e(398),e(399),e(400),e(401),e(402),e(403),e(404),e(405),e(406),e(407),e(408),e(409),e(410),e(411),e(412),e(413),e(414),e(415),e(416),e(417),e(418),e(419),e(420),e(421),e(422),e(423),e(424),e(425),e(426),e(427),e(428),e(429),t.exports=e(23)},function(t,n,e){"use strict";var i=e(2),r=e(19),u=e(6),o=e(0),a=e(15),c=e(41).KEY,s=e(3),f=e(76),h=e(62),l=e(49),v=e(5),y=e(147),d=e(104),b=e(235),w=e(79),p=e(1),k=e(4),m=e(20),g=e(32),O=e(48),j=e(52),M=e(150),_=e(21),E=e(7),S=e(50),x=_.f,T=E.f,A=M.f,C=i.Symbol,R=i.JSON,N=R&&R.stringify,I=v("_hidden"),F=v("toPrimitive"),D={}.propertyIsEnumerable,L=f("symbol-registry"),P=f("symbols"),z=f("op-symbols"),G=Object.prototype,B="function"==typeof C,U=i.QObject,W=!U||!U.prototype||!U.prototype.findChild,Y=u&&s(function(){return 7!=j(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(t,n,e){var i=x(G,n);i&&delete G[n],T(t,n,e),i&&t!==G&&T(G,n,i)}:T,V=function(t){var n=P[t]=j(C.prototype);return n.Jn=t,n},H=B&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},K=function(t,n,e){return t===G&&K(z,n,e),p(t),n=g(n,!0),p(e),r(P,n)?(e.enumerable?(r(t,I)&&t[I][n]&&(t[I][n]=!1),e=j(e,{enumerable:O(0,!1)})):(r(t,I)||T(t,I,O(1,{})),t[I][n]=!0),Y(t,n,e)):T(t,n,e)},Z=function(t,n){p(t);for(var e,i=b(n=m(n)),r=0,u=i.length;u>r;)K(t,e=i[r++],n[e]);return t},Q=function(t){var n=D.call(this,t=g(t,!0));return!(this===G&&r(P,t)&&!r(z,t))&&(!(n||!r(this,t)||!r(P,t)||r(this,I)&&this[I][t])||n)},J=function(t,n){if(t=m(t),n=g(n,!0),t!==G||!r(P,n)||r(z,n)){var e=x(t,n);return!e||!r(P,n)||r(t,I)&&t[I][n]||(e.enumerable=!0),e}},X=function(t){for(var n,e=A(m(t)),i=[],u=0;e.length>u;)r(P,n=e[u++])||n==I||n==c||i.push(n);return i},q=function(t){for(var n,e=t===G,i=A(e?z:m(t)),u=[],o=0;i.length>o;)!r(P,n=i[o++])||e&&!r(G,n)||u.push(P[n]);return u};B||(a((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),n=function(e){this===G&&n.call(z,e),r(this,I)&&r(this[I],t)&&(this[I][t]=!1),Y(this,t,O(1,e))};return u&&W&&Y(G,t,{configurable:!0,set:n}),V(t)}).prototype,"toString",function(){return this.Jn}),_.f=J,E.f=K,e(53).f=M.f=X,e(69).f=Q,e(78).f=q,u&&!e(42)&&a(G,"propertyIsEnumerable",Q,!0),y.f=function(t){return V(v(t))}),o(o.G+o.W+o.F*!B,{Symbol:C});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)v($[tt++]);for(var nt=S(v.store),et=0;nt.length>et;)d(nt[et++]);o(o.S+o.F*!B,"Symbol",{for:function(t){return r(L,t+="")?L[t]:L[t]=C(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var n in L)if(L[n]===t)return n},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!B,"Object",{create:function(t,n){return void 0===n?j(t):Z(j(t),n)},defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:q}),R&&o(o.S+o.F*(!B||s(function(){var t=C();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){for(var n,e,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(e=n=i[1],(k(n)||void 0!==t)&&!H(t))return w(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!H(n))return n}),i[1]=n,N.apply(R,i)}}),C.prototype[F]||e(14)(C.prototype,F,C.prototype.valueOf),h(C,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,n,e){var i=e(50),r=e(78),u=e(69);t.exports=function(t){var n=i(t),e=r.f;if(e)for(var o,a=e(t),c=u.f,s=0;a.length>s;)c.call(t,o=a[s++])&&n.push(o);return n}},function(t,n,e){var i=e(0);i(i.S,"Object",{create:e(52)})},function(t,n,e){var i=e(0);i(i.S+i.F*!e(6),"Object",{defineProperty:e(7).f})},function(t,n,e){var i=e(0);i(i.S+i.F*!e(6),"Object",{defineProperties:e(149)})},function(t,n,e){var i=e(20),r=e(21).f;e(35)("getOwnPropertyDescriptor",function(){return function(t,n){return r(i(t),n)}})},function(t,n,e){var i=e(10),r=e(22);e(35)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,n,e){var i=e(10),r=e(50);e(35)("keys",function(){return function(t){return r(i(t))}})},function(t,n,e){e(35)("getOwnPropertyNames",function(){return e(150).f})},function(t,n,e){var i=e(4),r=e(41).onFreeze;e(35)("freeze",function(t){return function(n){return t&&i(n)?t(r(n)):n}})},function(t,n,e){var i=e(4),r=e(41).onFreeze;e(35)("seal",function(t){return function(n){return t&&i(n)?t(r(n)):n}})},function(t,n,e){var i=e(4),r=e(41).onFreeze;e(35)("preventExtensions",function(t){return function(n){return t&&i(n)?t(r(n)):n}})},function(t,n,e){var i=e(4);e(35)("isFrozen",function(t){return function(n){return!i(n)||!!t&&t(n)}})},function(t,n,e){var i=e(4);e(35)("isSealed",function(t){return function(n){return!i(n)||!!t&&t(n)}})},function(t,n,e){var i=e(4);e(35)("isExtensible",function(t){return function(n){return!!i(n)&&(!t||t(n))}})},function(t,n,e){var i=e(0);i(i.S+i.F,"Object",{assign:e(151)})},function(t,n,e){var i=e(0);i(i.S,"Object",{is:e(251)})},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,e){var i=e(0);i(i.S,"Object",{setPrototypeOf:e(108).set})},function(t,n,e){"use strict";var i=e(70),r={};r[e(5)("toStringTag")]="z",r+""!="[object z]"&&e(15)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,n,e){var i=e(0);i(i.P,"Function",{bind:e(152)})},function(t,n,e){var i=e(7).f,r=Function.prototype,u=/^\s*function ([^ (]*)/;"name"in r||e(6)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(u)[1]}catch(t){return""}}})},function(t,n,e){"use strict";var i=e(4),r=e(22),u=e(5)("hasInstance"),o=Function.prototype;u in o||e(7).f(o,u,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,e){var i=e(0),r=e(154);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,n,e){var i=e(0),r=e(155);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,n,e){"use strict";var i=e(2),r=e(19),u=e(25),o=e(110),a=e(32),c=e(3),s=e(53).f,f=e(21).f,h=e(7).f,l=e(63).trim,v=i.Number,y=v,d=v.prototype,b="Number"==u(e(52)(d)),w="trim"in String.prototype,p=function(t){var n=a(t,!1);if("string"==typeof n&&n.length>2){var e,i,r,u=(n=w?n.trim():l(n,3)).charCodeAt(0);if(43===u||45===u){if(88===(e=n.charCodeAt(2))||120===e)return NaN}else if(48===u){switch(n.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+n}for(var o,c=n.slice(2),s=0,f=c.length;s<f;s++)if((o=c.charCodeAt(s))<48||o>r)return NaN;return parseInt(c,i)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof v&&(b?c(function(){d.valueOf.call(e)}):"Number"!=u(e))?o(new y(p(n)),e,v):p(n)};for(var k,m=e(6)?s(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),g=0;m.length>g;g++)r(y,k=m[g])&&!r(v,k)&&h(v,k,f(y,k));v.prototype=d,d.constructor=v,e(15)(i,"Number",v)}},function(t,n,e){"use strict";var i=e(0),r=e(34),u=e(156),o=e(111),a=1..toFixed,c=Math.floor,s=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",h=function(t,n){for(var e=-1,i=n;++e<6;)i+=t*s[e],s[e]=i%1e7,i=c(i/1e7)},l=function(t){for(var n=6,e=0;--n>=0;)e+=s[n],s[n]=c(e/t),e=e%t*1e7},v=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==s[t]){var e=String(s[t]);n=""===n?e:n+o.call("0",7-e.length)+e}return n},y=function(t,n,e){return 0===n?e:n%2==1?y(t,n-1,e*t):y(t*t,n/2,e)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e(3)(function(){a.call({})})),"Number",{toFixed:function(t){var n,e,i,a,c=u(this,f),s=r(t),d="",b="0";if(s<0||s>20)throw RangeError(f);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=(n=function(t){for(var n=0,e=t;e>=4096;)n+=12,e/=4096;for(;e>=2;)n+=1,e/=2;return n}(c*y(2,69,1))-69)<0?c*y(2,-n,1):c/y(2,n,1),e*=4503599627370496,(n=52-n)>0){for(h(0,e),i=s;i>=7;)h(1e7,0),i-=7;for(h(y(10,i,1),0),i=n-1;i>=23;)l(1<<23),i-=23;l(1<<i),h(1,1),l(2),b=v()}else h(0,e),h(1<<-n,0),b=v()+o.call("0",s);return b=s>0?d+((a=b.length)<=s?"0."+o.call("0",s-a)+b:b.slice(0,a-s)+"."+b.slice(a-s)):d+b}})},function(t,n,e){"use strict";var i=e(0),r=e(3),u=e(156),o=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(t){var n=u(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(n):o.call(n,t)}})},function(t,n,e){var i=e(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,e){var i=e(0),r=e(2).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,n,e){var i=e(0);i(i.S,"Number",{isInteger:e(157)})},function(t,n,e){var i=e(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,e){var i=e(0),r=e(157),u=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&u(t)<=9007199254740991}})},function(t,n,e){var i=e(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,e){var i=e(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,e){var i=e(0),r=e(155);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,n,e){var i=e(0),r=e(154);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,n,e){var i=e(0),r=e(158),u=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+u(t-1)*u(t+1))}})},function(t,n,e){var i=e(0),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},function(t,n,e){var i=e(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,e){var i=e(0),r=e(112);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,e){var i=e(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,n,e){var i=e(0),r=e(113);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,n,e){var i=e(0);i(i.S,"Math",{fround:e(159)})},function(t,n,e){var i=e(0),r=Math.abs;i(i.S,"Math",{hypot:function(t,n){for(var e,i,u=0,o=0,a=arguments.length,c=0;o<a;)c<(e=r(arguments[o++]))?(u=u*(i=c/e)*i+1,c=e):u+=e>0?(i=e/c)*i:e;return c===1/0?1/0:c*Math.sqrt(u)}})},function(t,n,e){var i=e(0),r=Math.imul;i(i.S+i.F*e(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,n){var e=+t,i=+n,r=65535&e,u=65535&i;return 0|r*u+((65535&e>>>16)*u+r*(65535&i>>>16)<<16>>>0)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,e){var i=e(0);i(i.S,"Math",{log1p:e(158)})},function(t,n,e){var i=e(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,e){var i=e(0);i(i.S,"Math",{sign:e(112)})},function(t,n,e){var i=e(0),r=e(113),u=Math.exp;i(i.S+i.F*e(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(u(t-1)-u(-t-1))*(Math.E/2)}})},function(t,n,e){var i=e(0),r=e(113),u=Math.exp;i(i.S,"Math",{tanh:function(t){var n=r(t=+t),e=r(-t);return n==1/0?1:e==1/0?-1:(n-e)/(u(t)+u(-t))}})},function(t,n,e){var i=e(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,e){var i=e(0),r=e(51),u=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var n,e=[],i=arguments.length,o=0;i>o;){if(n=+arguments[o++],r(n,1114111)!==n)throw RangeError(n+" is not a valid code point");e.push(n<65536?u(n):u(55296+((n-=65536)>>10),n%1024+56320))}return e.join("")}})},function(t,n,e){var i=e(0),r=e(20),u=e(8);i(i.S,"String",{raw:function(t){for(var n=r(t.raw),e=u(n.length),i=arguments.length,o=[],a=0;e>a;)o.push(String(n[a++])),a<i&&o.push(String(arguments[a]));return o.join("")}})},function(t,n,e){"use strict";e(63)("trim",function(t){return function(){return t(this,3)}})},function(t,n,e){"use strict";var i=e(114)(!0);e(115)(String,"String",function(t){this.It=String(t),this.Qn=0},function(){var t,n=this.It,e=this.Qn;return e>=n.length?{value:void 0,done:!0}:(t=i(n,e),this.Qn+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var i=e(0),r=e(114)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,n,e){"use strict";var i=e(0),r=e(8),u=e(117),o="".endsWith;i(i.P+i.F*e(118)("endsWith"),"String",{endsWith:function(t){var n=u(this,t,"endsWith"),e=arguments.length>1?arguments[1]:void 0,i=r(n.length),a=void 0===e?i:Math.min(r(e),i),c=String(t);return o?o.call(n,c,a):n.slice(a-c.length,a)===c}})},function(t,n,e){"use strict";var i=e(0),r=e(117);i(i.P+i.F*e(118)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,e){var i=e(0);i(i.P,"String",{repeat:e(111)})},function(t,n,e){"use strict";var i=e(0),r=e(8),u=e(117),o="".startsWith;i(i.P+i.F*e(118)("startsWith"),"String",{startsWith:function(t){var n=u(this,t,"startsWith"),e=r(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),i=String(t);return o?o.call(n,i,e):n.slice(e,e+i.length)===i}})},function(t,n,e){"use strict";e(16)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,e){"use strict";e(16)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,e){"use strict";e(16)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,e){"use strict";e(16)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,e){"use strict";e(16)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,e){"use strict";e(16)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,e){"use strict";e(16)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,e){"use strict";e(16)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,e){"use strict";e(16)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,e){"use strict";e(16)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,e){"use strict";e(16)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,e){"use strict";e(16)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,e){"use strict";e(16)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,e){var i=e(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,e){"use strict";var i=e(0),r=e(10),u=e(32);i(i.P+i.F*e(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=r(this),e=u(n);return"number"!=typeof e||isFinite(e)?n.toISOString():null}})},function(t,n,e){var i=e(0),r=e(313);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,n,e){"use strict";var i=e(3),r=Date.prototype.getTime,u=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-5e13-1))})||!i(function(){u.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),e=t.getUTCMilliseconds(),i=n<0?"-":n>9999?"+":"";return i+("00000"+Math.abs(n)).slice(i?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(e>99?e:"0"+o(e))+"Z"}:u},function(t,n,e){var i=Date.prototype,r=i.toString,u=i.getTime;new Date(NaN)+""!="Invalid Date"&&e(15)(i,"toString",function(){var t=u.call(this);return t==t?r.call(this):"Invalid Date"})},function(t,n,e){var i=e(5)("toPrimitive"),r=Date.prototype;i in r||e(14)(r,i,e(316))},function(t,n,e){"use strict";var i=e(1),r=e(32);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,n,e){var i=e(0);i(i.S,"Array",{isArray:e(79)})},function(t,n,e){"use strict";var i=e(24),r=e(0),u=e(10),o=e(160),a=e(119),c=e(8),s=e(120),f=e(121);r(r.S+r.F*!e(81)(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,r,h,l=u(t),v="function"==typeof this?this:Array,y=arguments.length,d=y>1?arguments[1]:void 0,b=void 0!==d,w=0,p=f(l);if(b&&(d=i(d,y>2?arguments[2]:void 0,2)),void 0==p||v==Array&&a(p))for(e=new v(n=c(l.length));n>w;w++)s(e,w,b?d(l[w],w):l[w]);else for(h=p.call(l),e=new v;!(r=h.next()).done;w++)s(e,w,b?o(h,d,[r.value,w],!0):r.value);return e.length=w,e}})},function(t,n,e){"use strict";var i=e(0),r=e(120);i(i.S+i.F*e(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,e=new("function"==typeof this?this:Array)(n);n>t;)r(e,t,arguments[t++]);return e.length=n,e}})},function(t,n,e){"use strict";var i=e(0),r=e(20),u=[].join;i(i.P+i.F*(e(68)!=Object||!e(26)(u)),"Array",{join:function(t){return u.call(r(this),void 0===t?",":t)}})},function(t,n,e){"use strict";var i=e(0),r=e(107),u=e(25),o=e(51),a=e(8),c=[].slice;i(i.P+i.F*e(3)(function(){r&&c.call(r)}),"Array",{slice:function(t,n){var e=a(this.length),i=u(this);if(n=void 0===n?e:n,"Array"==i)return c.call(this,t,n);for(var r=o(t,e),s=o(n,e),f=a(s-r),h=new Array(f),l=0;l<f;l++)h[l]="String"==i?this.charAt(r+l):this[r+l];return h}})},function(t,n,e){"use strict";var i=e(0),r=e(11),u=e(10),o=e(3),a=[].sort,c=[1,2,3];i(i.P+i.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!e(26)(a)),"Array",{sort:function(t){return void 0===t?a.call(u(this)):a.call(u(this),r(t))}})},function(t,n,e){"use strict";var i=e(0),r=e(36)(0),u=e(26)([].forEach,!0);i(i.P+i.F*!u,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,n,e){var i=e(4),r=e(79),u=e(5)("species");t.exports=function(t){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&null===(n=n[u])&&(n=void 0)),void 0===n?Array:n}},function(t,n,e){"use strict";var i=e(0),r=e(36)(1);i(i.P+i.F*!e(26)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,n,e){"use strict";var i=e(0),r=e(36)(2);i(i.P+i.F*!e(26)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,n,e){"use strict";var i=e(0),r=e(36)(3);i(i.P+i.F*!e(26)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,n,e){"use strict";var i=e(0),r=e(36)(4);i(i.P+i.F*!e(26)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,n,e){"use strict";var i=e(0),r=e(161);i(i.P+i.F*!e(26)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,n,e){"use strict";var i=e(0),r=e(161);i(i.P+i.F*!e(26)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,n,e){"use strict";var i=e(0),r=e(77)(!1),u=[].indexOf,o=!!u&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!e(26)(u)),"Array",{indexOf:function(t){return o?u.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,n,e){"use strict";var i=e(0),r=e(20),u=e(34),o=e(8),a=[].lastIndexOf,c=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!e(26)(a)),"Array",{lastIndexOf:function(t){if(c)return a.apply(this,arguments)||0;var n=r(this),e=o(n.length),i=e-1;for(arguments.length>1&&(i=Math.min(i,u(arguments[1]))),i<0&&(i=e+i);i>=0;i--)if(i in n&&n[i]===t)return i||0;return-1}})},function(t,n,e){var i=e(0);i(i.P,"Array",{copyWithin:e(162)}),e(43)("copyWithin")},function(t,n,e){var i=e(0);i(i.P,"Array",{fill:e(123)}),e(43)("fill")},function(t,n,e){"use strict";var i=e(0),r=e(36)(5),u=!0;"find"in[]&&Array(1).find(function(){u=!1}),i(i.P+i.F*u,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(43)("find")},function(t,n,e){"use strict";var i=e(0),r=e(36)(6),u="findIndex",o=!0;u in[]&&Array(1)[u](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(43)(u)},function(t,n,e){e(54)("Array")},function(t,n,e){var i=e(2),r=e(110),u=e(7).f,o=e(53).f,a=e(80),c=e(82),s=i.RegExp,f=s,h=s.prototype,l=/a/g,v=/a/g,y=new s(l)!==l;if(e(6)&&(!y||e(3)(function(){return v[e(5)("match")]=!1,s(l)!=l||s(v)==v||"/a/i"!=s(l,"i")}))){s=function(t,n){var e=this instanceof s,i=a(t),u=void 0===n;return!e&&i&&t.constructor===s&&u?t:r(y?new f(i&&!u?t.source:t,n):f((i=t instanceof s)?t.source:t,i&&u?c.call(t):n),e?this:h,s)};for(var d=function(t){t in s||u(s,t,{configurable:!0,get:function(){return f[t]},set:function(n){f[t]=n}})},b=o(f),w=0;b.length>w;)d(b[w++]);h.constructor=s,s.prototype=h,e(15)(i,"RegExp",s)}e(54)("RegExp")},function(t,n,e){"use strict";e(164);var i=e(1),r=e(82),u=e(6),o=/./.toString,a=function(t){e(15)(RegExp.prototype,"toString",t,!0)};e(3)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?a(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!u&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=o.name&&a(function(){return o.call(this)})},function(t,n,e){e(83)("match",1,function(t,n,e){return[function(e){"use strict";var i=t(this),r=void 0==e?void 0:e[n];return void 0!==r?r.call(e,i):new RegExp(e)[n](String(i))},e]})},function(t,n,e){e(83)("replace",2,function(t,n,e){return[function(i,r){"use strict";var u=t(this),o=void 0==i?void 0:i[n];return void 0!==o?o.call(i,u,r):e.call(String(u),i,r)},e]})},function(t,n,e){e(83)("search",1,function(t,n,e){return[function(e){"use strict";var i=t(this),r=void 0==e?void 0:e[n];return void 0!==r?r.call(e,i):new RegExp(e)[n](String(i))},e]})},function(t,n,e){e(83)("split",2,function(t,n,i){"use strict";var r=e(80),u=i,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];i=function(t,n){var e=String(this);if(void 0===t&&0===n)return[];if(!r(t))return u.call(e,t,n);var i,c,s,f,h,l=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,d=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,v+"g");for(a||(i=new RegExp("^"+b.source+"$(?!\\s)",v));(c=b.exec(e))&&!((s=c.index+c[0].length)>y&&(l.push(e.slice(y,c.index)),!a&&c.length>1&&c[0].replace(i,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(c[h]=void 0)}),c.length>1&&c.index<e.length&&o.apply(l,c.slice(1)),f=c[0].length,y=s,l.length>=d));)b.lastIndex===c.index&&b.lastIndex++;return y===e.length?!f&&b.test("")||l.push(""):l.push(e.slice(y)),l.length>d?l.slice(0,d):l}}else"0".split(void 0,0).length&&(i=function(t,n){return void 0===t&&0===n?[]:u.call(this,t,n)});return[function(e,r){var u=t(this),o=void 0==e?void 0:e[n];return void 0!==o?o.call(e,u,r):i.call(String(u),e,r)},i]})},function(t,n,e){"use strict";var i,r,u,o,a=e(42),c=e(2),s=e(24),f=e(70),h=e(0),l=e(4),v=e(11),y=e(55),d=e(56),b=e(84),w=e(125).set,p=e(126)(),k=e(127),m=e(165),g=e(85),O=e(166),j=c.TypeError,M=c.process,_=M&&M.versions,E=_&&_.v8||"",S=c.Promise,x="process"==f(M),T=function(){},A=r=k.f,C=!!function(){try{var t=S.resolve(1),n=(t.constructor={})[e(5)("species")]=function(t){t(T,T)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof n&&0!==E.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},N=function(t,n){if(!t.or){t.or=!0;var e=t.cr;p(function(){for(var i=t.sr,r=1==t.fr,u=0,o=function(n){var e,u,o,a=r?n.ok:n.fail,c=n.resolve,s=n.reject,f=n.domain;try{a?(r||(2==t.Un&&D(t),t.Un=1),!0===a?e=i:(f&&f.enter(),e=a(i),f&&(f.exit(),o=!0)),e===n.promise?s(j("Promise-chain cycle")):(u=R(e))?u.call(e,c,s):c(e)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}};e.length>u;)o(e[u++]);t.cr=[],t.or=!1,n&&!t.Un&&I(t)})}},I=function(t){w.call(c,function(){var n,e,i,r=t.sr,u=F(t);if(u&&(n=m(function(){x?M.emit("unhandledRejection",r,t):(e=c.onunhandledrejection)?e({promise:t,reason:r}):(i=c.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t.Un=x||F(t)?2:1),t.hr=void 0,u&&n.e)throw n.v})},F=function(t){return 1!==t.Un&&0===(t.hr||t.cr).length},D=function(t){w.call(c,function(){var n;x?M.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t.sr})})},L=function(t){var n=this;n.Tt||(n.Tt=!0,(n=n.lr||n).sr=t,n.fr=2,n.hr||(n.hr=n.cr.slice()),N(n,!0))},P=function(t){var n,e=this;if(!e.Tt){e.Tt=!0,e=e.lr||e;try{if(e===t)throw j("Promise can't be resolved itself");(n=R(t))?p(function(){var i={lr:e,Tt:!1};try{n.call(t,s(P,i,1),s(L,i,1))}catch(t){L.call(i,t)}}):(e.sr=t,e.fr=1,N(e,!1))}catch(t){L.call({lr:e,Tt:!1},t)}}};C||(S=function(t){y(this,S,"Promise","_h"),v(t),i.call(this);try{t(s(P,this,1),s(L,this,1))}catch(t){L.call(this,t)}},(i=function(t){this.cr=[],this.hr=void 0,this.fr=0,this.Tt=!1,this.sr=void 0,this.Un=0,this.or=!1}).prototype=e(57)(S.prototype,{then:function(t,n){var e=A(b(this,S));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=x?M.domain:void 0,this.cr.push(e),this.hr&&this.hr.push(e),this.fr&&N(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new i;this.promise=t,this.resolve=s(P,t,1),this.reject=s(L,t,1)},k.f=A=function(t){return t===S||t===o?new u(t):r(t)}),h(h.G+h.W+h.F*!C,{Promise:S}),e(62)(S,"Promise"),e(54)("Promise"),o=e(23).Promise,h(h.S+h.F*!C,"Promise",{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),h(h.S+h.F*(a||!C),"Promise",{resolve:function(t){return O(a&&this===o?S:this,t)}}),h(h.S+h.F*!(C&&e(81)(function(t){S.all(t).catch(T)})),"Promise",{all:function(t){var n=this,e=A(n),i=e.resolve,r=e.reject,u=m(function(){var e=[],u=0,o=1;d(t,!1,function(t){var a=u++,c=!1;e.push(void 0),o++,n.resolve(t).then(function(t){c||(c=!0,e[a]=t,--o||i(e))},r)}),--o||i(e)});return u.e&&r(u.v),e.promise},race:function(t){var n=this,e=A(n),i=e.reject,r=m(function(){d(t,!1,function(t){n.resolve(t).then(e.resolve,i)})});return r.e&&i(r.v),e.promise}})},function(t,n,e){"use strict";var i=e(171),r=e(65);e(86)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,n,e){"use strict";var i=e(0),r=e(87),u=e(128),o=e(1),a=e(51),c=e(8),s=e(4),f=e(2).ArrayBuffer,h=e(84),l=u.ArrayBuffer,v=u.DataView,y=r.ABV&&f.isView,d=l.prototype.slice,b=r.VIEW;i(i.G+i.W+i.F*(f!==l),{ArrayBuffer:l}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return y&&y(t)||s(t)&&b in t}}),i(i.P+i.U+i.F*e(3)(function(){return!new l(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(o(this),t);for(var e=o(this).byteLength,i=a(t,e),r=a(void 0===n?e:n,e),u=new(h(this,l))(c(r-i)),s=new v(this),f=new v(u),y=0;i<r;)f.setUint8(y++,s.getUint8(i++));return u}}),e(54)("ArrayBuffer")},function(t,n,e){var i=e(0);i(i.G+i.W+i.F*!e(87).ABV,{DataView:e(128).DataView})},function(t,n,e){e(38)("Int8",1,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Uint8",1,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Uint8",1,function(t){return function(n,e,i){return t(this,n,e,i)}},!0)},function(t,n,e){e(38)("Int16",2,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Uint16",2,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Int32",4,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Uint32",4,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Float32",4,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){e(38)("Float64",8,function(t){return function(n,e,i){return t(this,n,e,i)}})},function(t,n,e){var i=e(0),r=e(11),u=e(1),o=(e(2).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!e(3)(function(){o(function(){})}),"Reflect",{apply:function(t,n,e){var i=r(t),c=u(e);return o?o(i,n,c):a.call(i,n,c)}})},function(t,n,e){var i=e(0),r=e(52),u=e(11),o=e(1),a=e(4),c=e(3),s=e(152),f=(e(2).Reflect||{}).construct,h=c(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),l=!c(function(){f(function(){})});i(i.S+i.F*(h||l),"Reflect",{construct:function(t,n){u(t),o(n);var e=arguments.length<3?t:u(arguments[2]);if(l&&!h)return f(t,n,e);if(t==e){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var i=[null];return i.push.apply(i,n),new(s.apply(t,i))}var c=e.prototype,v=r(a(c)?c:Object.prototype),y=Function.apply.call(t,v,n);return a(y)?y:v}})},function(t,n,e){var i=e(7),r=e(0),u=e(1),o=e(32);r(r.S+r.F*e(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,e){u(t),n=o(n,!0),u(e);try{return i.f(t,n,e),!0}catch(t){return!1}}})},function(t,n,e){var i=e(0),r=e(21).f,u=e(1);i(i.S,"Reflect",{deleteProperty:function(t,n){var e=r(u(t),n);return!(e&&!e.configurable)&&delete t[n]}})},function(t,n,e){"use strict";var i=e(0),r=e(1),u=function(t){this.It=r(t),this.Qn=0;var n,e=this.Jn=[];for(n in t)e.push(n)};e(116)(u,"Object",function(){var t,n=this.Jn;do{if(this.Qn>=n.length)return{value:void 0,done:!0}}while(!((t=n[this.Qn++])in this.It));return{value:t,done:!1}}),i(i.S,"Reflect",{enumerate:function(t){return new u(t)}})},function(t,n,e){var i=e(21),r=e(22),u=e(19),o=e(0),a=e(4),c=e(1);o(o.S,"Reflect",{get:function t(n,e){var o,s,f=arguments.length<3?n:arguments[2];return c(n)===f?n[e]:(o=i.f(n,e))?u(o,"value")?o.value:void 0!==o.get?o.get.call(f):void 0:a(s=r(n))?t(s,e,f):void 0}})},function(t,n,e){var i=e(21),r=e(0),u=e(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return i.f(u(t),n)}})},function(t,n,e){var i=e(0),r=e(22),u=e(1);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(u(t))}})},function(t,n,e){var i=e(0);i(i.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,e){var i=e(0),r=e(1),u=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!u||u(t)}})},function(t,n,e){var i=e(0);i(i.S,"Reflect",{ownKeys:e(173)})},function(t,n,e){var i=e(0),r=e(1),u=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return u&&u(t),!0}catch(t){return!1}}})},function(t,n,e){var i=e(7),r=e(21),u=e(22),o=e(19),a=e(0),c=e(48),s=e(1),f=e(4);a(a.S,"Reflect",{set:function t(n,e,a){var h,l,v=arguments.length<4?n:arguments[3],y=r.f(s(n),e);if(!y){if(f(l=u(n)))return t(l,e,a,v);y=c(0)}if(o(y,"value")){if(!1===y.writable||!f(v))return!1;if(h=r.f(v,e)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,i.f(v,e,h)}else i.f(v,e,c(0,a));return!0}return void 0!==y.set&&(y.set.call(v,a),!0)}})},function(t,n,e){var i=e(0),r=e(108);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,n){r.check(t,n);try{return r.set(t,n),!0}catch(t){return!1}}})},function(t,n,e){"use strict";var i=e(0),r=e(77)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(43)("includes")},function(t,n,e){"use strict";var i=e(0),r=e(174),u=e(10),o=e(8),a=e(11),c=e(122);i(i.P,"Array",{flatMap:function(t){var n,e,i=u(this);return a(t),n=o(i.length),e=c(i,0),r(e,i,i,n,0,1,t,arguments[1]),e}}),e(43)("flatMap")},function(t,n,e){"use strict";var i=e(0),r=e(174),u=e(10),o=e(8),a=e(34),c=e(122);i(i.P,"Array",{flatten:function(){var t=arguments[0],n=u(this),e=o(n.length),i=c(n,0);return r(i,n,n,e,0,void 0===t?1:a(t)),i}}),e(43)("flatten")},function(t,n,e){"use strict";var i=e(0),r=e(114)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,n,e){"use strict";var i=e(0),r=e(175),u=e(85);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(u),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,e){"use strict";var i=e(0),r=e(175),u=e(85);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(u),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,e){"use strict";e(63)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,e){"use strict";e(63)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,e){"use strict";var i=e(0),r=e(33),u=e(8),o=e(80),a=e(82),c=RegExp.prototype,s=function(t,n){this.vr=t,this.fr=n};e(116)(s,"RegExp String",function(){var t=this.vr.exec(this.fr);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(r(this),!o(t))throw TypeError(t+" is not a regexp!");var n=String(this),e="flags"in c?String(t.flags):a.call(t),i=new RegExp(t.source,~e.indexOf("g")?e:"g"+e);return i.lastIndex=u(t.lastIndex),new s(i,n)}})},function(t,n,e){e(104)("asyncIterator")},function(t,n,e){e(104)("observable")},function(t,n,e){var i=e(0),r=e(173),u=e(20),o=e(21),a=e(120);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,e,i=u(t),c=o.f,s=r(i),f={},h=0;s.length>h;)void 0!==(e=c(i,n=s[h++]))&&a(f,n,e);return f}})},function(t,n,e){var i=e(0),r=e(176)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,n,e){var i=e(0),r=e(176)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,n,e){"use strict";var i=e(0),r=e(10),u=e(11),o=e(7);e(6)&&i(i.P+e(88),"Object",{__defineGetter__:function(t,n){o.f(r(this),t,{get:u(n),enumerable:!0,configurable:!0})}})},function(t,n,e){"use strict";var i=e(0),r=e(10),u=e(11),o=e(7);e(6)&&i(i.P+e(88),"Object",{__defineSetter__:function(t,n){o.f(r(this),t,{set:u(n),enumerable:!0,configurable:!0})}})},function(t,n,e){"use strict";var i=e(0),r=e(10),u=e(32),o=e(22),a=e(21).f;e(6)&&i(i.P+e(88),"Object",{__lookupGetter__:function(t){var n,e=r(this),i=u(t,!0);do{if(n=a(e,i))return n.get}while(e=o(e))}})},function(t,n,e){"use strict";var i=e(0),r=e(10),u=e(32),o=e(22),a=e(21).f;e(6)&&i(i.P+e(88),"Object",{__lookupSetter__:function(t){var n,e=r(this),i=u(t,!0);do{if(n=a(e,i))return n.set}while(e=o(e))}})},function(t,n,e){var i=e(0);i(i.P+i.R,"Map",{toJSON:e(177)("Map")})},function(t,n,e){var i=e(0);i(i.P+i.R,"Set",{toJSON:e(177)("Set")})},function(t,n,e){e(89)("Map")},function(t,n,e){e(89)("Set")},function(t,n,e){e(89)("WeakMap")},function(t,n,e){e(89)("WeakSet")},function(t,n,e){e(90)("Map")},function(t,n,e){e(90)("Set")},function(t,n,e){e(90)("WeakMap")},function(t,n,e){e(90)("WeakSet")},function(t,n,e){var i=e(0);i(i.G,{global:e(2)})},function(t,n,e){var i=e(0);i(i.S,"System",{global:e(2)})},function(t,n,e){var i=e(0),r=e(25);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{clamp:function(t,n,e){return Math.min(e,Math.max(n,t))}})},function(t,n,e){var i=e(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,n,e){var i=e(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,n,e){var i=e(0),r=e(179),u=e(159);i(i.S,"Math",{fscale:function(t,n,e,i,o){return u(r(t,n,e,i,o))}})},function(t,n,e){var i=e(0);i(i.S,"Math",{iaddh:function(t,n,e,i){var r=t>>>0,u=e>>>0;return(n>>>0)+(i>>>0)+((r&u|(r|u)&~(r+u>>>0))>>>31)|0}})},function(t,n,e){var i=e(0);i(i.S,"Math",{isubh:function(t,n,e,i){var r=t>>>0,u=e>>>0;return(n>>>0)-(i>>>0)-((~r&u|~(r^u)&r-u>>>0)>>>31)|0}})},function(t,n,e){var i=e(0);i(i.S,"Math",{imulh:function(t,n){var e=+t,i=+n,r=65535&e,u=65535&i,o=e>>16,a=i>>16,c=(o*u>>>0)+(r*u>>>16);return o*a+(c>>16)+((r*a>>>0)+(65535&c)>>16)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,n,e){var i=e(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,n,e){var i=e(0);i(i.S,"Math",{scale:e(179)})},function(t,n,e){var i=e(0);i(i.S,"Math",{umulh:function(t,n){var e=+t,i=+n,r=65535&e,u=65535&i,o=e>>>16,a=i>>>16,c=(o*u>>>0)+(r*u>>>16);return o*a+(c>>>16)+((r*a>>>0)+(65535&c)>>>16)}})},function(t,n,e){var i=e(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,n,e){"use strict";var i=e(0),r=e(23),u=e(2),o=e(84),a=e(166);i(i.P+i.R,"Promise",{finally:function(t){var n=o(this,r.Promise||u.Promise),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then(function(){return e})}:t,e?function(e){return a(n,t()).then(function(){throw e})}:t)}})},function(t,n,e){"use strict";var i=e(0),r=e(127),u=e(165);i(i.S,"Promise",{try:function(t){var n=r.f(this),e=u(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},function(t,n,e){var i=e(39),r=e(1),u=i.key,o=i.set;i.exp({defineMetadata:function(t,n,e,i){o(t,n,r(e),u(i))}})},function(t,n,e){var i=e(39),r=e(1),u=i.key,o=i.map,a=i.store;i.exp({deleteMetadata:function(t,n){var e=arguments.length<3?void 0:u(arguments[2]),i=o(r(n),e,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var c=a.get(n);return c.delete(e),!!c.size||a.delete(n)}})},function(t,n,e){var i=e(39),r=e(1),u=e(22),o=i.has,a=i.get,c=i.key,s=function(t,n,e){if(o(t,n,e))return a(t,n,e);var i=u(n);return null!==i?s(t,i,e):void 0};i.exp({getMetadata:function(t,n){return s(t,r(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,e){var i=e(169),r=e(178),u=e(39),o=e(1),a=e(22),c=u.keys,s=u.key,f=function(t,n){var e=c(t,n),u=a(t);if(null===u)return e;var o=f(u,n);return o.length?e.length?r(new i(e.concat(o))):o:e};u.exp({getMetadataKeys:function(t){return f(o(t),arguments.length<2?void 0:s(arguments[1]))}})},function(t,n,e){var i=e(39),r=e(1),u=i.get,o=i.key;i.exp({getOwnMetadata:function(t,n){return u(t,r(n),arguments.length<3?void 0:o(arguments[2]))}})},function(t,n,e){var i=e(39),r=e(1),u=i.keys,o=i.key;i.exp({getOwnMetadataKeys:function(t){return u(r(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,n,e){var i=e(39),r=e(1),u=e(22),o=i.has,a=i.key,c=function(t,n,e){if(o(t,n,e))return!0;var i=u(n);return null!==i&&c(t,i,e)};i.exp({hasMetadata:function(t,n){return c(t,r(n),arguments.length<3?void 0:a(arguments[2]))}})},function(t,n,e){var i=e(39),r=e(1),u=i.has,o=i.key;i.exp({hasOwnMetadata:function(t,n){return u(t,r(n),arguments.length<3?void 0:o(arguments[2]))}})},function(t,n,e){var i=e(39),r=e(1),u=e(11),o=i.key,a=i.set;i.exp({metadata:function(t,n){return function(e,i){a(t,n,(void 0!==i?r:u)(e),o(i))}}})},function(t,n,e){var i=e(0),r=e(126)(),u=e(2).process,o="process"==e(25)(u);i(i.G,{asap:function(t){var n=o&&u.domain;r(n?n.bind(t):t)}})},function(t,n,e){"use strict";var i=e(0),r=e(2),u=e(23),o=e(126)(),a=e(5)("observable"),c=e(11),s=e(1),f=e(55),h=e(57),l=e(14),v=e(56),y=v.RETURN,d=function(t){return null==t?void 0:c(t)},b=function(t){var n=t.cr;n&&(t.cr=void 0,n())},w=function(t){return void 0===t.yr},p=function(t){w(t)||(t.yr=void 0,b(t))},k=function(t,n){s(t),this.cr=void 0,this.yr=t,t=new m(this);try{var e=n(t),i=e;null!=e&&("function"==typeof e.unsubscribe?e=function(){i.unsubscribe()}:c(e),this.cr=e)}catch(n){return void t.error(n)}w(this)&&b(this)};k.prototype=h({},{unsubscribe:function(){p(this)}});var m=function(t){this.fr=t};m.prototype=h({},{next:function(t){var n=this.fr;if(!w(n)){var e=n.yr;try{var i=d(e.next);if(i)return i.call(e,t)}catch(t){try{p(n)}finally{throw t}}}},error:function(t){var n=this.fr;if(w(n))throw t;var e=n.yr;n.yr=void 0;try{var i=d(e.error);if(!i)throw t;t=i.call(e,t)}catch(t){try{b(n)}finally{throw t}}return b(n),t},complete:function(t){var n=this.fr;if(!w(n)){var e=n.yr;n.yr=void 0;try{var i=d(e.complete);t=i?i.call(e,t):void 0}catch(t){try{b(n)}finally{throw t}}return b(n),t}}});var g=function(t){f(this,g,"Observable","_f").Ye=c(t)};h(g.prototype,{subscribe:function(t){return new k(t,this.Ye)},forEach:function(t){var n=this;return new(u.Promise||r.Promise)(function(e,i){c(t);var r=n.subscribe({next:function(n){try{return t(n)}catch(t){i(t),r.unsubscribe()}},error:i,complete:e})})}}),h(g,{from:function(t){var n="function"==typeof this?this:g,e=d(s(t)[a]);if(e){var i=s(e.call(t));return i.constructor===n?i:new n(function(t){return i.subscribe(t)})}return new n(function(n){var e=!1;return o(function(){if(!e){try{if(v(t,!1,function(t){if(n.next(t),e)return y})===y)return}catch(t){if(e)throw t;return void n.error(t)}n.complete()}}),function(){e=!0}})},of:function(){for(var t=0,n=arguments.length,e=new Array(n);t<n;)e[t]=arguments[t++];return new("function"==typeof this?this:g)(function(t){var n=!1;return o(function(){if(!n){for(var i=0;i<e.length;++i)if(t.next(e[i]),n)return;t.complete()}}),function(){n=!0}})}}),l(g.prototype,a,function(){return this}),i(i.G,{Observable:g}),e(54)("Observable")},function(t,n,e){var i=e(2),r=e(0),u=e(85),o=[].slice,a=/MSIE .\./.test(u),c=function(t){return function(n,e){var i=arguments.length>2,r=!!i&&o.call(arguments,2);return t(i?function(){("function"==typeof n?n:Function(n)).apply(this,r)}:n,e)}};r(r.G+r.B+r.F*a,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},function(t,n,e){var i=e(0),r=e(125);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,n,e){for(var i=e(124),r=e(50),u=e(15),o=e(2),a=e(14),c=e(64),s=e(5),f=s("iterator"),h=s("toStringTag"),l=c.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},y=r(v),d=0;d<y.length;d++){var b,w=y[d],p=v[w],k=o[w],m=k&&k.prototype;if(m&&(m[f]||a(m,f,l),m[h]||a(m,h,w),c[w]=l,p))for(b in i)m[b]||u(m,b,i[b],!0)}},function(t,n,e){(function(n){!function(n){"use strict";var e,i=Object.prototype,r=i.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",a=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag",s="object"==typeof t,f=n.regeneratorRuntime;if(f)s&&(t.exports=f);else{(f=n.regeneratorRuntime=s?t.exports:{}).wrap=m;var h="suspendedStart",l="suspendedYield",v="executing",y="completed",d={},b={};b[o]=function(){return this};var w=Object.getPrototypeOf,p=w&&w(w(C([])));p&&p!==i&&r.call(p,o)&&(b=p);var k=M.prototype=O.prototype=Object.create(b);j.prototype=k.constructor=M,M.constructor=j,M[c]=j.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===j||"GeneratorFunction"===(n.displayName||n.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,M):(t.__proto__=M,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(k),t},f.awrap=function(t){return{dr:t}},_(E.prototype),E.prototype[a]=function(){return this},f.AsyncIterator=E,f.async=function(t,n,e,i){var r=new E(m(t,n,e,i));return f.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},_(k),k[c]="Generator",k[o]=function(){return this},k.toString=function(){return"[object Generator]"},f.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},f.values=C,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.br=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,r){return a.type="throw",a.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,d):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),T(e),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;T(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),d}}}function m(t,n,e,i){var r=n&&n.prototype instanceof O?n:O,u=Object.create(r.prototype),o=new A(i||[]);return u.wr=function(t,n,e){var i=h;return function(r,u){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===r)throw u;return R()}for(e.method=r,e.arg=u;;){var o=e.delegate;if(o){var a=S(o,e);if(a){if(a===d)continue;return a}}if("next"===e.method)e.sent=e.br=e.arg;else if("throw"===e.method){if(i===h)throw i=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);i=v;var c=g(t,n,e);if("normal"===c.type){if(i=e.done?y:l,c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(i=y,e.method="throw",e.arg=c.arg)}}}(t,e,o),u}function g(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function O(){}function j(){}function M(){}function _(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.wr(n,t)}})}function E(t){function e(n,i,u,o){var a=g(t[n],t,i);if("throw"!==a.type){var c=a.arg,s=c.value;return s&&"object"==typeof s&&r.call(s,"__await")?Promise.resolve(s.dr).then(function(t){e("next",t,u,o)},function(t){e("throw",t,u,o)}):Promise.resolve(s).then(function(t){c.value=t,u(c)},o)}o(a.arg)}var i;"object"==typeof n.process&&n.process.domain&&(e=n.process.domain.bind(e)),this.wr=function(t,n){function r(){return new Promise(function(i,r){e(t,n,i,r)})}return i=i?i.then(r,r):r()}}function S(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=g(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var u=r.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function x(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function T(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,u=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return u.next=u}}return{next:R}}function R(){return{value:e,done:!0}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,e(145))},function(t,n,e){e(432),t.exports=e(23).RegExp.escape},function(t,n,e){var i=e(0),r=e(433)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,n){t.exports=function(t,n){var e=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,e)}}},function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}e(436),e(437),e(438),e(439),e(440),e(441),e(442),e(443),e(444),e(445);var u={camera:r(e(446)),control:r(e(451)),core:r(e(454)),data:r(e(455)),datasource:r(e(456)),dom:r(e(457)),geometry:r(e(459)),io:r(e(495)),location:r(e(496)),marker:r(e(498)),math:r(e(187)),navi:r(e(501)),options:r(e(517)),util:r(e(519)),Map:e(520).AIndoorMap};window.mapcube=u,"object"===i(t)&&"object"===i(t.exports)?t.exports=u:"function"==typeof window.define&&window.define.amd&&window.define(u),n.default=u}).call(n,e(435)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=e(17);var u,o,a,c,s=Object.prototype.hasOwnProperty,f=Object.getOwnPropertyNames?Object.getOwnPropertyNames:function(t){var n=[];for(var e in t)s.call(t,e)&&n.push(e);return n},h=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertySymbols,v=Object.propertyIsEnumerable;if(Object.getPrototypeOf||(Object.getPrototypeOf="object"===i("".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype}),!Object.keys){var y=!v.call({toString:null},"toString"),d=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Object.keys=function(t){if(!(0,r.isObject)(t)&&!(0,r.isFunction)(t))throw new TypeError("Cannot convert undefined or null to object");var n=f(t);return y&&n.push.apply(n,function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(d.filter(function(n){return s(t,n)}))),n.filter(function(n){return v.call(t,n)})}}Object.assign||(Object.assign=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];if(!t)throw new TypeError("Cannot convert undefined or null to object");return[].forEach.call(e,function(n){var e=Object(n);(Object.keys(e).map(function(n){return t[n]=e[n]}),l)&&l(e).filter(function(t){return v.call(e,t)}).map(function(n){return t[n]=e[n]})}),t}),window.mergeOptions||(window.mergeOptions=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return e.forEach(function(n){var e=Object(n);(Object.keys(e).forEach(function(e){var i=t[e];(0,r.isObject)(i)?window.mergeOptions(t[e],n[e]):t[e]=n[e]}),l)&&l(e).filter(function(t){return v.call(e,t)}).map(function(n){return t[n]=e[n]})}),t}),window.assignEx||(window.assignEx=function(t,n){for(var e=arguments.length,i=Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var u=n.context,o=void 0===u?t:u,a=n.includes,c=void 0===a?new Set:a,s=n.cover,l=void 0!==s&&s,v=n.needPrivate,y=void 0!==v&&v;[].forEach.call(i,function(n){var e=Object(n);f(e).filter(function(n){return function(t,n,e){return l||void 0===t[e]}(t,0,n)&&(y||/^[^_]\S+/.test(n))&&c.has(n)}).forEach(function(n){var i=h(e,n),r=Object.assign({},i);"function"==typeof i.value&&(r.value=i.value.bind(o)),i.get&&(r.get=i.get.bind(o)),i.set&&(r.set=i.set.bind(o)),Object.defineProperty(t,n,r)})})}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),u="resize",o="optimizedResize",c=!1,(a=a||window).addEventListener(u,function(){c||(c=!0,requestAnimationFrame(function(){a.dispatchEvent(new CustomEvent(o)),c=!1}))})},function(t,n,e){"use strict";window.assert=function(t,n){if(!t)throw new Error(n||"Assert false.")},window.debug=function(t){t()}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PerspectiveCamera=n.CameraUtils=void 0;var i,r=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(180)),u=e(71),o=(i=u)&&i.__esModule?i:{default:i};n.CameraUtils=r,n.PerspectiveCamera=o.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){let t=new i.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.clone=function(t){let n=new i.ARRAY_TYPE(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},n.fromValues=function(t,n,e,r){let u=new i.ARRAY_TYPE(4);return u[0]=t,u[1]=n,u[2]=e,u[3]=r,u},n.set=function(t,n,e,i,r){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t},n.transpose=function(t,n){if(t===n){let e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t},n.invert=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=e*u-r*i;if(!o)return null;return o=1/o,t[0]=u*o,t[1]=-i*o,t[2]=-r*o,t[3]=e*o,t},n.adjoint=function(t,n){let e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t},n.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},n.multiply=r,n.rotate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=Math.sin(e),c=Math.cos(e);return t[0]=i*c+u*a,t[1]=r*c+o*a,t[2]=i*-a+u*c,t[3]=r*-a+o*c,t},n.scale=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=e[0],c=e[1];return t[0]=i*a,t[1]=r*a,t[2]=u*c,t[3]=o*c,t},n.fromRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=e,t[2]=-e,t[3]=i,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t},n.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},n.LDU=function(t,n,e,i){return t[2]=i[2]/i[0],e[0]=i[0],e[1]=i[1],e[3]=i[3]-t[2]*e[1],[t,n,e]},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t},n.subtract=u,n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=n[0],c=n[1],s=n[2],f=n[3];return Math.abs(e-a)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-c)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(u-s)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-f)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))},n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t},n.multiplyScalarAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t[3]=n[3]+e[3]*i,t};var i=e(37);function r(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=e[0],c=e[1],s=e[2],f=e[3];return t[0]=i*a+u*c,t[1]=r*a+o*c,t[2]=i*s+u*f,t[3]=r*s+o*f,t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}const o=r;n.mul=o;const a=u;n.sub=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){let t=new i.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.clone=function(t){let n=new i.ARRAY_TYPE(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t},n.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},n.fromValues=function(t,n,e,r,u,o){let a=new i.ARRAY_TYPE(6);return a[0]=t,a[1]=n,a[2]=e,a[3]=r,a[4]=u,a[5]=o,a},n.set=function(t,n,e,i,r,u,o){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t[4]=u,t[5]=o,t},n.invert=function(t,n){let e=n[0],i=n[1],r=n[2],u=n[3],o=n[4],a=n[5],c=e*u-i*r;if(!c)return null;return c=1/c,t[0]=u*c,t[1]=-i*c,t[2]=-r*c,t[3]=e*c,t[4]=(r*a-u*o)*c,t[5]=(i*o-e*a)*c,t},n.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},n.multiply=r,n.rotate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=Math.sin(e),f=Math.cos(e);return t[0]=i*f+u*s,t[1]=r*f+o*s,t[2]=i*-s+u*f,t[3]=r*-s+o*f,t[4]=a,t[5]=c,t},n.scale=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=e[0],f=e[1];return t[0]=i*s,t[1]=r*s,t[2]=u*f,t[3]=o*f,t[4]=a,t[5]=c,t},n.translate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=e[0],f=e[1];return t[0]=i,t[1]=r,t[2]=u,t[3]=o,t[4]=i*s+u*f+a,t[5]=r*s+o*f+c,t},n.fromRotation=function(t,n){let e=Math.sin(n),i=Math.cos(n);return t[0]=i,t[1]=e,t[2]=-e,t[3]=i,t[4]=0,t[5]=0,t},n.fromScaling=function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t},n.fromTranslation=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t},n.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},n.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t},n.subtract=u,n.multiplyScalar=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t},n.multiplyScalarAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t[2]=n[2]+e[2]*i,t[3]=n[3]+e[3]*i,t[4]=n[4]+e[4]*i,t[5]=n[5]+e[5]*i,t},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=t[4],c=t[5],s=n[0],f=n[1],h=n[2],l=n[3],v=n[4],y=n[5];return Math.abs(e-s)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-f)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(u-h)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(o-l)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-v)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(c-y)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))};var i=e(37);function r(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=n[4],c=n[5],s=e[0],f=e[1],h=e[2],l=e[3],v=e[4],y=e[5];return t[0]=i*s+u*f,t[1]=r*s+o*f,t[2]=i*h+u*l,t[3]=r*h+o*l,t[4]=i*v+u*y+a,t[5]=r*v+o*y+c,t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t}const o=r;n.mul=o;const a=u;n.sub=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){let t=new i.ARRAY_TYPE(8);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.clone=function(t){let n=new i.ARRAY_TYPE(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n},n.fromValues=function(t,n,e,r,u,o,a,c){let s=new i.ARRAY_TYPE(8);return s[0]=t,s[1]=n,s[2]=e,s[3]=r,s[4]=u,s[5]=o,s[6]=a,s[7]=c,s},n.fromRotationTranslationValues=function(t,n,e,r,u,o,a){let c=new i.ARRAY_TYPE(8);c[0]=t,c[1]=n,c[2]=e,c[3]=r;let s=.5*u,f=.5*o,h=.5*a;return c[4]=s*r+f*e-h*n,c[5]=f*r+h*t-s*e,c[6]=h*r+s*n-f*t,c[7]=-s*t-f*n-h*e,c},n.fromRotationTranslation=o,n.fromTranslation=function(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t},n.fromRotation=function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.fromMat4=function(t,n){let e=r.create();u.getRotation(e,n);let a=new i.ARRAY_TYPE(3);return u.getTranslation(a,n),o(t,e,a),t},n.copy=a,n.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},n.set=function(t,n,e,i,r,u,o,a,c){return t[0]=n,t[1]=e,t[2]=i,t[3]=r,t[4]=u,t[5]=o,t[6]=a,t[7]=c,t},n.getDual=function(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t},n.setDual=function(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t},n.getTranslation=function(t,n){let e=n[4],i=n[5],r=n[6],u=n[7],o=-n[0],a=-n[1],c=-n[2],s=n[3];return t[0]=2*(e*s+u*o+i*c-r*a),t[1]=2*(i*s+u*a+r*o-e*c),t[2]=2*(r*s+u*c+e*a-i*o),t},n.translate=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=.5*e[0],c=.5*e[1],s=.5*e[2],f=n[4],h=n[5],l=n[6],v=n[7];return t[0]=i,t[1]=r,t[2]=u,t[3]=o,t[4]=o*a+r*s-u*c+f,t[5]=o*c+u*a-i*s+h,t[6]=o*s+i*c-r*a+l,t[7]=-i*a-r*c-u*s+v,t},n.rotateX=function(t,n,e){let i=-n[0],u=-n[1],o=-n[2],a=n[3],c=n[4],s=n[5],f=n[6],h=n[7],l=c*a+h*i+s*o-f*u,v=s*a+h*u+f*i-c*o,y=f*a+h*o+c*u-s*i,d=h*a-c*i-s*u-f*o;return r.rotateX(t,n,e),i=t[0],u=t[1],o=t[2],a=t[3],t[4]=l*a+d*i+v*o-y*u,t[5]=v*a+d*u+y*i-l*o,t[6]=y*a+d*o+l*u-v*i,t[7]=d*a-l*i-v*u-y*o,t},n.rotateY=function(t,n,e){let i=-n[0],u=-n[1],o=-n[2],a=n[3],c=n[4],s=n[5],f=n[6],h=n[7],l=c*a+h*i+s*o-f*u,v=s*a+h*u+f*i-c*o,y=f*a+h*o+c*u-s*i,d=h*a-c*i-s*u-f*o;return r.rotateY(t,n,e),i=t[0],u=t[1],o=t[2],a=t[3],t[4]=l*a+d*i+v*o-y*u,t[5]=v*a+d*u+y*i-l*o,t[6]=y*a+d*o+l*u-v*i,t[7]=d*a-l*i-v*u-y*o,t},n.rotateZ=function(t,n,e){let i=-n[0],u=-n[1],o=-n[2],a=n[3],c=n[4],s=n[5],f=n[6],h=n[7],l=c*a+h*i+s*o-f*u,v=s*a+h*u+f*i-c*o,y=f*a+h*o+c*u-s*i,d=h*a-c*i-s*u-f*o;return r.rotateZ(t,n,e),i=t[0],u=t[1],o=t[2],a=t[3],t[4]=l*a+d*i+v*o-y*u,t[5]=v*a+d*u+y*i-l*o,t[6]=y*a+d*o+l*u-v*i,t[7]=d*a-l*i-v*u-y*o,t},n.rotateByQuatAppend=function(t,n,e){let i=e[0],r=e[1],u=e[2],o=e[3],a=n[0],c=n[1],s=n[2],f=n[3];return t[0]=a*o+f*i+c*u-s*r,t[1]=c*o+f*r+s*i-a*u,t[2]=s*o+f*u+a*r-c*i,t[3]=f*o-a*i-c*r-s*u,a=n[4],c=n[5],s=n[6],f=n[7],t[4]=a*o+f*i+c*u-s*r,t[5]=c*o+f*r+s*i-a*u,t[6]=s*o+f*u+a*r-c*i,t[7]=f*o-a*i-c*r-s*u,t},n.rotateByQuatPrepend=function(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=e[0],c=e[1],s=e[2],f=e[3];return t[0]=i*f+o*a+r*s-u*c,t[1]=r*f+o*c+u*a-i*s,t[2]=u*f+o*s+i*c-r*a,t[3]=o*f-i*a-r*c-u*s,a=e[4],c=e[5],s=e[6],f=e[7],t[4]=i*f+o*a+r*s-u*c,t[5]=r*f+o*c+u*a-i*s,t[6]=u*f+o*s+i*c-r*a,t[7]=o*f-i*a-r*c-u*s,t},n.rotateAroundAxis=function(t,n,e,r){if(Math.abs(r)<i.EPSILON)return a(t,n);let u=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);r*=.5;let o=Math.sin(r),c=o*e[0]/u,s=o*e[1]/u,f=o*e[2]/u,h=Math.cos(r),l=n[0],v=n[1],y=n[2],d=n[3];t[0]=l*h+d*c+v*f-y*s,t[1]=v*h+d*s+y*c-l*f,t[2]=y*h+d*f+l*s-v*c,t[3]=d*h-l*c-v*s-y*f;let b=n[4],w=n[5],p=n[6],k=n[7];return t[4]=b*h+k*c+w*f-p*s,t[5]=w*h+k*s+p*c-b*f,t[6]=p*h+k*f+b*s-w*c,t[7]=k*h-b*c-w*s-p*f,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t},n.multiply=f,n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t},n.lerp=function(t,n,e,i){let r=1-i;l(n,e)<0&&(i=-i);return t[0]=n[0]*r+e[0]*i,t[1]=n[1]*r+e[1]*i,t[2]=n[2]*r+e[2]*i,t[3]=n[3]*r+e[3]*i,t[4]=n[4]*r+e[4]*i,t[5]=n[5]*r+e[5]*i,t[6]=n[6]*r+e[6]*i,t[7]=n[7]*r+e[7]*i,t},n.invert=function(t,n){let e=d(n);return t[0]=-n[0]/e,t[1]=-n[1]/e,t[2]=-n[2]/e,t[3]=n[3]/e,t[4]=-n[4]/e,t[5]=-n[5]/e,t[6]=-n[6]/e,t[7]=n[7]/e,t},n.conjugate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t},n.normalize=function(t,n){let e=d(n);e>0&&(e=Math.sqrt(e),t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e,t[3]=n[3]/e,t[4]=n[4]/e,t[5]=n[5]/e,t[6]=n[6]/e,t[7]=n[7]/e);return t},n.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]},n.equals=function(t,n){let e=t[0],r=t[1],u=t[2],o=t[3],a=t[4],c=t[5],s=t[6],f=t[7],h=n[0],l=n[1],v=n[2],y=n[3],d=n[4],b=n[5],w=n[6],p=n[7];return Math.abs(e-h)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(r-l)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(u-v)<=i.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(o-y)<=i.EPSILON*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(a-d)<=i.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(c-b)<=i.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(s-w)<=i.EPSILON*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(f-p)<=i.EPSILON*Math.max(1,Math.abs(f),Math.abs(p))};var i=e(37),r=e(183),u=e(182);function o(t,n,e){let i=.5*e[0],r=.5*e[1],u=.5*e[2],o=n[0],a=n[1],c=n[2],s=n[3];return t[0]=o,t[1]=a,t[2]=c,t[3]=s,t[4]=i*s+r*c-u*a,t[5]=r*s+u*o-i*c,t[6]=u*s+i*a-r*o,t[7]=-i*o-r*a-u*c,t}function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}const c=r.copy;n.getReal=c;const s=r.copy;function f(t,n,e){let i=n[0],r=n[1],u=n[2],o=n[3],a=e[4],c=e[5],s=e[6],f=e[7],h=n[4],l=n[5],v=n[6],y=n[7],d=e[0],b=e[1],w=e[2],p=e[3];return t[0]=i*p+o*d+r*w-u*b,t[1]=r*p+o*b+u*d-i*w,t[2]=u*p+o*w+i*b-r*d,t[3]=o*p-i*d-r*b-u*w,t[4]=i*f+o*a+r*s-u*c+h*p+y*d+l*w-v*b,t[5]=r*f+o*c+u*a-i*s+l*p+y*b+v*d-h*w,t[6]=u*f+o*s+i*c-r*a+v*p+y*w+h*b-l*d,t[7]=o*f-i*a-r*c-u*s+y*p-h*d-l*b-v*w,t}n.setReal=s;const h=f;n.mul=h;const l=r.dot;n.dot=l;const v=r.length;n.length=v;const y=v;n.len=y;const d=r.squaredLength;n.squaredLength=d;const b=d;n.sqrLen=b},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.create=r,n.clone=function(t){let n=new i.ARRAY_TYPE(2);return n[0]=t[0],n[1]=t[1],n},n.fromValues=function(t,n){let e=new i.ARRAY_TYPE(2);return e[0]=t,e[1]=n,e},n.copy=function(t,n){return t[0]=n[0],t[1]=n[1],t},n.set=function(t,n,e){return t[0]=n,t[1]=e,t},n.add=function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t},n.subtract=u,n.multiply=o,n.divide=a,n.ceil=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t},n.floor=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t},n.min=function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t},n.max=function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t},n.round=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t},n.scale=function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t},n.scaleAndAdd=function(t,n,e,i){return t[0]=n[0]+e[0]*i,t[1]=n[1]+e[1]*i,t},n.distance=c,n.squaredDistance=s,n.length=f,n.squaredLength=h,n.negate=function(t,n){return t[0]=-n[0],t[1]=-n[1],t},n.inverse=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t},n.normalize=function(t,n){var e=n[0],i=n[1],r=e*e+i*i;r>0&&(r=1/Math.sqrt(r),t[0]=n[0]*r,t[1]=n[1]*r);return t},n.dot=function(t,n){return t[0]*n[0]+t[1]*n[1]},n.cross=function(t,n,e){var i=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=i,t},n.lerp=function(t,n,e,i){var r=n[0],u=n[1];return t[0]=r+i*(e[0]-r),t[1]=u+i*(e[1]-u),t},n.random=function(t,n){n=n||1;var e=2*i.RANDOM()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t},n.transformMat2=function(t,n,e){var i=n[0],r=n[1];return t[0]=e[0]*i+e[2]*r,t[1]=e[1]*i+e[3]*r,t},n.transformMat2d=function(t,n,e){var i=n[0],r=n[1];return t[0]=e[0]*i+e[2]*r+e[4],t[1]=e[1]*i+e[3]*r+e[5],t},n.transformMat3=function(t,n,e){var i=n[0],r=n[1];return t[0]=e[0]*i+e[3]*r+e[6],t[1]=e[1]*i+e[4]*r+e[7],t},n.transformMat4=function(t,n,e){let i=n[0],r=n[1];return t[0]=e[0]*i+e[4]*r+e[12],t[1]=e[1]*i+e[5]*r+e[13],t},n.rotate=function(t,n,e,i){let r=n[0]-e[0],u=n[1]-e[1],o=Math.sin(i),a=Math.cos(i);return t[0]=r*a-u*o+e[0],t[1]=r*o+u*a+e[1],t},n.angle=function(t,n){let e=t[0],i=t[1],r=n[0],u=n[1],o=e*e+i*i;o>0&&(o=1/Math.sqrt(o));let a=r*r+u*u;a>0&&(a=1/Math.sqrt(a));let c=(e*r+i*u)*o*a;return c>1?0:c<-1?Math.PI:Math.acos(c)},n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.exactEquals=function(t,n){return t[0]===n[0]&&t[1]===n[1]},n.equals=function(t,n){let e=t[0],r=t[1],u=n[0],o=n[1];return Math.abs(e-u)<=i.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-o)<=i.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var i=e(37);function r(){let t=new i.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function o(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function a(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function c(t,n){var e=n[0]-t[0],i=n[1]-t[1];return Math.sqrt(e*e+i*i)}function s(t,n){var e=n[0]-t[0],i=n[1]-t[1];return e*e+i*i}function f(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function h(t){var n=t[0],e=t[1];return n*n+e*e}const l=f;n.len=l;const v=u;n.sub=v;const y=o;n.mul=y;const d=a;n.div=d;const b=c;n.dist=b;const w=s;n.sqrDist=w;const p=h;n.sqrLen=p;const k=function(){let t=r();return function(n,e,i,r,u,o){let a,c;for(e||(e=2),i||(i=0),c=r?Math.min(r*e+i,n.length):n.length,a=i;a<c;a+=e)t[0]=n[a],t[1]=n[a+1],u(t,t,o),n[a]=t[0],n[a+1]=t[1];return n}}();n.forEach=k},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Zoom=n.Attribution=n.Adapter=n.FloorSwitch=n.List=n.ControlManager=n.Compass=n.Button=n.ControlPos=n.Control=void 0;var i=l(e(61)),r=e(29),u=l(e(452)),o=l(e(189)),a=l(e(94)),c=l(e(192)),s=l(e(191)),f=l(e(193)),h=l(e(194));function l(t){return t&&t.__esModule?t:{default:t}}n.Control=i.default,n.ControlPos=r.ControlPos,n.Button=u.default,n.Compass=o.default,n.ControlManager=r.ControlManager,n.List=a.default,n.FloorSwitch=c.default,n.Adapter=s.default,n.Attribution=f.default,n.Zoom=h.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(61),o=(i=u)&&i.__esModule?i:{default:i},a=e(29),c=e(18);var s={pos:a.ControlPos.topright,text:"button",buttonClass:[],icon:"",width:70,height:30},f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},s,t)));return e.av=function(t){e.fire("click",t)},e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"onAddTo",value:function(t){this.Nt=document.createElement("div");var n=this.pr=document.createElement("button");return this.Nt.appendChild(n),t.addThemeClass(this.pr,this.options.icon?"button-icon":"button-text"),this.pr.addEventListener("click",this.av),this.update(),this.Nt}},{key:"onRemoveTo",value:function(){this.pr.removeEventListener("click",this.av)}},{key:"update",value:function(){var t=this;this.Nt&&(this.pr.innerText=this.options.text,this.options.buttonClass.forEach(function(n){return!(0,c.hasClass)(t.pr,n)&&(0,c.addClass)(t.pr,n)}),(0,c.addStyle)(this.pr,{width:this.options.width,height:this.options.height,backgroundImage:"url("+this.options.icon+")",backgroundSize:this.options.width+"px "+this.options.height+"px"}))}}]),n}();n.default=f},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABUCAYAAAAcaxDBAAAABGdBTUEAALGPC/xhBQAADiBJREFUeAHVXGlsFEcW7rGNjzEYY2wTn2DicIQzJlqRFQIvELSwhBspEqBVCEkkzmiDxK6AkA0JZJeNkqAAkVj4A1EibhCswFwmWCCiQIAgIljAYBsbYWMcgw+Mj/2+WdqZo7unqrunPXnSm+qpevXqvVf16uqqdinhAWkQIweYBcx+FiYgdHshHpV6L6zFcymw5FlYjLAC2KHg6qDSk1HuMGDeszDVJjnug8954IVnYZVNfIXZOGlQtrZ84DggDekE0LAFwEIgW3fIwQmD0oVnAUcDY0KukXYBTxB9Avg1kF1EyCCUBs2F1HOA+cBQlgP2wtAGykLgNuANoO0QaTtHRUkCz6XAvwBzgJaN+emnn2YtWbIk7fr16/Xl5eXN4GkWKAtlmgzMBF4BNgBtgwjbOCkKK2c6kG71qo18lX79+rkHDx7cJTExMcpGvpSRslJm2xqWXQZNh1AbgUuA8cDfClBWykzZqYNlsMOgoyDFv4H9LUvTcQwoO3WgLpbAikHpJouBq4Gd9aQYN25cl8hI2zxKrxih+KSkJCNBqAN1oU5GdIZlmTUopz8sfIYR902bNvXcsmVL33feeSfFiM6JNFbq3r17++7Zs+eFjIyMTgZlUifqZmqKZ8agrMl/AUcADeHUqVO1JJg/f35Gt27dTNe6YSGCiW+99VZK79693T179oytrq5uDpKNulFH6ioFsgZlAeuBQ0RK+fbbbx9evnz5UdeuXaOWL19uS6cvUq4/DStz4cKFGYxft25dWUNDA+ejwYA6Ulcpo8oYlC6wFsgJuzCsWrWqpK2tTZkxY0bqgAEDYoUz2kjIymSlsnJZyRKsqSt1FnZ/UYPSXVcBhVom6Nrhhx9+aDh48GAl+jDXhx9+yN0kR4GVyMpkpbJyTRROnam7UJclRARmi4B/BJqC8+fP182ePTulV69ecTdu3KjDiodra2HgCunIkSMPwae+sbFRxF3beWNgzMnKyoplpW7evLmqPUHugfsRdP1zwbKJGHQUmCwMxsgo/fHjx60xMTFtw4cP7zpkyJD47du3V7a0tBhl8UnjcvPWrVtNssZ87bXXumKGkV5fX9/yxhtv3KAcPozl/rwI8lvAO0bZghmUA8k/gdFGTETSLly4UD9t2rSkzMzM2NbW1pazZ8/WieQzS4MKdGHKlpuQkBC1YcOGu0ePHn1klpdXvt/h+SRQl5dRH0pjs++QGuVArwlPnjxpW7t2bemDBw+eosU1aRLpRA5yRbuJOsma0X369ImJi4uLLCsra/zyyy/vaxLJR9IWtIluQzTaCeKmwRL5Mo1zuN1uF1ywzZjKN/WvEYnsw5RPWmukBhW0zgjMO6N/+umnRl+Olv99AQ67tbjoGTQJxNyJCYuNjv9EPJdH4Se03uMOfDgAuytumlf7C6Pn8gtAGBbGpKunK5HxRFm391fWxv+0DW0UAFoG5WSWe4U+kJ6eHjV16tREn0gH/vzJ5U5Wi/F+VuOcCGNjY7U8mTYKWORoGZSvLQJg5cqVmevXr8/FBkMfTH0cW/GMVGLbDer9HCBgCCKoJ/X97LPPeuqwD7CVv0HZ+edrZb569Wo95nEtL7/8csKBAwcGoJCs7t276452Wjxk41R3V/M55fbUi/pRT+o7atSoRJ2tv3zI5hkwVRn9DTIfCS+oid7h999/X7dz586q1NTUiP79+8djSdd51qxZKREREa2YY9ZhbulNbsvz3IguaQOVaJ9upsmlPC1qa/zFlgL8mERFRSkLFixI3bhxY+5LL72UwOR9+/ZVzp0792ZVVZXWSoRdQRywiLQE776B87z9wKAbAUOHDo1bvXp1FkJPoXfu3GnA/xIsD3UnvCxMFji6s1V65ytXWupCMdpzIxzdWjaXxyzv4sWLte+//37pjz/+GOwlHpfRk4Ge9/7eLZSdbD4wKNy7d6/5m2++eVBaWloPo8Zz9TNp0qRktNLmc+fO2bICGojR/c+uzgF9VxclIrpIeVJ1X2l5GlRQAQIYsBPX+4sWLcrES8BO0O0JDHl7xYoVd6mnAIso0JQB/0ta7z6UJzqkYNeuXTUjR468AoHKHj58+HT37t0PpRgYEE/0Gt39yYzS/GmD/W9ublbYT2KfoIV6UB90bTXB8vmlt9tOdXmOpHv8iKT+cmohu3lhVICWu6v0drv95MmTu3InC8tUK61+GuSrUlvoMFVYs6GdxqS7+/ed3nIxjTTecVae9+/f/4tFY7J4jw1Vg3qWdlaEsjOviEuL0NgpkwAvjw1Vg1puoQIFCpOITOBFaIQLtIewvYXysGuqPTytcwnm7moJdru9ytdCSBumsYXmWGBie1YZV5ahtV1QbYY5NGiWdlrHxMq4sgytQ9pk0aA+a1GHCtYsRtTd1cxh6PbZYdVCzbiwmTxqhYQg9LRQz3o8BMylWZpxYTN5pAUTz5DAFmrbBFm83EBKWXdXOYSZ27u5sA8w6NixY7uMGDGiiyq0XlhUVPTo2LFjj/TSZeKtuC7zXmlrKpEpL0S02galMd98802Rw13ldhnUiusy7yc23e744IMP0kV0xzv/ctCW+1WMx6B+cdgtRctDpD+xHl1AvJmI6ILtSmxmppmsSnQZds/GjjWV1+5M3G06COzwgQkn5LLnzJkTsP8povC2bdvufPzxx+Hg8rUclDw7zSKCh5IG72+qzPK3ktdsmTr56sPGoDjdwf1I6d1+5mFeHQWdjvYYtNbpUvXKO3nypHQrNZNHr3wb4j0uX2oDI1tYmHFdM3lsEVabSSldPhw6c494sm4fZu5OHUpo0LBpoZRIxoVlaMnbAfC00GIHChIuQsaFZWiFBbBGWMwWWgG8b42Pfbnp9nfv3g062pMmjEZ3GoA2rKBBCfysRNjAiRMngo72IjQOK+SxoWrQC1YLt/M+p4gri9BY1Ukyv8eGqkFNt1DeUsPttEwe+5MUQJc8mNvb7e74uEGqDVcnfVooXUyqlbJFvv3228mnT58e9Prrrz/Hg2OvvPKKz8EuXYsJJBi5tFGaAGsfEpwg7LZ06dJs6kF9THoabefpptQWykIKfEoy+DN69OjO2LZ7EafVevHK35UrVx7httpVO6/KGLm0UZqB2JpJ165da6T81IP6UC/qp0msH9luO/VsE0m50Wx4nDEnJyca1wsz8/Pzk5ihsrKyCe5eipN4th0SI18Vjh8/noer2D6tnu4+ZswYKW9S+RmFbKnvvfdeVkpKSjTpCgsLq3EKr6y4uDjYFSDd44w8KMUNyYADt7jv40LtpeNjKr2ff/55d1NTU+vWrVsr5s2bd1Pg/CTlMwW4UtgJx7J9DtziHFIF3NP2A7fotxuxDXgfh96UQYMGxVNPXqfEyWUX7qvWQec2HSWOIv6kmubdQhnHV8rbgD7xNCiUGNijR48YtJoH2Kkuu337tpWTaiwrKEAxN44W+hwTmjlz5vlQzz95ZhQ6ZsETPJ6I8h5NmDDhmobANDLP2ZeoaT6Gexb5d4R/UAnUkCd8ccKu9bvvvgs66Vbz2BF6u32o3F1PTpwVjYdhs7/66quKHTt2aJ0ZZctc5Z2fL+n8gS00wKAFBQW2vIzzLyzYf47o2Mn39KN2ju7BymU6Gw9a6c+8Gq4DtJUPeI/yasINPLBfCAvwHtG9n50SzsCYtBFt5QNaLZQEG4C/B/qMsExwGrwn+aHuOyV0Y7dHGwVAZEDM/yN484EXTofrpJuKXrNmTQYWAG5e9Za5L8/RHtOXepnRnde7Fy9enHrz5s1G2cu6AsptAo3m1E2vhZLnPuA4ID8SZRl4Kw3TkOfoQuiPf0FrE74hbMbVP//8854TJ05Mxtw5FoZtH4UtK6IoP4MHbaMJWn2oSsiLThzxH6sRVkIsCLJdAF6kkjEmy6Sry7o7RuZ7uObTNmXKlBQbr1LSFrSJ1iUwiupzrcYT4ffDww7/8IuT/jt9+vTEvLy8BFxtbP7oo4/uSjMwkeHSpUuNrDxWIivTBAutLLQFbaILRi1UzXQKD7vUP7Ihr9ssW7bMc6gXV/7KsVzVrV0t3rhDFHfo0KG+/OSlVrpRHCuPlcjKZKUa0Qqk0Qa0hSGIGJQMOKIVGXLSSXz33Xd7pKWlxZSUlDTgYpX0mwF+4pKfuuQnL3WK0I1m5bESScBK1bmmrZvfK4G6a47qXjSeR1GDslWx77jkz8DoP78xh4unvBSh4C5oKW+tOQ2sRFYmKxX7nj1MlE+dDftNb56iBmUe7qr8DRgwmWWiFmC3JoMfUjlz5kzN4cOHO+RABSuRlUn5cKouLciHBP3VoK7UmboLgYxByZCj3GJg0Jaam5sbPX78+GQo1AbDehQig44AViYrlZXLShaUgTpSV6lZjqxBKQsLWAo07FPxBbEm7DH+jP3SEmziCtcwCwgFsFK5kcyPcAnwp27UUcqY5BvFHxNAA60ELgDO0MuPlU0dUS/dyXhWKjzmmkCZHM05AEnNRlS+Zg3K/CxwPZCusQwo+9oAWcIK2Bo5zww6NTKS2ozL+/OjAPOAXJL9VoGyUwdLxqTydhiUfDjXmw/8AhgWLg45RICyUmbKbrgCEmFGGpcooQQdXxuwb+UnNywD35cPGzbMXVNT08xvkVpm+CsD7meyr6z+Ncr6UygMqkqVi4c5wHxgKMsBe2Hg1nshkDvtwvNp0AqDE4pyY2IWcDQw6Bd3hCWXI+Ss5ATwa2CJXFY5aicMqkrEtXg+cBwwD+gEcBOYhxAKgY6cw3fSoNCpHZLxxNfDNCxDXt63A+6DCc8Y0ZAMq4COQkcZ1F/JNETkALOA7CIYJgDZqlXEo6eVsaURa4Fc0tKFGRYDeda1Q+F/fa+ojiNcZg8AAAAASUVORK5CYII="},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Node=n.Mesh=n.Event=n.DirectionLight=n.Animator=n.AmbientLight=void 0;var i=c(e(195)),r=c(e(132)),u=c(e(196)),o=c(e(12)),a=c(e(134));function c(t){return t&&t.__esModule?t:{default:t}}n.AmbientLight=i.default,n.Animator=r.default,n.DirectionLight=u.default,n.Event=o.default,n.Mesh=a.default,n.Node=Node},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LngLat=n.Layer=n.Feature=void 0;var i=o(e(95)),r=o(e(198)),u=o(e(27));function o(t){return t&&t.__esModule?t:{default:t}}n.Feature=i.default,n.Layer=r.default,n.LngLat=u.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DataSource=void 0;var i,r=e(199),u=(i=r)&&i.__esModule?i:{default:i};n.DataSource=u.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DomUtils=n.MapController=n.Canvas=void 0;var i=o(e(96)),r=o(e(458)),u=function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n}(e(18));function o(t){return t&&t.__esModule?t:{default:t}}n.Canvas=i.default,n.MapController=r.default,n.DomUtils=u},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(9),o=(i=u)&&i.__esModule?i:{default:i},a=e(17);var c=function(){function t(n,e,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=n,this.camera=e,this.map=i,this.kr=new o.default(0,0,0),this.mr=new o.default(0,0,1),this.aV("skew",{max:60,min:0}),this.aV("zoom",{max:2e3,min:10})}return r(t,[{key:"move",value:function(t,n){var e=this.canvas,i=this.camera,r=i.fov/2*i.aspect,u=Math.atan(r)*i.zooming/i.near*2/e.width,o=u*t,a=u*-n,c=i.center;c.lng+=o,c.lat+=a,this.map.jumpTo(c)}},{key:"zoom",value:function(t){this.map.zoomTo(this.camera.zooming*t)}},{key:"skew",value:function(t){this.map.skewTo(Math.min(this.skewRange.max,Math.max(t,this.skewRange.min)))}},{key:"rotate",value:function(t,n){t.x,t.y;this.map.rotateTo(n)}},{key:"tap",value:function(t,n){this.map.select(t,n)}},{key:"aV",value:function(t,n){var e=n.max,i=n.min,r=t+"Range";this[r]||(this[r]={}),this[r].max=(0,a.isNumber)(e)?e:this[r].max,this[r].min=(0,a.isNumber)(i)?i:this[r].min}},{key:"aW",value:function(t,n){var e=new o.default;return e.setFromMatrixColumn(n,0),e.scale(-t)}},{key:"aX",value:function(t,n){var e=new o.default;return e.setFromMatrixColumn(n,1),e.scale(t)}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeatmapGeometry=n.LineGeometry=void 0;var i=u(e(460)),r=u(e(491));function u(t){return t&&t.__esModule?t:{default:t}}n.LineGeometry=i.default,n.HeatmapGeometry=r.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=f(e(9)),o=f(e(461)),a=f(e(204)),c=f(e(31)),s=e(13);function f(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var l=Math.cos(Math.PI/180*37.5),v=function(t){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.isClose,r=void 0!==i&&i,u=e.width,o=void 0===u?1:u;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var a=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return a.Gn=t,a.gr=r,a.rt=o,a.update(),a}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"build",value:function(t,n){var e=new o.default(t),i=this.rn[0];if(i){var r=t.createMesh();r.createVertexBuffer(i.descriptors).data=i.data;var u=r.createPart(i.topology,n.shaderLib(),n);i.indexData&&u.indexBuffer&&(u.indexBuffer.data=new Uint16Array(i.indexData)),e.addMesh(r)}return e}},{key:"update",value:function(){var t=this,n=0,e=[],r=[],u=0;this.Gn.forEach(function(o){var a=t.aN(o);a.forEach(function(o,c){var s=i(o,2),f=s[0],h=s[1];if(c>0){var l=i(a[c-1],1)[0];u+=l.distanceTo(f),r.push(n,n-1,n-2,n+1,n-1,n)}t.aO(e,f,h,u),n+=2})}),this.rn.push({topology:s.VertexTopology.TRIANGLES,vertexCount:n,data:new Float32Array(e),indexData:r,descriptors:[new c.default("position",s.MeshAttributeType.FLOAT,0,3),new c.default("normal",s.MeshAttributeType.FLOAT,12,3),new c.default("miter",s.MeshAttributeType.FLOAT,24,1),new c.default("distance",s.MeshAttributeType.FLOAT,28,2)]})}},{key:"aN",value:function(t){var n=this,e=[],r=void 0,o=void 0,a=void 0,c=void 0,s=void 0,f=t.map(function(t){var n=i(t,3),e=n[0],r=n[1],o=n[2],a=void 0===o?1:o;return new u.default(e,r,a)});return f.forEach(function(t,u){if(a=f[u-1],!(s=f[u+1])||!n.aP(t,s)){r&&(o=r),c&&(a=c),c=t,r=s?n.aQ(n.aR(s.subtract(c))):o;var h=(o=o||r).add(r),v=i(h,2),y=v[0],d=v[1];0===y&&0===d||n.aR(h);var b=h[0]*r[0]+h[1]*r[1]<l&&a&&s;if(b&&u>0){var w=c.distanceTo(a);if(w>1.2){var p=c.subtract(n.aS(n.aT(c.subtract(a),.6/w)));e.push([p,n.aT(o.clone(),1)])}}if(e.push([t,h]),b&&u<f.length-1){var k=c.distanceTo(s);if(k>1.2){var m=c.add(n.aS(n.aT(s.subtract(c),.6/k)));e.push([m,n.aT(r.clone(),1)])}}}}),e}},{key:"aO",value:function(t,n,e,i){t.push.apply(t,h(n));var r=e.clone();t.push.apply(t,h(r)),t.push(-1),t.push(i,0),t.push.apply(t,h(n)),this.aT(r,-1),t.push.apply(t,h(r)),t.push(1),t.push(i,1)}},{key:"aP",value:function(t,n){var e=i(t,2),r=e[0],u=e[1],o=i(n,2),a=o[0],c=o[1];return r===a&&u===c}},{key:"aU",value:function(t){var n=i(t,2),e=n[0],r=n[1];return Math.sqrt(e*e+r*r)}},{key:"aR",value:function(t){var n=this.aU(t);return t[0]/=n,t[1]/=n,t}},{key:"aT",value:function(t,n){return t[0]*=n,t[1]*=n,t}},{key:"aS",value:function(t){return t[0]=Math.round(t[0]),t[1]=Math.round(t[1]),t}},{key:"aQ",value:function(t){var n=t[1];return t[1]=t[0],t[0]=-n,t}}]),n}();n.default=v},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(73),u=(i=r)&&i.__esModule?i:{default:i},o=e(13);var a=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.renderingGroup=o.AnnotationRenderingGroup-.01,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=a},function(t,n,e){"use strict";t.exports=function(t,n){n||(n=[t.ACTIVE_TEXTURE,t.ARRAY_BUFFER_BINDING,t.BLEND,t.BLEND_COLOR,t.BLEND_SRC_ALPHA,t.BLEND_SRC_RGB,t.BLEND_DST_ALPHA,t.BLEND_DST_RGB,t.BLEND_EQUATION_ALPHA,t.BLEND_EQUATION_RGB,t.COLOR_WRITEMASK,t.COLOR_CLEAR_VALUE,t.CULL_FACE,t.CULL_FACE_MODE,t.CURRENT_PROGRAM,t.DEPTH_CLEAR_VALUE,t.DEPTH_FUNC,t.DEPTH_RANGE,t.DEPTH_WRITEMASK,t.DITHER,t.ELEMENT_ARRAY_BUFFER_BINDING,t.FRAMEBUFFER_BINDING,t.FRONT_FACE,t.GENERATE_MIPMAP_HINT,t.LINE_WIDTH,t.PACK_ALIGNMENT,t.POLYGON_OFFSET_FACTOR,t.POLYGON_OFFSET_FILL,t.POLYGON_OFFSET_UNITS,t.RENDERBUFFER_BINDING,t.SAMPLE_COVERAGE,t.SAMPLE_COVERAGE_INVERT,t.SAMPLE_COVERAGE_VALUE,t.SCISSOR_BOX,t.SCISSOR_TEST,t.STENCIL_BACK_FAIL,t.STENCIL_BACK_FUNC,t.STENCIL_BACK_PASS_DEPTH_FAIL,t.STENCIL_BACK_PASS_DEPTH_PASS,t.STENCIL_BACK_REF,t.STENCIL_BACK_VALUE_MASK,t.STENCIL_BACK_WRITEMASK,t.STENCIL_CLEAR_VALUE,t.STENCIL_FAIL,t.STENCIL_FUNC,t.STENCIL_PASS_DEPTH_FAIL,t.STENCIL_PASS_DEPTH_PASS,t.STENCIL_REF,t.STENCIL_TEST,t.STENCIL_VALUE_MASK,t.STENCIL_WRITEMASK,t.TEXTURE,t.UNPACK_ALIGNMENT,t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.UNPACK_FLIP_Y_WEBGL,t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.VIEWPORT]);var e=["'use strict'\nfunction StateStack(gl){this.gl=gl;"],r=["proto.push=function(){var gl=this.gl;"],u=["proto.pop=function(){var gl=this.gl;"],o=n.slice();o.sort(function(t,n){return t-n}),i(o,void 0,!0);var a=[t.TEXTURE,t.TEXTURE_2D,t.TEXTURE_CUBE_MAP,t.TEXTURE_BINDING_2D,t.TEXTURE_BINDING_CUBE_MAP];if(a.some(function(t){return o.indexOf(t)>=0})){var c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);e.push("this.textures=[];"),r.push("var curTex=gl.getParameter(",t.ACTIVE_TEXTURE,"),texState=new Array(",c,");");for(var s=0;s<c;++s)r.push("gl.activeTexture(",t.TEXTURE0+s,");texState[",s,"]=[gl.getParameter(",t.TEXTURE_BINDING_2D,"),gl.getParameter(",t.TEXTURE_BINDING_CUBE_MAP,")];");r.push("this.textures.push(texState);gl.activeTexture(curTex);"),u.push("var texState=this.textures.pop();");var f=o.indexOf(t.ACTIVE_TEXTURE)<0;f&&u.push("var curTex=gl.getParameter(",t.ACTIVE_TEXTURE,");");for(var s=0;s<c;++s)u.push("gl.activeTexture(",t.TEXTURE0+s,");","gl.bindTexture(",t.TEXTURE_2D,",texState[",s,"][0]);","gl.bindTexture(",t.TEXTURE_CUBE_MAP,",texState[",s,"][1]);");f&&u.push("gl.activeTexture(curTex);")}var h={blendEquationSeparate:[t.BLEND_EQUATION_ALPHA,t.BLEND_EQUATION_RGB],blendFuncSeparate:[t.BLEND_SRC_RGB,t.BLEND_DST_RGB,t.BLEND_SRC_ALPHA,t.BLEND_DST_ALPHA],sampleCoverage:[t.SAMPLE_COVERAGE_INVERT,t.SAMPLE_COVERAGE_VALUE],polygonOffset:[t.POLYGON_OFFSET_FACTOR,t.POLYGON_OFFSET_UNITS],stencilFuncSeparate_FRONT:[t.STENCIL_FUNC,t.STENCIL_REF,t.STENCIL_VALUE_MASK],stencilFuncSeparate_BACK:[t.STENCIL_BACK_FUNC,t.STENCIL_BACK_REF,t.STENCIL_BACK_VALUE_MASK],stencilOpSeparate_FRONT:[t.STENCIL_FAIL,t.STENCIL_PASS_DEPTH_FAIL,t.STENCIL_PASS_DEPTH_PASS],stencilOpSeparate_BACK:[t.STENCIL_BACK_FAIL,t.STENCIL_BACK_PASS_DEPTH_FAIL,t.STENCIL_BACK_PASS_DEPTH_PASS]};for(var l in h){for(var v=h[l],n=[],y=[],s=0;s<v.length;++s){var d="v"+v[s],b=[d,"=gl.getParameter(",v[s],");"].join("");n.push(d),y.push(b)}h[l]={present:!1,variables:n,snippets:y,parameters:v}}t:for(var s=0;s<o.length;++s){var w=o[s];if(!(a.indexOf(w)>=0)){var p="this["+w+"]";switch(e.push(p,"=[];"),w){case t.SAMPLE_COVERAGE:r.push(p,".push(gl.isEnabled(",t.SAMPLE_COVERAGE,"));");break;default:r.push(p,".push(gl.getParameter(",w,"));")}var k=p+".pop()";switch(w){case t.ACTIVE_TEXTURE:u.push("gl.activeTexture(",k,");");break;case t.ARRAY_BUFFER_BINDING:u.push("gl.bindBuffer(",t.ARRAY_BUFFER,",",k,");");break;case t.BLEND_COLOR:u.push("var c=",k,";gl.blendColor(c[0], c[1], c[2], c[3]);");break;case t.COLOR_CLEAR_VALUE:u.push("var c=",k,";gl.clearColor(c[0], c[1], c[2], c[3]);");break;case t.COLOR_WRITEMASK:u.push("var c=",k,";gl.colorMask(c[0], c[1], c[2], c[3]);");break;case t.CULL_FACE_MODE:u.push("gl.cullFace(",k,");");break;case t.CURRENT_PROGRAM:u.push("gl.useProgram(",k,");");break;case t.DEPTH_CLEAR_VALUE:u.push("gl.clearDepth(",k,");");break;case t.DEPTH_FUNC:u.push("gl.depthFunc(",k,");");break;case t.DEPTH_RANGE:u.push("var z=",k,";gl.depthRange(z[0], z[1]);");break;case t.DEPTH_WRITEMASK:u.push("gl.depthMask(",k,");");break;case t.ELEMENT_ARRAY_BUFFER_BINDING:u.push("gl.bindBuffer(",t.ELEMENT_ARRAY_BUFFER,",",k,");");break;case t.FRAMEBUFFER_BINDING:u.push("gl.bindFramebuffer(",t.FRAMEBUFFER,",",k,");");break;case t.FRONT_FACE:u.push("gl.frontFace(",k,");");break;case t.LINE_WIDTH:u.push("gl.lineWidth(",k,");");break;case t.RENDERBUFFER_BINDING:u.push("gl.bindRenderbuffer(",t.RENDERBUFFER,",",k,");");break;case t.SCISSOR_BOX:u.push("var c=",k,";gl.scissor(c[0],c[1],c[2],c[3]);");break;case t.STENCIL_WRITEMASK:u.push("gl.stencilMaskSeparate(",t.FRONT,",",k,");");break;case t.STENCIL_BACK_WRITEMASK:u.push("gl.stencilMaskSeparate(",t.BACK,",",k,");");break;case t.STENCIL_CLEAR_VALUE:u.push("gl.clearStencil(",k,");");break;case t.VIEWPORT:u.push("var c=",k,";gl.viewport(c[0],c[1],c[2],c[3]);");break;case t.PACK_ALIGNMENT:case t.UNPACK_ALIGNMENT:case t.UNPACK_COLORSPACE_CONVERSION_WEBGL:case t.UNPACK_FLIP_Y_WEBGL:case t.UNPACK_PREMULTIPLY_ALPHA_WEBGL:u.push("gl.pixelStorei(",w,",",k,");");break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.DITHER:case t.POLYGON_OFFSET_FILL:case t.SAMPLE_COVERAGE:case t.SCISSOR_TEST:case t.STENCIL_TEST:u.push("if(",k,"){gl.enable(",w,")}else{gl.disable(",w,")}");break;case t.GENERATE_MIPMAP_HINT:u.push("gl.hint(",w,",",k,");");break;default:for(var l in h){var m=h[l],g=m.parameters.indexOf(w);if(!(g<0)){m.present=!0,m.snippets[g]="var "+m.variables[g]+"="+k+";";continue t}}throw new Error("gl-state: Error, unknown state parameter "+w)}}}for(var l in h){var O=h[l];if(O.present){u.push.apply(u,O.snippets);var j=l.split("_");1===j.length?u.push("gl.",j[0],"(",O.variables.join(","),");"):u.push("gl.",j[0],"(gl.",j[1],",",O.variables.join(","),");")}}var M=[e.join(""),"};var proto=StateStack.prototype;",r.join(""),"};",u.join(""),"};","return new StateStack(gl);"].join("");return new Function("gl",M)(t)};var i=e(463)},function(t,n,e){"use strict";t.exports=function(t,n,e){return 0===t.length?t:n?(e||t.sort(n),function(t,n){for(var e=1,i=t.length,r=t[0],u=t[0],o=1;o<i;++o)if(u=r,n(r=t[o],u)){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}(t,n)):(e||t.sort(),function(t){for(var n=1,e=t.length,i=t[0],r=t[0],u=1;u<e;++u,r=i)if(r=i,(i=t[u])!==r){if(u===n){n++;continue}t[n++]=i}return t.length=n,t}(t))}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=e(465),a=(i=o)&&i.__esModule?i:{default:i};var c=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i.gl=t,i.buffer=t.createBuffer(),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"setSize",value:function(t){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setSize",this).call(this,t);var e=this.gl,i=e.ARRAY_BUFFER;e.bindBuffer(i,this.buffer),e.bufferData(i,t,e.STATIC_DRAW),e.bindBuffer(i,null)}},{key:"flush",value:function(){if(this.ue){var t=this.gl,e=t.ARRAY_BUFFER;return t.bindBuffer(e,this.buffer),t.bufferData(e,this.fi,t.STATIC_DRAW),t.bindBuffer(e,null),u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"flush",this).call(this)}}},{key:"dispose",value:function(){this.gl.deleteBuffer(this.buffer)}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=c(e(200)),o=c(e(31)),a=e(17);function c(t){return t&&t.__esModule?t:{default:t}}var s=[1,2,1,2,4,2],f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));e.Or=t;var i=0,r=!0,u=!1,a=void 0;try{for(var c,f=t[Symbol.iterator]();!(r=(c=f.next()).done);r=!0){var h=c.value;window.assert(h instanceof o.default,"Descriptor must be an instance of BufferAttributeDescriptor."),i+=s[h.type]*h.size}}catch(t){u=!0,a=t}finally{try{!r&&f.return&&f.return()}finally{if(u)throw a}}return e.jr=i,e.Mr=0,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"descriptors",get:function(){return this.Or}},{key:"stride",get:function(){return this.jr}},{key:"vertexCount",get:function(){return this.Mr},set:function(t){var e=r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"data",this),i=null;e?this.Mr<t?(i=new Uint8Array(t*this.jr)).set(new Uint8Array(e.buffer)):i=new Uint8Array(e.buffer).subarray(0,t*this.jr):i=new ArrayBuffer(t*this.jr);this.data=i}},{key:"data",get:function(){return r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"data",this)},set:function(t){!function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"data",t,this),this.Mr=t.byteLength/this.jr,window.assert((0,a.isInteger)(this.Mr),"Data length does not math the descriptors.")}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=(e(136),e(467)),a=(i=o)&&i.__esModule?i:{default:i};var c=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return i.gl=t,i.buffer=t.createBuffer(),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"setSize",value:function(t){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setSize",this).call(this,t);var e=this.gl,i=e.ELEMENT_ARRAY_BUFFER;e.bindBuffer(i,this.buffer),e.bufferData(i,t,e.STATIC_DRAW),e.bindBuffer(i,null)}},{key:"flush",value:function(){if(this.ue){var t=this.gl,e=t.ELEMENT_ARRAY_BUFFER;return t.bindBuffer(e,this.buffer),t.bufferData(e,this.fi,t.STATIC_DRAW),t.bindBuffer(e,null),u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"flush",this).call(this)}}},{key:"dispose",value:function(){this.gl.deleteBuffer(this.buffer)}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(200),o=(i=u)&&i.__esModule?i:{default:i};e(136);var a=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.$t=t,e._r=0,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"topology",get:function(){return this.$t}},{key:"data",get:function(){return function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"data",this)},set:function(t){window.assert(t instanceof Uint16Array),t instanceof Uint16Array&&(!function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"data",t,this),this._r=t.length)}},{key:"indexCount",get:function(){return this._r},set:function(t){var n=void 0;if(this.fi){n=new Uint16Array(t);var e=new Uint16Array(this.fi.buffer);n.set(this._r<t?e:e.subarray(0,t))}else n=new Uint16Array(t);this.data=n}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(469),o=(i=u)&&i.__esModule?i:{default:i};e(98);function a(t,n,e){var i=t.createShader(n);if(t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;var r=t.getShaderInfoLog(i);throw new Error("Compile shader failed, "+r+".")}var c=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.gl,r="#define DEVICE_PIXEL_RATIO "+n.devicePixelRatio+"\n",u=a(i,i.VERTEX_SHADER,"#define VSH 1\n"+r+e),c=a(i,i.FRAGMENT_SHADER,"#define FSH 1\n"+r+e),s=i.createProgram();if(i.attachShader(s,u),i.attachShader(s,c),i.linkProgram(s),!i.getProgramParameter(s,i.LINK_STATUS)){var f=i.getProgramInfoLog(s);throw new Error("Link program failed, "+f)}for(var h=i.getProgramParameter(s,i.ACTIVE_ATTRIBUTES),l=new Map,v=0;v<h;++v){var y=i.getActiveAttrib(s,v),d=/a_(\w+)/.exec(y.name)[1];l.set(d,new o.default(i,!1,s,y))}h=i.getProgramParameter(s,i.ACTIVE_UNIFORMS);for(var b=0;b<h;++b){var w=i.getActiveUniform(s,b),p=/u_(\w+)/.exec(w.name)[1];l.set(p,new o.default(i,!0,s,w))}this.program=s,this.Er=u,this.Sr=c,this.attributes=l,this.gl=i}return r(t,[{key:"activate",value:function(){this.gl.useProgram(this.program)}},{key:"deactivate",value:function(){this.gl.useProgram(null)}},{key:"dispose",value:function(){var t=this.gl;t.deleteProgram(this.program),t.deleteShader(this.Er),t.deleteShader(this.Sr)}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();e(98);var r=function(){function t(n,e,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var u=e?n.getUniformLocation(i,r.name):n.getAttribLocation(i,r.name);switch(this.location=u,r.type){case n.FLOAT_VEC4:this.be=e?function(t){return n.uniform4fv(u,t)}:function(t){n.vertexAttrib4fv(u,t),n.disableVertexAttribArray(u)},this.bindArray=function(t,e){n.vertexAttribPointer(u,4,n.FLOAT,n.FALSE,t,e),n.enableVertexAttribArray(u)};break;case n.FLOAT_VEC3:this.be=e?function(t){return n.uniform3fv(u,t)}:function(t){n.vertexAttrib3fv(u,t),n.disableVertexAttribArray(u)},this.bindArray=function(t,e){n.vertexAttribPointer(u,3,n.FLOAT,n.FALSE,t,e),n.enableVertexAttribArray(u)};break;case n.FLOAT_VEC2:this.be=e?function(t){return n.uniform2fv(u,t)}:function(t){n.vertexAttrib2fv(u,t),n.disableVertexAttribArray(u)},this.bindArray=function(t,e){n.vertexAttribPointer(u,2,n.FLOAT,n.FALSE,t,e),n.enableVertexAttribArray(u)};break;case n.FLOAT:this.be=e?function(t){return n.uniform1f(u,t)}:function(t){n.vertexAttrib1f(u,t),n.disableVertexAttribArray(u)},this.bindArray=function(t,e){n.vertexAttribPointer(u,1,n.FLOAT,n.FALSE,t,e),n.enableVertexAttribArray(u)};break;case n.FLOAT_MAT4:e?this.be=function(t){return n.uniformMatrix4fv(u,n.FASLE,t)}:(this.be=function(t){n.vertexAttrib4fv(u,t.subarray(0,4)),n.disableVertexAttribArray(u),n.vertexAttrib4fv(u+1,t.subarray(4,8)),n.disableVertexAttribArray(u+1),n.vertexAttrib4fv(u+2,t.subarray(8,12)),n.disableVertexAttribArray(u+2),n.vertexAttrib4fv(u+3,t.subarray(12,16)),n.disableVertexAttribArray(u+3)},this.bindArray=function(t,e){n.vertexAttribPointer(u,4,n.FLOAT,n.FALSE,t,e),n.enableVertexAttribArray(u),n.vertexAttribPointer(u+1,4,n.FLOAT,n.FALSE,t,e+16),n.enableVertexAttribArray(u+1),n.vertexAttribPointer(u+2,4,n.FLOAT,n.FALSE,t,e+32),n.enableVertexAttribArray(u+2),n.vertexAttribPointer(u+3,4,n.FLOAT,n.FALSE,t,e+48),n.enableVertexAttribArray(u+3)});break;case n.FLOAT_MAT3:if(!e)throw new Error("Matrix as an attribute is not support.");this.be=function(t){return n.uniformMatrix3fv(u,n.FASLE,t)};break;case n.FLOAT_MAT2:if(!e)throw new Error("Matrix as an attribute is not support.");this.be=function(t){return n.uniformMatrix2fv(u,n.FASLE,t)};break;case n.INT_VEC4:if(!e)throw new Error("WebGL doesn't support int attribute.");this.be=function(t){return n.uniform4iv(u,t)};break;case n.INT_VEC3:if(!e)throw new Error("WebGL doesn't support int attribute.");this.be=function(t){return n.uniform3iv(u,t)};break;case n.INT_VEC2:if(!e)throw new Error("WebGL doesn't support int attribute.");this.be=function(t){return n.uniform2iv(u,t)};break;case n.INT:if(!e)throw new Error("WebGL doesn't support int attribute.");this.be=function(t){return n.uniform1i(u,t)};break;case n.SAMPLER_2D:e&&(this.be=function(t){return n.uniform1i(u,t)})}}return i(t,[{key:"bind",value:function(t){t!==this.xr&&(this.be(t),this.xr=t)}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var i=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,i);var r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e[0],e[1],0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,r,0),n.bindTexture(n.TEXTURE_2D,null);var u=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,u),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e[0],e[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,u),n.bindRenderbuffer(n.RENDERBUFFER,null),n.bindFramebuffer(n.FRAMEBUFFER,null),this.gl=n,this.Tr=i,this.vi=r,this.Ar=u}return i(t,[{key:"activate",value:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.Tr)}},{key:"getNodeId",value:function(t,n){var e=this.gl,i=new Uint8Array(4);return e.readPixels(t,n,1,1,e.RGBA,e.UNSIGNED_BYTE,i),i[0]<<16|i[1]<<8|i[2]}},{key:"deactivate",value:function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"dispolse",value:function(){var t=this.gl;t.deleteFramebuffer(this.Tr),t.deleteRenderbuffer(this.Ar),t.deleteTexture(this.vi)}},{key:"resize",value:function(t,n){var e=this.gl;e.bindTexture(e.TEXTURE_2D,this.vi),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,this.Ar),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,n),e.bindRenderbuffer(e.RENDERBUFFER,null)}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(97)),u=e(13),o=a(e(75));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.assert(n instanceof r.default),window.assert(e instanceof o.default),this.gl=n.gl,this.Zt=n,this.le=e,this.in=[],this.buildRenderContext()}return i(t,[{key:"buildRenderContext",value:function(){var t=this.Zt,n=this.le,e=t.supportVertexArrayObject();this.Cr=e;for(var i=t.gl,r=n.vertexBufferCount,o=new Map,a=0;a<r;++a)for(var c=n.vertexBuffer(a),s=c.descriptors,f=0;f<s.length;++f){var h=s[f];o.set(h.name,{descriptor:h,buffer:c})}var l=!0,v=!1,y=void 0;try{for(var d,b=n.parts[Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var w=d.value,p=void 0,k=t.createProgram(w.program),m=w.options;switch(w.topology){case u.VertexTopology.TRIANGLES:p=i.TRIANGLES;break;case u.VertexTopology.TRIANGLE_FAN:p=i.TRIANGLE_FAN;break;case u.VertexTopology.TRIANGLE_STRIP:p=i.TRIANGLE_STRIP;break;case u.VertexTopology.LINES:p=i.LINES;break;case u.VertexTopology.LINE_STRIP:p=i.LINE_STRIP;break;case u.VertexTopology.LINE_LOOP:p=i.LINE_LOOP;break;case u.VertexTopology.POINTS:p=i.POINTS;break;default:throw new Error("Unsupported mesh topology "+String(p))}m.prepare(k);var g=[],O=!0,j=!1,M=void 0;try{for(var _,E=o.values()[Symbol.iterator]();!(O=(_=E.next()).done);O=!0){var S=_.value,x=k.attributes.get(S.descriptor.name);x&&g.push({buffer:S.buffer.buffer,stride:S.buffer.stride,offset:S.descriptor.offset,attribute:x})}}catch(t){j=!0,M=t}finally{try{!O&&E.return&&E.return()}finally{if(j)throw M}}var T=null;if(w.hasIndex&&w.indexBuffer){var A=w.indexBuffer;T={buffer:A.buffer,type:i.UNSIGNED_SHORT,size:A.indexCount}}var C=null;e&&(C=i.createVertexArray(),i.bindVertexArray(C),this.bindVertexAttributes(g),T?i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,T.buffer):i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null),i.bindVertexArray(null),i.bindBuffer(i.ARRAY_BUFFER,null),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null)),this.in.push({topology:p,options:m,program:k,attributes:g,indexBuffer:T,vao:C,modeAttribute:k.attributes.get("mode")})}}catch(t){v=!0,y=t}finally{try{!l&&b.return&&b.return()}finally{if(v)throw y}}}},{key:"bindVertexAttributes",value:function(t){for(var n=this.gl,e=t.length,i=0;i<e;++i){var r=t[i];n.bindBuffer(n.ARRAY_BUFFER,r.buffer),r.attribute.bindArray(r.stride,r.offset)}}},{key:"render",value:function(t,n,e){var i=this.gl,r=this.Zt,u=this.le;u.flush();var o=this.in,a=u.vertexCount;if(!(a<=0)){for(var c=0;c<o.length;++c){var s=o[c],f=s.options,h=s.indexBuffer,l=s.topology,v=s.vao,y=s.modeAttribute;if(f.depthTest?i.enable(i.DEPTH_TEST):i.disable(i.DEPTH_TEST),f.side(i),i.blendFunc(f.sfactor,f.dfactor),i.useProgram(s.program.program),y){var d=this.Zt.mode;y.bind(d)}f.render(r,t,n,e),v?i.bindVertexArray(v):(this.bindVertexAttributes(s.attributes),h&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,h.buffer)),h&&h.size>0?i.drawElements(l,h.size,h.type,0):this.le&&i.drawArrays(l,0,a)}this.Cr?i.bindVertexArray(null):(i.bindBuffer(i.ARRAY_BUFFER,null),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,null))}}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var e=n;for(var i in e)if(!this[i]){var r=e[i];this[i]="function"==typeof r?r.bind(e):r}var u=n.getExtension("OES_vertex_array_object");u&&(this.createVertexArray=u.createVertexArrayOES.bind(u),this.deleteVertexArray=u.deleteVertexArrayOES.bind(u),this.isVertexArray=u.isVertexArrayOES.bind(u),this.bindVertexArray=u.bindVertexArrayOES.bind(u));var o=n.getExtension("ANGLE_instanced_arrays");o&&(e.drawArraysInstanced=o.drawArraysInstancedANGLE.bind(o),e.drawElementsInstanced=o.drawElementsInstancedANGLE.bind(o),e.vertexAttribDivisor=o.vertexAttribDivisorANGLE.bind(o)),this.gl=n}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=a(e(474)),o=a(e(46));function a(t){return t&&t.__esModule?t:{default:t}}var c=document.createElement("canvas");c.width=1,c.height=1;var s=new Image;s.src=c.toDataURL("image/png");var f=function(t){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var u=e.width,a=e.height,c=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,u/i,a/i)),f=t.createTexture();return c.texture=f,c.gl=t,c.update(e,i,r),c.St=new o.default(0,0),c}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),r(n,[{key:"update",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.gl,r=this.texture,u=t.width,o=t.height;this.rt=u/n,this.ut=o/n,i.bindTexture(i.TEXTURE_2D,r),t instanceof Image?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,u,o,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST_MIPMAP_LINEAR),e&&i.generateMipmap(i.TEXTURE_2D),i.bindTexture(i.TEXTURE_2D,null)}},{key:"activate",value:function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.texture)}},{key:"deactivate",value:function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)}},{key:"dispose",value:function(){this.gl.deleteTexture(this.texture)}},{key:"nearest",value:function(){var t=this.gl;return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this}},{key:"clampToEdge",value:function(){var t=this.gl;return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this}},{key:"resize",value:function(t,n){var e=this.gl;this.activate(),this.rt=t,this.ut=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),this.deactivate()}},{key:"offset",get:function(){return this.St},set:function(t){var n=i(t,2),e=n[0],r=void 0===e?0:e,u=n[1],a=void 0===u?0:u;this.St=new o.default(r,a)}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.rt=n,this.ut=e}return i(t,[{key:"width",get:function(){return this.rt}},{key:"height",get:function(){return this.ut}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(75),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.gl=t.gl,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.yi=n.createFramebuffer(),this.On=n}return i(t,[{key:"activate",value:function(){var t=this.On;t.bindFramebuffer(t.FRAMEBUFFER,this.yi)}},{key:"deactivate",value:function(){var t=this.On;t.bindFramebuffer(t.FRAMEBUFFER,null)}},{key:"bindTexture",value:function(t){var n=this.On;this.vi=t,n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.texture,0),this.check()}},{key:"check",value:function(){var t=this.On;switch(t.checkFramebufferStatus(t.FRAMEBUFFER)){case t.FRAMEBUFFER_UNSUPPORTED:throw"FRAMEBUFFER_UNSUPPORTED";case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"}}},{key:"resize",value:function(t,n){this.vi&&this.vi.resize(t,n)}},{key:"destroy",value:function(){this.On.deleteFramebuffer(this.yi),delete this.vi,delete this.yi,delete this.On}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var i=b(e(478)),r=b(e(479)),u=b(e(480)),o=b(e(481)),a=b(e(482)),c=b(e(483)),s=b(e(484)),f=b(e(485)),h=b(e(486)),l=b(e(487)),v=b(e(488)),y=b(e(489)),d=b(e(490));function b(t){return t&&t.__esModule?t:{default:t}}var w={heatmap_color:i.default,phong_polyhedron_layer_fill:r.default,surface_polyhedron_layer_fill:u.default,surface_polyhedron_layer_texture:o.default,basic_polyhedron_layer_stroke:a.default,phong_polyhedron_layer_heatmap:c.default,surface_polyhedron_layer_heatmap:s.default,line_color:y.default,annotation_layer:l.default,AnnotationBorder:v.default,mask:d.default,heatmap_layer_generator:h.default,heatmap_reander:f.default},p=/^[ \t]*#include +<([\w\d.]+)>/gm;function k(t){var n=w[t];if(!n)throw new Error("Miss shader for program "+t);return function t(n){return n.replace(p,function(n,e){return t(k(e))})}(n)}},function(t,n){t.exports="float fade(float low, float high, float value) {\n    float mid = (low + high) * 0.5;\n    float range = (high - low) * 0.5;\n    float x = 1.0 - clamp(abs(mid - value) / range, 0.0, 1.0);\n    return smoothstep(0.0, 1.0, x);\n}\n\nvec3 getCustomColor(float intensity, vec3 blue, vec3 cyan, vec3 green, vec3 yellow, vec3 red) {\n    vec3 color = (\n        fade(-0.25, 0.25, intensity) * blue +\n        fade(0.0, 0.5, intensity) * cyan +\n        fade(0.25, 0.75, intensity) * green +\n        fade(0.5, 1.0, intensity) * yellow +\n        smoothstep(0.75, 1.0, intensity) * red\n    );\n    return color;\n}\n\nvec3 getColor(float intensity) {\n    vec3 blue = vec3(0.0, 0.0, 1.0);\n    vec3 cyan = vec3(0.0, 1.0, 1.0);\n    vec3 green = vec3(0.0, 1.0, 0.0);\n    vec3 yellow = vec3(1.0, 1.0, 0.0);\n    vec3 red = vec3(1.0, 0.0, 0.0);\n    return getCustomColor(intensity, blue, cyan, green, yellow, red);\n}\n\nvec4 alphaFun(vec3 color, float intensity, float a){\n    float alpha = smoothstep(0.0, 1.0, intensity);\n    return vec4(color * alpha, alpha * a);\n}"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec4 v_color;\nvarying vec3 v_normal;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_fillColor;\nattribute vec3 a_normal;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    v_color = a_fillColor;\n    v_visible = a_visible;\n    v_normal = normalize(a_normal);\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_subNodeMatrix * vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n}\n\n#else\n\nuniform vec3 u_directionLightDirection;\nuniform vec3 u_directionLightColor;\nuniform float u_directionLightIntensity;\n\nuniform vec3 u_ambientLightColor;\nuniform float u_ambientLightIntensity;\n\nuniform vec3 u_materialDiffuseColor;\nuniform vec3 u_materialSpecularColor;\nuniform float u_materialSmoothness;\n\nuniform int u_mode;\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            vec3 ambientLight = u_ambientLightIntensity * u_ambientLightColor;\n            vec3 directionLight = max(dot(v_normal, u_directionLightDirection), 0.0) * u_directionLightIntensity * u_directionLightColor;\n            gl_FragColor = vec4(v_color.rgb * (ambientLight + directionLight), v_color.a);\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n//        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec4 v_color;\nvarying vec3 v_normal;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_fillColor;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    v_color = a_fillColor;\n    v_visible = a_visible;\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_subNodeMatrix * vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n}\n\n#else\n\nuniform int u_mode;\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            gl_FragColor = v_color;\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n       gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        // discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec4 v_color;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\nvarying vec2 v_st;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_fillColor;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    v_color = a_fillColor;\n    v_visible = a_visible;\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_subNodeMatrix * vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n    v_st = a_position.xy;\n}\n\n#else\n\nuniform int u_mode;\n\nuniform sampler2D u_texture;\nuniform vec2 u_viewportSize;\nuniform vec2 u_textureSize;\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            vec2 textureSize = u_textureSize / float(DEVICE_PIXEL_RATIO);\n            vec4 finalColor = texture2D(u_texture, (v_st / 0.06 + mod(u_viewportSize, textureSize)) / textureSize);\n            gl_FragColor = finalColor;\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n       gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        // discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec4 v_color;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_strokeColor;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    v_color = a_strokeColor;\n    v_visible = a_visible;\n    vec4 finalPosition = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_subNodeMatrix * vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n    finalPosition.z -= 0.001; // z-fighting\n    gl_Position = finalPosition;\n}\n\n#else\n\nuniform int u_mode;\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            gl_FragColor = v_color;\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n        // gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\n// varying vec2 v_uv;\nvarying vec4 v_pos;\nvarying vec4 v_color;\nvarying vec3 v_normal;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_fillColor;\nattribute vec3 a_normal;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_heatmapMatrix;\nuniform vec2 u_cameraOffset;\n// uniform vec2 u_textureSize;\n// uniform vec2 u_textureCenter;\n// uniform vec2 u_textureRatio;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    // vec2 originPos = (vec2(a_subNodeMatrix[3][0], a_subNodeMatrix[3][1]) + a_position.xy) * u_textureRatio;\n    // v_uv = abs(originPos + vec2(u_textureCenter.x, -u_textureCenter.y)) / u_textureSize;\n    v_color = a_fillColor;\n    v_visible = a_visible;\n    v_normal = normalize(a_normal);\n    vec4 position = vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n    mat4 m = u_projectionMatrix * u_viewMatrix * a_subNodeMatrix;\n    v_pos = m * u_heatmapMatrix * position;\n    gl_Position = m * u_modelMatrix * position;\n}\n\n#else\n\nuniform vec3 u_directionLightDirection;\nuniform vec3 u_directionLightColor;\nuniform float u_directionLightIntensity;\n\nuniform vec3 u_ambientLightColor;\nuniform float u_ambientLightIntensity;\n\nuniform int u_mode;\nuniform sampler2D u_texture;\nuniform float u_heatmapAlpha;\n\n#include <heatmap_color>\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            vec2 uv = vec2(v_pos.x / v_pos.w * 0.5 + 0.5, v_pos.y / v_pos.w * 0.5 + 0.5);\n            float intensity = smoothstep(0.0, 1.0, texture2D(u_texture, uv).r);\n            vec3 color = getColor(intensity);\n            vec4 outColor = alphaFun(color, intensity, u_heatmapAlpha);\n            vec3 ambientLight = u_ambientLightIntensity * u_ambientLightColor;\n            vec3 directionLight = max(dot(v_normal, u_directionLightDirection), 0.0) * u_directionLightIntensity * u_directionLightColor;\n            vec4 lightColor = vec4(v_color.rgb * (ambientLight + directionLight), v_color.a);\n            gl_FragColor = outColor * outColor.a + ((1. - outColor.a) * lightColor);\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n//        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec4 v_pos;\nvarying vec4 v_color;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n\n#ifdef VSH\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec4 a_fillColor;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform mat4 u_heatmapMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_subNodeId = a_subNodeId;\n    v_color = a_fillColor;\n    v_visible = a_visible;\n    vec4 position = vec4(a_position + vec3(u_cameraOffset, 0.0), 1.0);\n    mat4 m = u_projectionMatrix * u_viewMatrix * a_subNodeMatrix;\n    v_pos = m * u_heatmapMatrix * position;\n    gl_Position = m * u_modelMatrix * position;\n}\n\n#else\n\nuniform int u_mode;\nuniform sampler2D u_texture;\nuniform float u_heatmapAlpha;\n\n#include <heatmap_color>\n\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            vec2 uv = vec2(v_pos.x / v_pos.w * 0.5 + 0.5, v_pos.y / v_pos.w * 0.5 + 0.5);\n            float intensity = smoothstep(0.0, 1.0, texture2D(u_texture, uv).r);\n            vec3 color = getColor(intensity);\n            vec4 outColor = alphaFun(color, intensity, u_heatmapAlpha);\n            gl_FragColor = outColor * outColor.a + ((1. - outColor.a) * v_color);\n        } else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n//        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        discard;\n    }\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec2 v_texcoord;\n\n#ifdef VSH\nattribute vec4 a_position;\nvoid main(){\n    v_texcoord = a_position.xy * 0.5 + 0.5;\n    gl_Position = a_position;\n}\n#else\n\nuniform sampler2D u_texture;\nuniform float u_heatmapAlpha;\nuniform int u_mode;\nuniform int u_colorPattern;\nuniform vec4 u_color1;\nuniform vec4 u_color2;\nuniform vec4 u_color3;\nuniform vec4 u_color4;\nuniform vec4 u_color5;\n\n#include <heatmap_color>\n\nvoid main() {\n    if (u_mode == MODE_RENDERING) {\n        float intensity = smoothstep(0.0, 1.0, texture2D(u_texture, v_texcoord).r);\n        vec3 color;\n        if (u_colorPattern == 1) {\n            color = getCustomColor(intensity, vec3(u_color1.rgb), vec3(u_color2.rgb), vec3(u_color3.rgb), vec3(u_color4.rgb), vec3(u_color5.rgb));\n        } else {\n            color = getColor(intensity);\n        }\n        gl_FragColor = alphaFun(color, intensity, u_heatmapAlpha);\n    } else if (u_mode == MODE_SELECTION) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n\n#endif"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec2 v_off, v_dim;\nvarying float v_Intensity;\n\n#ifdef VSH\nattribute vec4 a_position, a_intensity;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\nuniform float u_ratio;\n\nvoid main() {\n    vec2 v = vec2(a_position.xy + a_position.zw) - a_position.xy;\n    float len = length(v) / u_ratio;\n    vec2 n_v = normalize(v) * len;\n    vec2 pos = n_v + a_position.xy;\n    v_dim = abs(n_v);\n    v_off = n_v;\n    v_Intensity = a_intensity.x;\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * vec4(vec3(pos + u_cameraOffset, 0.0), 1.0);\n}\n\n#else\n\nvoid main() {\n    float falloff = (1.0 - smoothstep(0.0, 1.0, length(v_off / v_dim)));\n    float intensity = falloff * v_Intensity;\n    gl_FragColor = vec4(intensity);\n}\n\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\nvarying vec2 v_st;\nvarying float v_visible;\nvarying vec3 v_subNodeId;\n#ifdef VSH\n\nattribute vec3 a_subNodeId;\nattribute vec3 a_position;\nattribute vec2 a_st;\nattribute vec2 a_textureSize;\nattribute float a_visible;\nattribute mat4 a_subNodeMatrix;\nattribute vec2 a_offset;\n\nuniform vec2 u_viewportSize;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform vec2 u_cameraOffset;\n\nvoid main() {\n    v_st = a_st;\n    v_visible = a_visible;\n    v_subNodeId = a_subNodeId;\n    vec4 center = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_subNodeMatrix * vec4(u_cameraOffset.xy, 0.0, 1.0);\n    vec3 scaling = vec3(a_textureSize * float(DEVICE_PIXEL_RATIO) / u_viewportSize, 1.0);\n    vec4 position = center + vec4(a_position * scaling * center.w, 0.0) + vec4(a_offset * center.w, 0.0, 0.0);\n    gl_Position = position;\n}\n\n#else\n\nuniform sampler2D u_sampler;\nuniform int u_mode;\nvoid main() {\n    if (v_visible >= 0.5) {\n        if (u_mode == MODE_RENDERING) {\n            gl_FragColor = texture2D(u_sampler, v_st);\n        }  else if (u_mode == MODE_SELECTION) {\n            gl_FragColor = vec4(v_subNodeId.xyz / 255.0, 1.0);\n        }\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n#endif\n"},function(t,n){t.exports="precision highp float;\n\n#ifdef VSH\nattribute vec2 a_position;\nvoid main() {\n    gl_Position = vec4(a_position, 1.0, 1.0);\n    gl_PointSize = 10.0;\n}\n#else\nvoid main() {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n}\n#endif"},function(t,n){t.exports="precision highp float;\n\nvarying vec2 v_st;\nvarying float v_outset;\nuniform float u_width;\n\n#ifdef VSH\n\nattribute vec3 a_position;\nattribute vec2 a_normal;\nattribute float a_miter;\nattribute vec2 a_distance;\n\nuniform vec2 u_cameraOffset;\nuniform vec2 u_viewportSize;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\nuniform float u_ratio;\n\nvoid main() {\n    float outset = u_width / 2.0 + 1.0 / float(DEVICE_PIXEL_RATIO) / 2.0;\n    mediump vec2 dist = outset * a_normal.xy;\n\n    vec3 position = a_position + vec3(dist, .0);\n    gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * vec4(position + vec3(u_cameraOffset, 0), 1.);\n    v_st = a_distance;\n    v_outset = outset;\n}\n\n#else\n\nuniform vec4 u_color;\nuniform int u_lineMode;\nuniform vec2 u_offset;\nuniform float u_limitDistance;\nuniform int u_useLimit;\nuniform vec4 u_fromColor;\nuniform vec4 u_toColor;\nuniform vec2 u_textureSize;\nuniform vec2 u_rect;\n\nuniform sampler2D u_texture;\n\nvoid main() {\n    vec4 finalColor;\n    if (u_lineMode == 1) {\n        finalColor = u_color;\n    } else if (u_lineMode == 2) {\n        finalColor = texture2D(u_texture, vec2(v_st.x / (v_outset * 2.0 / (u_textureSize.y / u_textureSize.x)), v_st.y) + u_offset);\n    } else if (u_lineMode == 3) {\n        float count = u_rect.x + u_rect.y;\n        float limit = mod(v_st.x + u_offset.x * count, count);\n        if (limit <= u_rect.x) {\n            finalColor = u_color;\n        } else if (limit <= u_rect.y) {\n            finalColor = vec4(0.);\n        }\n    }\n    if (u_useLimit == 1) {\n        finalColor = vec4(finalColor.a);\n    }\n    gl_FragColor = (v_st.s >= u_limitDistance ? u_toColor : u_fromColor) * finalColor;\n}\n\n#endif"},function(t,n){t.exports="precision highp float;\n\n#define MODE_RENDERING 0\n#define MODE_SELECTION 1\n\n#ifdef VSH\nattribute vec2 a_position;\n\nvoid main() {\n    gl_Position = vec4(a_position, 1, 1);\n}\n\n#else\n\nuniform vec4 u_maskColor;\nuniform int u_mode;\n\nvoid main() {\n    if (u_mode == MODE_RENDERING) {\n        gl_FragColor = u_maskColor;\n    } else if (u_mode == MODE_SELECTION) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n\n#endif\n"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(204)),u=c(e(31)),o=e(13),a=c(e(492));function c(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.Rr=t,e.update(),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"build",value:function(t,n){return new a.default(t,this,n)}},{key:"update",value:function(){var t=this,n=[];this.Rr.forEach(function(e){return t.a(n,e.x,e.y,e.size,e.intensity)});var e=6*this.Rr.length;this.rn.push({topology:o.VertexTopology.TRIANGLES,vertexCount:e,data:new Float32Array(n),descriptors:[new u.default("position",o.MeshAttributeType.FLOAT,0,4),new u.default("intensity",o.MeshAttributeType.FLOAT,16,4)]})}},{key:"a",value:function(t,n,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.4,u=i/2,o=new Array(4).fill(r);t.push.apply(t,[n,e,-u,-u].concat(s(o))),t.push.apply(t,[n,e,u,-u].concat(s(o))),t.push.apply(t,[n,e,-u,u].concat(s(o))),t.push.apply(t,[n,e,-u,u].concat(s(o))),t.push.apply(t,[n,e,u,-u].concat(s(o))),t.push.apply(t,[n,e,u,u].concat(s(o)))}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeatmapGeneratorLayerNode=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=l(e(74)),u=l(e(73)),o=l(e(31)),a=l(e(493)),c=l(e(205)),s=e(97),f=(l(s),l(e(202))),h=e(13);function l(t){return t&&t.__esModule?t:{default:t}}function v(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function d(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var b=[new o.default("position",h.MeshAttributeType.FLOAT,0,4)],w=n.HeatmapGeneratorLayerNode=function(t){function n(t,e,i){v(this,n);var r=y(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),u=e.attributes[0];if(u){var o=t.createMesh(),c=i||new a.default;o.createVertexBuffer(u.descriptors).data=u.data,o.createPart(u.topology,c.shaderLib(),c),r.addMesh(o)}return r}return d(n,u.default),i(n,[{key:"v",value:function(){return s.DEFAULT_RENDER_TARGET.TEXTURE}}]),n}(),p=function(t){function n(t,e,i){v(this,n);var r=y(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.renderingGroup=1.9;var u=t.getTarget(s.DEFAULT_RENDER_TARGET.TEXTURE),o=t.createMesh();o.createVertexBuffer(b).data=new Float32Array([-1,-1,0,1,-1,1,0,1,1,-1,0,1,-1,1,0,1,1,-1,0,1,1,1,0,1]),i instanceof c.default&&u instanceof f.default&&(i.texture=u.texture()),o.createPart(h.VertexTopology.TRIANGLES,i.shaderLib(),i,!1),r.addMesh(o);var l=new a.default;return i instanceof c.default&&(l.enableRatio=i.enableRatio),r.addNode(new w(t,e,l)),r}return d(n,r.default),n}();n.default=p},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=e(66),a=(i=o)&&i.__esModule?i:{default:i};var c=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.enableRatio=!0,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"prepare",value:function(t){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Nr=e.get("ratio")}},{key:"render",value:function(t,e,i,r){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,r);var o=this.enableRatio?e.zooming:20;this.Nr&&this.Nr.bind(Math.pow(o,2)/25)}},{key:"shaderLib",value:function(){return"heatmap_layer_generator"}},{key:"enableRatio",set:function(t){this.Oi=t},get:function(){return this.Oi}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=o(e(99));o(e(131));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.In=!0,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"prepare",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Ht=e.get("projectionMatrix"),this.Ir=e.get("viewMatrix"),this.Fr=e.get("modelMatrix"),this.Dr=e.get("directionLightDirection"),this.Lr=e.get("directionLightColor"),this.Pr=e.get("directionLightIntensity"),this.zr=e.get("ambientLightColor"),this.Gr=e.get("ambientLightIntensity")}},{key:"render",value:function(t,e,i,u){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,u),this.Ht&&this.Ht.bind(e.projectionMatrix),this.Ir&&this.Ir.bind(e.worldInverseMatrix),this.Fr&&this.Fr.bind(u.worldMatrix);var o=i.ambientLight;this.zr&&this.zr.bind(o.color),this.Gr&&this.Gr.bind(o.intensity);var a=i.directionLight;this.Lr&&this.Lr.bind(a.color),this.Dr&&this.Dr.bind(a.direction),this.Pr&&this.Pr.bind(a.intensity)}},{key:"diffuseColor",get:function(){return this.Br},set:function(t){this.Br=t}},{key:"specularColor",get:function(){return this.Ur},set:function(t){this.Ur=t}},{key:"smoothness",get:function(){return this.Wr},set:function(t){window.assert(t>=0&&t<=1),this.Wr=t}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoaderTexture=n.XHR=void 0;var i=u(e(206)),r=u(e(137));function u(t){return t&&t.__esModule?t:{default:t}}n.XHR=i.default,n.LoaderTexture=r.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MockNavigationLocation=void 0;var i,r=e(497),u=(i=r)&&i.__esModule?i:{default:i};n.MockNavigationLocation=u.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=(u(e(132)),u(e(12)));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.Yr=t,i.tn=Object.assign({speed:10},e),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"start",value:function(){this.Vr||this.setAnimator()}},{key:"cancel",value:function(){this.Vr&&this.Vr.cancel()}},{key:"reset",value:function(){this.Vr&&this.Vr.cancel(),delete this.Vr,this.ci=0,this.Hr=0}},{key:"setAnimator",value:function(){var t=this,n=this.b();if(n){var e=this.Vr=this.c(n);e.on("update",function(n,e){t.fire("onLocation",{location:e,storey:t.Kr})}),e.on("complete",function(){t.setAnimator()}),e.start()}}},{key:"c",value:function(t){return this.Yr.createAnimator({x:t.start.x,y:t.start.y},{x:t.end.x,y:t.end.y},t.length/this.tn.speed*1e3)}},{key:"b",value:function(){var t=this.Qr[this.ci],n=t.segments,e=t.storey,i=n[this.Hr++];return this.ci===this.Qr.length-1||i?(this.Kr=e,i):(this.ci++,this.Hr=0,this.b())}},{key:"navigate",set:function(t){var n=this,e=t.storeyOrder,i=new Map;this.Qr=[],this.reset(),e.forEach(function(e){var r=t.getSymbol(e);if(r){var u=i.get(e);u||(u=r.concat(),i.set(e,u));var o=u.shift();o&&n.Qr.push({segments:o.shape.segments.concat(),storey:e})}})}}]),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;var i,r=e(499),u=(i=r)&&i.__esModule?i:{default:i};n.Marker=u.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=h(e(27)),o=h(e(67)),a=e(18),c=h(e(500)),s=h(e(12)),f=h(e(9));function h(t){return t&&t.__esModule?t:{default:t}}var l={draggable:!1},v=function(t){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),!t)throw new Error("element is required!");var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return i.tn=Object.assign(l,e),i.Jr=t,i.Xr=new f.default(0,0,0),i.qr=new u.default(0,0,3857),i.st=new f.default(0,0,0),i.$r=[-50,-50],i.tu=0,i.nu=!1,i.vt=!0,i.tn.draggable&&(i.eu=new c.default(t),i.enableDrag()),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s.default),r(n,[{key:"show",value:function(){this.Jr.style.visibility="visible",this.vt=!0,this.update()}},{key:"hide",value:function(){this.Jr.style.visibility="hidden",this.vt=!1}},{key:"enableDrag",value:function(){this.eu&&(this.eu.enable(),this.eu.on("onDragStart",this.d,this),this.eu.on("onDrag",this.e,this),this.eu.on("onDragEnd",this.f,this))}},{key:"disableDrag",value:function(){this.eu&&(this.eu.disable(),this.eu.off("onDragStart",this.d,this),this.eu.off("onDrag",this.e,this),this.eu.off("onDragEnd",this.f,this))}},{key:"position",value:function(t){return t instanceof u.default?this.positionLngLat(t):t instanceof f.default&&this.positionVector(t),this}},{key:"positionFeature",value:function(t){if(t.storey&&t.position){var n=t.storey.box.center;this.positionLngLat(new u.default(t.position.lng+n.x,t.position.lat+n.y,3857).setAltitude(t.get("Elevation")))}}},{key:"positionLngLat",value:function(t){return this.qr=this.g(u.default.like(t)),this.iu=!0,this.update(),this}},{key:"positionVector",value:function(t){return this.Xr=f.default.like(t),this.ru=!0,this.update(),this}},{key:"getPosition",value:function(){return this.qr}},{key:"getElement",value:function(){return this.Jr}},{key:"anchor",value:function(t,n){return this.$r=[t,n],this}},{key:"rotate",value:function(t){return this.tu=t,this}},{key:"addTo",value:function(t){t.addMarker(this),this.uu=t,this.update()}},{key:"removeTo",value:function(t){t.removeMarker(this)}},{key:"update",value:function(){var t=this.uu;if(t&&!this.nu&&this.vt){var n=t.origin,e=n.lng,i=n.lat;this.iu&&(this.Xr.x=this.qr.lng-e,this.Xr.y=this.qr.lat-i,this.Xr.z=this.qr.altitude,this.iu=!1),this.ru&&(this.qr.lng=this.Xr.x+e,this.qr.lat=this.Xr.y+i,this.qr.setAltitude(this.Xr.z),this.ru=!1),this.st=t.toScreenCoordinate(this.Xr),this.h(this.$r,this.st,this.tu)}}},{key:"h",value:function(t,n,e){var r=i(t,2),u=r[0],o=r[1],c=n.x,s=n.y;(0,a.addStyle)(this.Jr,{transform:"translate("+u+"%, "+o+"%) translate("+c+"px, "+s+"px) rotate("+e+"deg)"})}},{key:"g",value:function(t){var n=t;return t instanceof u.default&&4326===t.srid&&(n=o.default.ou(t)),n}},{key:"d",value:function(){this.fire("dragStart")}},{key:"e",value:function(t,n){this.nu=!0;var e=n.offset,i=this.st.add(e);this.h(this.$r,i,this.tu);var r=this.uu.toWebMercatorByScreen(i);this.position(r),this.fire("drag")}},{key:"f",value:function(){this.nu=!1,this.update(),this.fire("dragEnd")}},{key:"mercatorPosition",get:function(){return this.qr}},{key:"worldPosition",get:function(){return this.Xr}}]),n}();n.default=v},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(12)),u=o(e(9));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){t.preventDefault()},c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.Jr=t,e.cu=!1,e.su=new u.default(0,0,0),e.d=e.d.bind(e),e.e=e.e.bind(e),e.f=e.f.bind(e),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"enable",value:function(){this.cu||(this.Jr.addEventListener("mousedown",this.d),this.cu=!0)}},{key:"disable",value:function(){this.cu&&(this.Jr.removeEventListener("mousedown",this.d),this.cu=!1)}},{key:"d",value:function(t){if(1===t.which||1===t.button||t.touches){t.stopPropagation(),window.addEventListener("dragstart",a);var n=t.touches?t.touches[0]:t;this.su.x=n.clientX,this.su.y=n.clientY,this.fire("onDragStart",this,{dragPoint:this.su}),document.addEventListener("mousemove",this.e),document.addEventListener("mouseup",this.f)}}},{key:"e",value:function(t){if(!(t.touches&&t.touches>1)){var n=t.touches?t.touches[0]:t,e=new u.default(n.clientX,n.clientY,0),i=e.subtract(this.su);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<3||(t.preventDefault(),this.fire("onDrag",this,{dragPoint:e,offset:i})))}}},{key:"f",value:function(t){document.removeEventListener("mousemove",this.e),document.removeEventListener("mouseup",this.f),window.removeEventListener("dragstart",a),this.fire("onDragEnd",this,{dragPoint:new u.default(t.clientX,t.clientY)})}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ArrayInstruction=n.NavigateStatus=n.NavigateManager=n.NaviStatusCode=n.MockNavigateManager=n.DefaultH=n.DefaultG=n.AStar=void 0;var i=h(e(207)),r=h(e(218)),u=h(e(219)),o=e(506),a=h(o),c=e(220),s=h(c),f=h(e(516));function h(t){return t&&t.__esModule?t:{default:t}}n.AStar=i.default,n.DefaultG=r.default,n.DefaultH=u.default,n.MockNavigateManager=a.default,n.NaviStatusCode=o.NaviStatusCode,n.NavigateManager=s.default,n.NavigateStatus=c.NavigateStatus,n.ArrayInstruction=f.default},function(t,n){function e(t){this.fu=t||e.DEFAULT_COMPARATOR,this.Si=[]}t.exports=e,e.DEFAULT_COMPARATOR=function(t,n){return"number"==typeof t&&"number"==typeof n?t-n:(t=t.toString())==(n=n.toString())?0:t>n?1:-1},e.prototype.isEmpty=function(){return 0===this.size()},e.prototype.peek=function(){if(this.isEmpty())throw new Error("PriorityQueue is empty");return this.Si[0]},e.prototype.deq=function(){var t=this.peek(),n=this.Si.pop(),e=this.size();if(0===e)return t;this.Si[0]=n;for(var i=0;i<e;){var r=i,u=2*i+1,o=2*i+2;if(u<e&&this.hu(u,r)>=0&&(r=u),o<e&&this.hu(o,r)>=0&&(r=o),r===i)break;this.lu(r,i),i=r}return t},e.prototype.enq=function(t){for(var n=this.Si.push(t),e=n-1;e>0;){var i=Math.floor((e-1)/2);if(this.hu(e,i)<=0)break;this.lu(i,e),e=i}return n},e.prototype.size=function(){return this.Si.length},e.prototype.forEach=function(t){return this.Si.forEach(t)},e.prototype.hu=function(t,n){return this.fu(this.Si[t],this.Si[n])},e.prototype.lu=function(t,n){var e=this.Si[t];this.Si[t]=this.Si[n],this.Si[n]=e}},function(t,n,e){"use strict";t.exports=function(t){for(var n=5381,e=t.length;e;)n=33*n^t.charCodeAt(--e);return n>>>0}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"g",value:function(t,n,e){return 0}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"h",value:function(t,n){return 0}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NaviStatusCode=void 0;var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(12),o=(i=u)&&i.__esModule?i:{default:i};var a=n.NaviStatusCode={START:Symbol("start"),OK:Symbol("ok"),SWITCH_ERROR:Symbol("switch_error")},c=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.Gn=new Map,t.vu=new Map,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"navigate",value:function(t,n,e){var i=this;this.o(a.START,null,e);var r=this.Gn.get(""+t+n)||[];this.reset(),r&&r.forEach(function(t,n){var e=t.floor,u=i.vu.get(e);u||(u=[],i.vu.set(e,u));var o=r[n-1];e!==(o&&o.floor||-1)&&u.push([]),u[u.length-1].push(t)}),this.switch(e)}},{key:"switch",value:function(t){var n=this.getPathByFloor(t);this.o(n?a.OK:a.SWITCH_ERROR,n,t)}},{key:"getPathByFloor",value:function(t){return this.vu.get(t)}},{key:"addPath",value:function(t,n,e){this.Gn.set(""+t+n,e),this.Gn.set(""+n+t,[].concat(function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(e)).reverse())}},{key:"reset",value:function(){this.vu.clear()}},{key:"o",value:function(t,n,e){this.fire("onNavigate",{code:t,path:n,floor:e})}}]),n}();n.default=c},function(t,n){n.read=function(t,n,e,i,r){var u,o,a=8*r-i-1,c=(1<<a)-1,s=c>>1,f=-7,h=e?r-1:0,l=e?-1:1,v=t[n+h];for(h+=l,u=v&(1<<-f)-1,v>>=-f,f+=a;f>0;u=256*u+t[n+h],h+=l,f-=8);for(o=u&(1<<-f)-1,u>>=-f,f+=i;f>0;o=256*o+t[n+h],h+=l,f-=8);if(0===u)u=1-s;else{if(u===c)return o?NaN:1/0*(v?-1:1);o+=Math.pow(2,i),u-=s}return(v?-1:1)*o*Math.pow(2,u-i)},n.write=function(t,n,e,i,r,u){var o,a,c,s=8*u-r-1,f=(1<<s)-1,h=f>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:u-1,y=i?1:-1,d=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,o=f):(o=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-o))<1&&(o--,c*=2),(n+=o+h>=1?l/c:l*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(n*c-1)*Math.pow(2,r),o+=h):(a=n*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[e+v]=255&a,v+=y,a/=256,r-=8);for(o=o<<r|a,s+=r;s>0;t[e+v]=255&o,v+=y,o/=256,s-=8);t[e+v-y]|=128*d}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.DIRECTION={ONEWAY:Symbol("oneway"),TWOWAY:Symbol("twoway")}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r,u,o){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.dt=n,this._t=e,this.yu=i,this.du=r,this.mn=u,this._i=o}return i(t,[{key:"id",get:function(){return this.dt}},{key:"name",get:function(){return this._t}},{key:"category",get:function(){return this.yu}},{key:"originID",get:function(){return this.du}},{key:"storey",get:function(){return this.mn}},{key:"shape",get:function(){return this._i}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(138)),u=o(e(12));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"reset",value:function(){this.instructions=this.bu}},{key:"dynamic",value:function(t){var n=this,e=t.point,i=t.storey;if(this.wu){var r=this.wu.get(i);if(r){this.pu=e;var u=e.getRectangle(.1),o=r.search({minX:u.minX,minY:u.minY,maxX:u.maxX,maxY:u.maxY});if(0!==o.length&&0!==(o=o.sort(function(t,n){return t.index-n.index}).filter(function(t){return t.instruction.contains(e)})).length){var a=o[0].index;if(this.ku<a)for(var c=a-1;c>=0;c--)this.ak(r,c);this.ku=a,o.forEach(function(t){var u=t.instruction,o=t.index,a=[];u.actions.forEach(function(t){return t.traceRect.contains(e)&&a.push(t)}),0!==a.length?n.al(e,i,u,a):n.ak(r,o)})}}}}},{key:"al",value:function(t,n,e,i){var r=this;this.mu!=e&&(this.fire("changeInstruction",this.mu,e),this.mu=e),i.forEach(function(t){r.gu.has(t)||(r.gu.add(t),r.fire("dynamicDescription",e,t,t.description)),r.Ou!=t&&(r.fire("changeAction",r.Ou,t),r.Ou=t)}),n!=this.Kr&&(this.fire("changeStorey",n,this.Kr),this.Kr=n),this.fire("dynamicNavigation",{location:t,action:this.Ou})}},{key:"ak",value:function(t,n){t.remove({index:n},function(t,n){return t.index===n.index})}},{key:"instructions",set:function(t){var n=this;this.wu=new Map,this.bu=t,this.ku=0,this.gu=new Set,this.Kr="",t.forEach(function(t,e){var i=t.actions[0].storey,u=n.wu.get(i);u||(u=(0,r.default)(),n.wu.set(i,u));var o=t.traceRect;u.insert({minX:o.minX,minY:o.minY,maxX:o.maxX,maxY:o.maxY,index:e,instruction:t})})}}]),n}();n.default=a},function(t,n,e){var i;i=function(){"use strict";function t(t,n,e){var i=t[n];t[n]=t[e],t[e]=i}function n(t,n){return t<n?-1:t>n?1:0}return function(e,i,r,u,o){!function n(e,i,r,u,o){for(;u>r;){if(u-r>600){var a=u-r+1,c=i-r+1,s=Math.log(a),f=.5*Math.exp(2*s/3),h=.5*Math.sqrt(s*f*(a-f)/a)*(c-a/2<0?-1:1),l=Math.max(r,Math.floor(i-c*f/a+h)),v=Math.min(u,Math.floor(i+(a-c)*f/a+h));n(e,i,l,v,o)}var y=e[i],d=r,b=u;for(t(e,r,i),o(e[u],y)>0&&t(e,r,u);d<b;){for(t(e,d,b),d++,b--;o(e[d],y)<0;)d++;for(;o(e[b],y)>0;)b--}0===o(e[r],y)?t(e,r,b):t(e,++b,u),b<=i&&(r=b+1),i<=b&&(u=b-1)}}(e,i,r||0,u||e.length-1,o||n)}},t.exports=i()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(513),u=(a(r),e(514)),o=(a(u),e(515));a(o),a(e(140));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.DefaultNavigationActionProvider(n.provider),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new u.DefaultNavigationInstructionProvider,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new o.DefaultNavigationDescription;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.actionProvider=e,this.instructionProvider=i,this.navigationDescription=a}return i(t,[{key:"generate",value:function(t){var n=this.ju.provide(t),e=this.bu=this.Mu.provide(n);this._u.describe(e)}},{key:"actionProvider",set:function(t){this.ju=t}},{key:"instructionProvider",set:function(t){this.Mu=t}},{key:"navigationDescription",set:function(t){this._u=t}},{key:"instructions",get:function(){return this.bu||[]}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultNavigationActionProvider=void 0;var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(139),o=c(u),a=c(e(130));function c(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function f(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(n){f(this,t),this.tn=n}return r(t,[{key:"provide",value:function(t){return[]}}]),t}();n.DefaultNavigationActionProvider=function(t){function n(t){return f(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({minProcessDistance:1},t)))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,h),r(n,[{key:"provide",value:function(t){var n=this,e=t.storeyOrder,i=new Map,r=[];return e.forEach(function(e){var u=t.getSymbol(e);if(u){var o=i.get(e);o||(o=u.concat(),i.set(e,o));var a=o.shift(),c=n.doProvide(a);c&&r.push.apply(r,s(c))}}),this.adjustActions(r)}},{key:"adjustActions",value:function(t){var n=this,e=[],i=[];return t.forEach(function(t){var r=e[e.length-1];t.action===u.NavigationActionStatus.NORTH?i.push(t):(i.length>0&&(e.push(n.processNavigationAction(n.aD(i),r)),i.length=0),e.push(n.processNavigationAction(t,r)))}),e}},{key:"processNavigationAction",value:function(t,n){var e=t.curSegments.concat();if(0===e.length)return t;var i=t.action,r=e.shift(),o=r.start,c=e.length>0?e[e.length-1].end:r.end,s=new a.default(o,c),f=this.aE(s),h=r.length,l=r.rectangle;switch(t.direction=this.aF(0,1,f.x,f.y),n&&n.storey===t.storey&&t.direction!==n.direction+n.angle&&(t.direction=n.direction+n.angle),t.distance=h,e.reduce(function(t,n){return t.distance+=n.length,l.extendTo(n.rectangle),t},t),i){case u.NavigationActionStatus.START:t.tracePoint=o,t.traceRect=o.getRectangle(h>.3?.3:h/2);break;case u.NavigationActionStatus.END:case u.NavigationActionStatus.UP:case u.NavigationActionStatus.DOWN:t.tracePoint=c,t.traceRect=c.getRectangle(h>2?1:h/2);break;case u.NavigationActionStatus.NORTH:t.tracePoint=l.center,t.traceRect=l;break;default:t.tracePoint=c,t.traceRect=c.getRectangle(h>.3?.3:h/2)}return t}},{key:"doProvide",value:function(t){var n=this,e=t.shape,r=t.fromConnection,a=t.toConnection,c=t.properties.storey,s=e.segments,f=[];return s.forEach(function(t,e){var h=void 0,l=s[e-1],v=t,y=s[e+1];if(!l){if(r&&0!==r.length){var d=r[r.length-1],b=i(d.altitude,2),w=b[0],p=b[1],k=d.storey[1];(h=w>p?new o.default(u.NavigationActionStatus.DOWN):new o.default(u.NavigationActionStatus.UP)).storey=k}else(h=new o.default(u.NavigationActionStatus.START)).storey=c;n.aG(h,l,[v],y),f.push(h)}if((h=new o.default(u.NavigationActionStatus.NORTH)).storey=c,n.aG(h,l,[v],y),f.push(h),y){var m=n.aE(v),g=n.aE(y),O=n.aF(m.x,m.y,g.x,g.y),j=null;O>-75&&O<=-15?j=u.NavigationActionStatus.NORTHEAST:O>-105&&O<=-75?j=u.NavigationActionStatus.EAST:O>-165&&O<=-105?j=u.NavigationActionStatus.SOUTHEAST:O>=-180&&O<=-165||O>165&&O<=180?j=u.NavigationActionStatus.SOUTH:O>105&&O<=165?j=u.NavigationActionStatus.SOUTHWEST:O>75&&O<=105?j=u.NavigationActionStatus.WEST:O>15&&O<=75&&(j=u.NavigationActionStatus.NORTHWEST),j&&((h=new o.default(j)).storey=c,h.angle=O,n.aG(h,l,[v],y),f.push(h))}if(!y){if(a&&0!==a.length){var M=a[0],_=i(M.altitude,2);h=_[0]>_[1]?new o.default(u.NavigationActionStatus.DOWN):new o.default(u.NavigationActionStatus.UP)}else h=new o.default(u.NavigationActionStatus.END);n.aG(h,l,[v],y),f.push(h),h.storey=c}}),f}},{key:"aH",value:function(t){t.forEach(function(n,e){var i=t[e+1];i&&i.storey===n.storey&&i.direction!==n.direction-n.angle&&(i.direction=n.direction-n.angle)})}},{key:"aE",value:function(t){var n=t.start.clone();return t.end.clone().subtract(n)}},{key:"aF",value:function(t,n,e,i){var r=t*e+n*i,u=t*i-n*e;return+Number.parseFloat(String(180*Math.atan2(u,r)/Math.PI)).toFixed(1)}},{key:"aG",value:function(t,n,e,i){t.preSegment=n,t.curSegments=e.concat(),t.nextSegment=i}},{key:"aD",value:function(t){if(1===t.length)return t[0];var n=t[0],e=t[t.length-1],i=new o.default(u.NavigationActionStatus.NORTH);return i.storey=n.storey,i.preSegment=n.preSegment,t.forEach(function(t){var n;return(n=i.curSegments).push.apply(n,s(t.curSegments))}),i.nextSegment=e.nextSegment,i}}]),n}();n.default=h},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultNavigationInstructionProvider=void 0;var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(140)),u=e(139);o(u);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var c=function(){function t(){a(this,t)}return i(t,[{key:"provide",value:function(t){return[]}}]),t}();n.default=c;n.DefaultNavigationInstructionProvider=function(t){function n(){return a(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,c),i(n,[{key:"provide",value:function(t){var n=[],e=[];return t.forEach(function(i,o){var a=i.action,c=t[o-1],s=t[o+1];switch(e.push(i),a){case u.NavigationActionStatus.UP:case u.NavigationActionStatus.DOWN:if(c&&(c.action===u.NavigationActionStatus.UP||c.action===u.NavigationActionStatus.DOWN))return void(e.length=0);n.push(new r.default(e.concat())),e.length=0;break;case u.NavigationActionStatus.START:case u.NavigationActionStatus.END:n.push(new r.default(e.concat())),e.length=0;break;case u.NavigationActionStatus.NORTH:break;default:if(s&&(s.action===u.NavigationActionStatus.UP||s.action===u.NavigationActionStatus.DOWN))return;n.push(new r.default(e.concat())),e.length=0}}),n}}]),n}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DefaultNavigationDescription=n.defaultActionDescription=void 0;var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(139);(i=u)&&i.__esModule;function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){o(this,t)}return r(t,[{key:"describe",value:function(t){}}]),t}();n.default=a;var c=n.defaultActionDescription=new Map;c.set(u.NavigationActionStatus.START,function(t){t.description="开始导航"}),c.set(u.NavigationActionStatus.END,function(t){t.description="到达目的地"}),c.set(u.NavigationActionStatus.UP,function(t){t.description="上楼"}),c.set(u.NavigationActionStatus.DOWN,function(t){t.description="下楼"}),c.set(u.NavigationActionStatus.NORTH,function(t){var n=t.distance;t.description=n>10?"沿着当前道路直行"+n.toFixed(2)+"米":"直行"+n.toFixed(2)+"米"}),c.set(u.NavigationActionStatus.NORTHEAST,function(t){t.description="向右前方前进"}),c.set(u.NavigationActionStatus.EAST,function(t){t.description="右转"}),c.set(u.NavigationActionStatus.SOUTHEAST,function(t){t.description="向右后方前进"}),c.set(u.NavigationActionStatus.SOUTH,function(t){t.description="调头"}),c.set(u.NavigationActionStatus.SOUTHWEST,function(t){t.description="向左后方前进"}),c.set(u.NavigationActionStatus.WEST,function(t){t.description="左转"}),c.set(u.NavigationActionStatus.NORTHWEST,function(t){t.description="向左前方前进"});n.DefaultNavigationDescription=function(t){function n(){return o(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a),r(n,[{key:"describe",value:function(t){t.forEach(function(t){var n=null;t.actions.forEach(function(t){return(n=c.get(t.action))&&n(t)})})}}]),n}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(140);(i=u)&&i.__esModule;function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(n){o(this,t),this.bu=n,this.ci=0}return r(t,[{key:"has",value:function(){return this.ci!==this.bu.length}},{key:"next",value:function(){return this.bu[this.ci++]}}]),t}(),c=function(){function t(n){o(this,t),this.instructions=n}return r(t,[{key:"get",value:function(t){var n=Math.max(0,Math.min(t,this.bu.length-1));return this.bu[n]}},{key:"instructions",set:function(t){this.bu=t}},{key:"length",get:function(){return this.bu.length}},{key:"iterator",get:function(){return new a(this.bu)}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HeatmapProgramOptions=n.LineProgramOptions=void 0;var i=u(e(518)),r=u(e(205));function u(t){return t&&t.__esModule?t:{default:t}}n.LineProgramOptions=i.default,n.HeatmapProgramOptions=r.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=c(e(66)),o=c(e(59)),a=c(e(137));function c(t){return t&&t.__esModule?t:{default:t}}var s={COLOR:1,TEXTURE:2,RECT:3},f=new o.default(1,1,1),h=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.width=1,t.opacity=1,t.color=new o.default(.75,.75,.75),t.maxRatio=600,t.Eu=s.COLOR,t.limitDistance=0,t.Su=f,t.xu=f,t.Tu=0,t.St=[0,0],t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"prepare",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Au=e.get("opacity"),this.Cu=e.get("width"),this.Ru=e.get("color"),this.Nu=e.get("viewportSize"),this.Iu=e.get("ratio"),this.Fu=e.get("limitDistance"),this.Du=e.get("useLimit"),this.Lu=e.get("fromColor"),this.Pu=e.get("toColor"),this.zu=e.get("lineMode"),this.wi=e.get("texture"),this.Gu=e.get("textureSize"),this.Bu=e.get("offset"),this.Uu=e.get("rect")}},{key:"render",value:function(t,e,i,u){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,u),this.Cu&&this.width>0&&this.Cu.bind(this.width),this.Au&&this.opacity&&this.Au.bind(this.opacity),this.Ru&&this.color&&this.Ru.bind(this.color),this.Nu&&this.Nu.bind(t.viewportSize),this.zu&&this.zu.bind(this.Eu),this.Iu&&this.Iu.bind(Math.min(this.maxRatio,e.ht)*Math.tan(e.fov/2*Math.PI/180)*2),this.Fu&&this.Fu.bind(this.Wu),this.Du&&this.Du.bind(this.Tu),this.Lu&&this.Lu.bind(0===this.Tu?f:this.Su),this.Pu&&this.Pu.bind(0===this.Tu?f:this.xu),this.Uu&&this.Yu&&this.Uu.bind(this.Yu),this.Vu&&(this.vi=new a.default(t).load(this.Vu),delete this.Vu),this.vi&&(this.vi.activate(),this.wi&&this.wi.bind(0),this.Gu&&this.Gu.bind([this.vi.width,this.vi.height])),this.Bu&&this.Bu.bind(this.St)}},{key:"shaderLib",value:function(){return"line_color"}},{key:"fromColor",get:function(){return this.Su},set:function(t){this.Su=t,this.Tu=f!==this.xu?1:0}},{key:"toColor",get:function(){return this.xu},set:function(t){this.xu=t,this.Tu=f!==this.Su?1:0}},{key:"limitDistance",get:function(){return this.Wu},set:function(t){this.Wu=t}},{key:"maxRatio",get:function(){return this.Hu},set:function(t){this.Hu=t}},{key:"opacity",get:function(){return this.Ku},set:function(t){this.Ku=t}},{key:"width",get:function(){return this.rt},set:function(t){this.rt=t}},{key:"color",get:function(){return this.ri},set:function(t){this.Eu=s.COLOR,this.ri=t}},{key:"rect",set:function(t){this.Yu=t,this.Eu=s.RECT}},{key:"texture",get:function(){return this.vi},set:function(t){this.Eu=s.TEXTURE,"string"==typeof t?this.Vu=t:this.vi=t}},{key:"offset",set:function(t){switch(this.St=t,this.Eu){case 2:this.vi&&(this.vi.offset=t)}}}]),n}();n.default=h},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HashSet=n.Projection=void 0;var i=u(e(67)),r=u(e(217));function u(t){return t&&t.__esModule?t:{default:t}}n.Projection=i.default,n.HashSet=r.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AIndoorMap=void 0;var i,r=e(521),u=(i=r)&&i.__esModule?i:{default:i};n.AIndoorMap=u.default},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=p(e(522)),o=p(e(523)),a=p(e(524)),c=p(e(525)),s=p(e(528)),f=p(e(67)),h=p(e(61)),l=p(e(553)),v=p(e(193)),y=p(e(27)),d=p(e(59)),b=p(e(28)),w=p(e(223));function p(t){return t&&t.__esModule?t:{default:t}}var k=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e={center:void 0,zoom:0,skew:0,rotate:0},i={selectHighlight:!0,filter:void 0,append:!1,highlightColor:void 0},r=window.mergeOptions({saveState:!1,style:"amap://styles/normal",appKey:void 0,language:"zh_cn",maxZoom:20,minZoom:3,container:void 0,bundle:void 0,mapbox:!0,local:!1,devicePixelRatio:window.devicePixelRatio||1,mask:!0,selectOptions:i,navigateOptions:{},dataSourceOptions:{},camera:e,selectHighlight:!0,enableRotate:!0,enableSkew:!0,enableMove:!0,enableZoom:!0},t),s={resizeEnable:!0,rotateEnable:r.enableRotate,pitchEnable:r.enableSkew,dragEnable:r.enableMove,touchZoom:r.enableZoom,viewMode:"3D",container:r.container,showBuildingBlock:!1,buildingAnimation:!1,expandZoomRange:!1,showIndoorMap:!1,features:["bg","point","road"],mapStyle:r.style,lang:r.language,copyright:void 0,zoom:3,rotate:r.camera.rotate,pitch:r.camera.skew,center:r.camera.center&&n.k(r.camera.center)},f=r.container;if(!f)throw new Error("Option container is required.");var h=new w.default.Map(f,s),y=new o.default(h),d=new u.default(h),b=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,y,d,r)),p=[Math.max(3,r.minZoom),Math.min(22,r.maxZoom)];h.set("zooms",p),new c.default(h).onAdd(y),b.Zu=new a.default(h.getContainer(),h,b),b.Qu=new Set,b.addControl(new v.default({attribs:['<a href="http://www.unimap.io" target="_blank">&copy; unimap</a>']})),b.addControl(new l.default),b.Ju=h;var k=r.bundle;b.off("reSize",b.l),b.l=function(t){y.reSize(t.newsize.width,t.newsize.height),b.Zt.resize(t.newsize.width*b.gn.devicePixelRatio,t.newsize.height*b.gn.devicePixelRatio),b.m()},h.on("resize",b.l),h.on("complete",function(){h.getLayers().forEach(function(t){return t.set("zooms",p)});var t=document.getElementsByClassName("amap-overlays");[].map.call(t,function(t){return b.markerContainer=t});var n=h.map.wla();Object.keys(n).forEach(function(t){var e=n[t];(e.className.includes("amap-copyright")||e.className.includes("amap-logo"))&&e.remove()}),h.plugin(["AMap.CustomLayer"],function(){var t=y.canvas,n=new w.default.CustomLayer(t,{zooms:p});n.render=function(){b.renderOneFrame(!0)},n.setMap(h),b.Xu=function(){n.Zr=!0,h.map.displayChanged(0)}}),k&&b.addSource({id:"indoor",bundle:k}),h.on("pitch",function(){return d.update()}),h.on("rotate",function(){return d.update()}),h.on("zoom",function(){return d.update()}),h.on("zoomend",function(){return d.update()}),h.on("mapmove",function(){return d.update()}),h.on("moveend",function(){return d.update()})}),b.once("loadedBundle",function(){b.jumpTo({center:r.camera.center||b.origin,zoom:r.camera.zoom||18,rotate:r.camera.rotate||0}),setTimeout(function(){return b.enableZoom(r.enableZoom)},0)}),b.Yr.on("addAnimator",function(t){1===t.getAnimatorSize()&&b.Xu()});var m=function(){return requestAnimationFrame(function(){return b.Xu&&b.Xu()})};return b.on("changeStoreyCollection",m),b.on("changeStorey",m),b.on("loadedLoadLayer",m),b.on("loadedStoreyCollection",m),b.on("loadedStorey",m),b.qu.on("collisional",m),b}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,s.default),i(n,[{key:"zoomIn",value:function(){this.Ju.zoomIn()}},{key:"zoomOut",value:function(){this.Ju.zoomOut()}},{key:"getMaxZoom",value:function(){return this.Ju.get("zooms")[1]}},{key:"getMinZoom",value:function(){return this.Ju.get("zooms")[0]}},{key:"enableRotate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.Ju.setStatus({rotateEnable:t})}},{key:"enableSkew",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.Ju.set("pitchEnable",t)}},{key:"enableMove",value:function(t){this.Ju.setStatus({dragEnable:t})}},{key:"enableZoom",value:function(t){this.Ju.setStatus({zoomEnable:t}),this.Ju.setStatus({touchZoom:t})}},{key:"jumpTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.center,i=void 0===e?this.center:e,r=t.skew,u=void 0===r?this.skew:r,o=t.rotate,a=void 0===o?this.rotation:o,c=t.zoom,s=void 0===c?this.zooming:c,f=this.Ju.get("animateEnable");if(this.Ju.set("animateEnable",!1),i){var h=y.default.like(i);this.Ju.panTo(n.k(h))}u&&this.Ju.setPitch(u),a&&this.Ju.setRotation(a),s&&this.Ju.setZoom(s,{animate:!1}),this.Ju.set("animateEnable",f)}},{key:"moveTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.animate,r=void 0!==i&&i,u=e.duration,o=y.default.like(t),a=this.Ju.get("animateEnable");this.Ju.set("animateEnable",!1),r?this.$u.move(n.k(o),u):this.Ju.panTo(n.k(o)),this.Ju.set("animateEnable",a)}},{key:"zoomTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.animate,i=void 0===e||e,r=n.duration,u=this.Ju.get("animateEnable");this.Ju.set("animateEnable",!1),i?this.$u.zoom(t,r):this.Ju.setZoom(t,{animate:i}),this.Ju.set("animateEnable",u)}},{key:"rotateTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animate:!1};n.animate?this.$u.rotate(t,n.duration):this.Ju.setRotation(t)}},{key:"skewTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{animate:!1};n.animate?this.$u.skew(t,n.duration):this.Ju.setPitch(t)}},{key:"fitBounds",value:function(t,n){var e=b.default.like(t),i=e.minX,r=e.minY,u=e.maxX,o=e.maxY,a=f.default._3857to4326(new y.default(i,r,3857)),c=f.default._3857to4326(new y.default(u,o,3857)),s=new w.default.LngLat(a.lng,a.lat),h=new w.default.LngLat(c.lng,c.lat);this.Ju.setBounds(new w.default.Bounds(s,h))}},{key:"flyTo",value:function(t){this.jumpTo(t)}},{key:"setMaxBounds",value:function(t){if(t){var n=b.default.like(t),e=n.minX,i=n.minY,r=n.maxX,u=n.maxY,o=new y.default(e,i,3857),a=new y.default(r,u,3857);o=f.default._3857to4326(o),a=f.default._3857to4326(a);var c=new w.default.Bounds(new w.default.LngLat(o.lng,o.lat),new w.default.LngLat(a.lng,a.lat));this.Ju.setLimitBounds(c),this.Xu()}else this.Ju.clearLimitBounds()}},{key:"addControl",value:function(t){t instanceof h.default?(this.Qu.add(t),t.addTo(this.Zu)):this.Ju.addControl(t)}},{key:"removeControl",value:function(t){t instanceof h.default?(this.Qu.delete(t),t.removeFrom(this.Zu)):this.Ju.removeControl(t)}},{key:"renderOneFrame",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"renderOneFrame",this).call(this,t),this.Yr.hasAnimator()&&this.Xu()}},{key:"select",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"select",this).call(this,t,e,i);return this.Xu(),u}},{key:"highlightNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new d.default(1,1,1,1);r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"highlightNode",this).call(this,t,e,i),this.Xu()}},{key:"setNodeProperty",value:function(t,e,i){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setNodeProperty",this).call(this,t,e,i),this.Xu()}},{key:"m",value:function(){this.xn instanceof u.default&&this.xn.update()}},{key:"n",value:function(t){t?this.Ju.labelsLayer.show():this.Ju.labelsLayer.hide()}},{key:"destroy",value:function(){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),this.Ju.off("resize",this.l),delete this.Ju}},{key:"outdoorMap",get:function(){return this.Ju}},{key:"rotation",get:function(){return this.Ju.getRotation()}}],[{key:"k",value:function(t){var n=t;return 3857===t.srid&&(n=f.default._3857to4326(t)),new w.default.LngLat(n.lng,n.lat)}}]),n}();n.default=k},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],i=!0,r=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(e.push(o.value),!n||e.length!==n);i=!0);}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=s(e(223)),o=s(e(71)),a=s(e(27)),c=s(e(67));function s(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));e.Ju=t;var r=new u.default.LngLat(180,60),o=Object.keys(r).filter(function(t){return"lng"!==t&&"lat"!==t});if(r[o[0]]===r.lng){var a=i(o,2);e.no=a[0],e.eo=a[1]}else{var c=i(o,2);e.eo=c[0],e.no=c[1]}return e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"update",value:function(){var t=this.Ju,n=t.map,e=n.get("zoom"),i=t.get("size");this.aspect=i.width/i.height;var r=i.height/2*Math.pow(2,20-e),u=(56-e)*Math.PI/180,o=r/Math.tan(u/2);2400>o&&(o=2400,u=2*Math.atan(r/o)),this.fov=180*u/Math.PI,this.skewing=n.pitch,this.rotation=-n.rotation,this.Bt=i.height/256,this.zooming=e;var s=n.get("center");s=c.default._4326to3857(new a.default(s[this.no],s[this.eo])),this.center=s}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(96),u=(i=r)&&i.__esModule?i:{default:i},o=e(18);var a={alpha:!0,antialias:!0,depth:!0,stencil:!0},c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=t.getContainer(),i=document.createElement("canvas"),r=t.get("size");(0,o.addStyle)(i,{width:r.width+"px",height:r.height+"px"}),i.width=r.width*window.devicePixelRatio,i.height=r.height*window.devicePixelRatio,e.appendChild(i);var u=(0,o.getContext3D)(i,a);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,i,e,u,window.devicePixelRatio))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=e(29),u=s(e(61)),o=s(e(192)),a=s(e(194)),c=s(e(189));function s(t){return t&&t.__esModule?t:{default:t}}Object.assign(o.default.prototype,{attach:function(t){this.af=function(n,e){t.storey=e},this.on("onChange",this.af)},unAttach:function(){this.off("onChange",this.af)}}),Object.assign(a.default.prototype,{attach:function(t){var n=this;this.range({max:t.getMaxZoom(),min:t.getMinZoom()}),this.ag=function(n){n?t.zoomIn():t.zoomOut()},this.on("zoom",this.ag),this.ah=function(){n.update(t.getZoom())},t.on("zoomend",this.ah)},unAttach:function(t){this.off("zoom",this.ag),t.off("zoomend",this.ah)}}),Object.assign(c.default.prototype,{attach:function(t){var n=this;this.ai=function(){n.setRotate(t.rotation)},this.aj=function(){t.rotateTo(0,{animate:!0})},this.on("click",this.aj),t.on("rotate",this.ai)},unAttach:function(t){t.off("rotate",this.ai),this.off("click",this.aj)}});var f=function(t){function n(t,e,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r.Ju=e,r.ro=i;var o=u.default.prototype.addTo;u.default.prototype.addTo=function(t){o.call(this,t),this.attach&&this.attach(i)};var a=u.default.prototype.removeFrom;return u.default.prototype.removeFrom=function(t){a.call(this,t),this.unAttach&&this.unAttach(i)},r}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.ControlManager),i(n,[{key:"destroy",value:function(){(function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this),delete this.Ju,delete this.ro}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(526)),u=a(e(67)),o=a(e(27));function a(t){return t&&t.__esModule?t:{default:t}}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(n){c(this,t),this.Ju=n}return i(t,[{key:"on",value:function(t,n){this.Ju.on(t,n)}},{key:"off",value:function(t,n){this.Ju.off(t,n)}},{key:"destroy",value:function(){delete this.Ju}}]),t}(),f=function(t){function n(t){return c(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,new s(t)))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"onAdd",value:function(t){var n=function(t,n){return{center:{x:n.pixel&&n.pixel.x||null,y:n.pixel&&n.pixel.y||null},origin:n.originalEvent,coord:n.lnglat&&u.default._4326to3857(new o.default(n.lnglat.lng,n.lnglat.lat,3857))||null,type:t}};this.uo.on("clickend",function(){console.log("clickend")}),this.mapping("click","singletap_",t).cast(n).bind(),this.mapping("dblclick","doubletap",t).cast(n).bind(),this.mapping("movestart","moveStart",t).cast(n).bind(),this.mapping("mapmove","move",t).cast(n).bind(),this.mapping("moveend","moveEnd",t).cast(n).bind(),this.mapping("rotate","rotate",t).cast(n).bind(),this.mapping("pitch","skew",t).cast(n).bind(),this.mapping("zoomstart","zoomStart",t).cast(n).bind(),this.mapping("zoom","zoom",t).cast(n).bind(),this.mapping("zoomend","zoomEnd",t).cast(n).bind()}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(527),o=(i=u)&&i.__esModule?i:{default:i};function a(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(n,e,i,r){c(this,t),this.uo=n,this.oo=r,this.co=e,this.so=i,this.func=this.func.bind(this)}return r(t,[{key:"cast",value:function(t){return this.fo=t,this}},{key:"func",value:function(){var t;if(this.oo.listens(this.so)){for(var n=arguments.length,e=Array(n),i=0;i<n;i++)e[i]=arguments[i];var r=e;this.fo&&(r=[].concat(this.fo.apply(this,[this.so].concat(a(r))))),(t=this.oo).fire.apply(t,[this.so].concat(a(r)))}}},{key:"bind",value:function(){return this.uo.on(this.co,this.func),this}},{key:"unbind",value:function(){return this.uo.off(this.co,this.func),this}},{key:"destroy",value:function(){delete this.uo,delete this.co,delete this.so,delete this.oo,delete this.fo,delete this.func}}]),t}(),f=function(t){function n(t){c(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.uo=t,e._=new Set,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"onAdd",value:function(t){}},{key:"onRemove",value:function(t){this._.forEach(function(t){t.unbind()})}},{key:"mapping",value:function(t,n,e){var i=new s(this.uo,t,n,e);return this._.add(i),i}},{key:"destroy",value:function(){this._.forEach(function(t){t.destroy()}),this.uo.destroy(),delete this.uo}}]),n}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(12),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=A(e(138)),u=A(e(529)),o=e(180),a=A(e(225)),c=e(17),s=A(e(534)),f=A(e(537)),h=A(e(96)),l=e(18),v=A(e(27)),y=A(e(227)),d=A(e(228)),b=e(538),w=(A(b),A(e(9))),p=A(e(59)),k=A(e(220)),m=A(e(221)),g=A(e(203)),O=A(e(551)),j=A(e(102)),M=A(e(101)),_=A(e(552)),E=A(e(73)),S=A(e(97)),x=A(e(133)),T=A(e(67));A(e(28));function A(t){return t&&t.__esModule?t:{default:t}}function C(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function i(r,u){try{var o=n[r](u),a=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})}}function R(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function N(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var I=function(){function t(n){N(this,t),this.uu=n}return i(t,[{key:"move",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,e=v.default.like(t);this.uu.center.equals(e)||(this.ho=this.Q(this.uu.center.clone(),e,n,this.uu.moveTo,this.ho))}},{key:"skew",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;this.uu.skew!==t&&(this.lo=this.Q(this.uu.skew,t,n,this.uu.skewTo,this.lo))}},{key:"zoom",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;this.uu.zooming!==t&&(this.vo=this.Q(this.uu.zooming,t,n,this.uu.zoomTo,this.vo))}},{key:"rotate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;if(this.uu.rotation!==t){var e=this.R(t,this.uu.rotation);this.yo=this.Q(this.uu.rotation,e,n,this.uu.rotateTo,this.yo)}}},{key:"Q",value:function(t,n,e,i,r){var u=this;r&&r.cancel();var o=this.uu.animationManager.createAnimator(t,n,e);return o.on("update",function(t,n){return i.call(u.uu,"value"in n?n.value:n,{animate:!1})}),o.start(),o}},{key:"destroy",value:function(){this.ho&&this.ho.cancel(),this.lo&&this.lo.cancel(),this.vo&&this.vo.cancel(),this.yo&&this.yo.cancel(),delete this.ho,delete this.lo,delete this.vo,delete this.yo,delete this.uu}},{key:"S",value:function(t,n,e){var i=e-n,r=((t-n)%i+i)%i+n;return r===n?e:r}},{key:"R",value:function(t,n){t=this.S(t,-180,180);var e=Math.abs(t-n);return Math.abs(t-360-n)<e&&(t-=360),Math.abs(t+360-n)<e&&(t+=360),t}}]),t}(),F=function(){function t(n,e,i){var o=this;N(this,t),window.assert(n instanceof h.default);var c=i.saveState;e.aspect=n.width/n.height;var l=new a.default,v=new S.default(n,e,l,!!c,window.devicePixelRatio);this.tn=i,this.gn=n,this.xn=e,this.Zt=v,this.Tn=l,this.Yr=new f.default,this.qu=new s.default(e,v),this.do=new Set,this.bo=n.canvas.parentElement||n.container,this.wo=x.default.now(),this.po=this.wo,this.ko=0,this.mo=!0,this.go=null,this.Oo=new Map,this.jo=(0,r.default)(),this.Mo=new Map,this._o=(0,r.default)(),this.ir=new Map,this.Eo=void 0,this.So=new Set,this.$u=new I(this),this.l=function(t){var n=t.width,e=t.height;v.resize(n*o.gn.devicePixelRatio,e*o.gn.devicePixelRatio),o.m()},this.on("reSize",this.l),this.T=function(t){var n=t.center,e=n.x,r=n.y,u=o.select(e,r,i.selectOptions);if(t.node=u,u){var a=u.feature;a&&(t.storey=a.storeyCollection?a.storeyCollection.storeys.find(function(t){return t}):a.storey)}else{var c=o.getBundle(t.coord);c&&(t.storey=c.value)}t.type="singletap",o.fire("singletap",t)},this.on("singletap_",this.T),this.on("move",this.U,this),this.on("rotate",this.U,this),this.on("skew",this.U,this),this.on("zoom",this.U,this),i.mask&&(this.xo=new u.default(this,this.Tn,this.Zt))}return i(t,[{key:"on",value:function(t,n,e){this.gn.on(t,n,e)}},{key:"off",value:function(t,n,e){this.gn.off(t,n,e)}},{key:"fire",value:function(t){for(var n,e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(n=this.gn).fire.apply(n,[t].concat(R(i)))}},{key:"once",value:function(t,n,e){this.gn.once(t,n,e)}},{key:"cleanListens",value:function(t){this.gn.cleanListens(t)}},{key:"listens",value:function(t){return this.gn.listens(t)}},{key:"getBundle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.center,n=void 0;if("string"==typeof t){var e=this.Oo.get(t);n=e&&e.bundle}else if((0,c.isObject)(t)){var i=v.default.like(t),r=this.jo.search({minX:i.lng-2,minY:i.lat-2,maxX:i.lng+2,maxY:i.lat+2}),u=Number.MAX_VALUE;r.forEach(function(t){var e=t.maxX,r=t.maxY,o=t.minX,a=t.minY,c=t.bundle,s=new v.default(o+(e-o)/2,a+(r-a)/2,3857).distanceTo(i)||Number.MAX_VALUE;s<u&&(n=c,u=s)})}return n}},{key:"zoomIn",value:function(){}},{key:"zoomOut",value:function(){}},{key:"getMaxZoom",value:function(){return 0}},{key:"setMaxZoom",value:function(t){}},{key:"getMinZoom",value:function(){return 0}},{key:"setMinZoom",value:function(t){}},{key:"enableRotate",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"enableSkew",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}},{key:"enableMove",value:function(t){}},{key:"enableZoom",value:function(t){}},{key:"jumpTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.center,e=void 0===n?this.center:n,i=t.skew,r=void 0===i?this.skew:i,u=t.rotate,o=void 0===u?this.rotation:u,a=t.zoom,s=void 0===a?this.zooming:a;if((0,c.isObject)(e)){var f=v.default.like(e);4326===f.srid&&(f=T.default._4326to3857(f)),this.xn.center=f}r&&(this.xn.skewing=r),o&&(this.xn.rotation=o),s&&(this.xn.skewing=r)}},{key:"moveToFeature",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)this.queryFeatures({filter:function(n){return n.id===t}}).then(function(t){return t.length>0&&n.moveToFeature(t[0],e)});else{var i=t.storeyCollection,r=t.storey;if(r){var u=r.parent;u&&u instanceof d.default&&this.changeStorey(u.id,r.id),this.V(t,r.box.center,e)}else if(i&&0!==i.storeys.length){i.storeys.some(function(t){return r=t,t.default})?r&&this.V(t,r.box.center,e):this.V(t,i.storeys[0].box.center,e)}}}},{key:"V",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.moveTo(new v.default(t.position.lng+n.x,t.position.lat+n.y,3857),e)}},{key:"moveTo",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=v.default.like(t);4326===n.srid&&(n=T.default._4326to3857(n)),this.xn.center=n}},{key:"zoomTo",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xn.zooming=t}},{key:"rotateTo",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xn.rotation=t}},{key:"skewTo",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.xn.skewing=t}},{key:"fitBounds",value:function(t,n){}},{key:"flyTo",value:function(t){}},{key:"setMaxBounds",value:function(t){}},{key:"addMarker",value:function(t){if(!this.do.has(t)){this.do.add(t);var n=t.getElement();n.remove(),(0,l.addClass)(n,"marker"),this.bo.appendChild(n)}}},{key:"removeMarker",value:function(t){this.do.has(t)&&(this.do.delete(t),t.getElement().remove())}},{key:"getRenderableLayerNodebyNode",value:function(t){for(var n=t;n&&!(n instanceof E.default);)n=n.parent;return n}},{key:"getNodeTranslation",value:function(t){var n=this.getRenderableLayerNodebyNode(t),e=new w.default;if(n){var i=n.origin,r=t.translation;e.setValue(i.lng-this.origin.lng+r.x,i.lat-this.origin.lat+r.y,r.z)}return e}},{key:"toScreenCoordinate",value:function(t){var n=w.default.like(t),e=this.gn.width,i=this.gn.height;return(0,o.toScreenCoordinate)(this.xn,{width:e,height:i},n)}},{key:"toWorldCoordinate",value:function(t){var n=w.default.like(t),e=this.gn.width,i=this.gn.height;return(0,o.toCameraCoordinate)(this.xn,{width:e,height:i},n)}},{key:"toWebMercatorByScreen",value:function(t){var n=w.default.like(t),e=this.toWorldCoordinate(n);return new v.default(this.origin.lng+e.x,this.origin.lat+e.y,3857)}},{key:"toScreenByWebMercator",value:function(t){var n=v.default.like(t),e=this.origin;return this.toScreenCoordinate({x:n.lng-e.lng,y:n.lat-e.lat,z:n.altitude})}},{key:"changeStorey",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o,a,c,s,f,h,l,v,y,d=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Mo.get(n)){t.next=3;break}return t.abrupt("return");case 3:if(r=i.node,u=i.storeyCollection,o=i.dataSource,a=u.storeys,1===(c=a.filter(function(t){return t.id===e})).length){t.next=10;break}return t.abrupt("return");case 10:if(s=i.currentStorey,(f=s&&this.ir.get(s.id))&&(h=f.node,(l=h.parent)&&l.removeNode(h.id),f.layers.forEach(function(t){return t.annotationLayerNode&&d.qu.removeAnnotationLayerNode(t.annotationLayerNode)})),v=c[0],!(y=this.ir.get(v.id))){t.next=20;break}r.addNode(y.node),y.layers.forEach(function(t){return t.annotationLayerNode&&d.qu.addAnnotationLayerNode(t.annotationLayerNode)}),t.next=25;break;case 20:return t.t0=r,t.next=23,this.W(o,v);case 23:t.t1=t.sent,t.t0.addNode.call(t.t0,t.t1);case 25:i.currentStorey=v,this.fire("changeStorey",v,s),this.qu.update();case 28:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"addSource",value:function(){var t=C(regeneratorRuntime.mark(function t(n){var e,i,r,u,o,a,c,s,f,h,l,d=n.id,w=void 0===d?"indoor":d,p=n.bundle;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.assert(w,"Source id must nut be null or undefined."),window.assert(p,"Source bundle must not be null or undefined."),!this.Oo.has(w)){t.next=4;break}throw new Error("Another source with id "+w+" already exists.");case 4:return e=Object.assign({},{bundle:p,appKey:this.tn.appKey},this.tn.dataSourceOptions),i=this.Ii=new(this.tn.local?b.LocalProtobufDataSource:b.RemoteProtobufDataSource)(e),r=new O.default,t.next=9,i.queryBundle();case 9:if(u=t.sent,o=u.value,!(a=u.navigate)){t.next=18;break}return c=new m.default,s=Object.assign({dataSource:c},this.tn.navigateOptions),t.next=17,c.requestNavigate(a,i);case 17:this.To=new k.default(s);case 18:o instanceof y.default&&(f=o.box,h=f.center,this.origin=new v.default(h[0],h[1],3857),this.xn.origin=this.origin,this.Tn.box=f),l={node:r,dataSource:i,bundle:u},this.Oo.set(w,l),this.X(l,u),this.Tn.addNode(r);case 23:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"containerMap",value:function(t){var n=v.default.like(t),e=!1;function i(t,n){return t&&t.box.contains(new w.default(n.lng,n.lat))}return this.Oo.forEach(function(t){var r=t.bundle.value;if(r instanceof y.default)e=i(r,n);else if(r instanceof d.default){var u=void 0,o=r.storeys.some(function(t){return u=t,t.default});e=i(u&&!o?r.storeys[0]:u,n)}}),e}},{key:"removeSource",value:function(t){var n=this.Oo.get(t);if(n){var e=this.Tn,i=n.node,r=n.bundle;e.removeNode(i.id),this.Oo.delete(t);var u=r.value;u instanceof y.default?this.removeStorey(u.id):u instanceof d.default&&this.removeStoreyCollection(u.id)}}},{key:"removeStorey",value:function(t){var n=this,e=this.ir.get(t);e&&(e.layers.forEach(function(t){t.storeyCollections.forEach(function(t){n.removeStoreyCollection(t)})}),this.ir.delete(t))}},{key:"removeStoreyCollection",value:function(t){var n=this,e=this.Mo.get(t);e&&(e.storeyCollection.storeys.forEach(function(t){return n.removeStorey(t.id)}),this.Mo.delete(t))}},{key:"U",value:function(){var t=this;this.Ao&&clearTimeout(this.Ao),this.Ao=setTimeout(function(){return t.sortStoreyCollection()},200)}},{key:"getStoreyCollection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.center,n=v.default.like(t),e=this._o.search({minX:n.lng-2,minY:n.lat-2,maxX:n.lng+2,maxY:n.lat+2}),i=null;if(e.length>0){var r=Number.MAX_VALUE;e.forEach(function(t){var e=t.maxX,u=t.maxY,o=t.minX,a=t.minY,c=t.info,s=new v.default(o+(e-o)/2,a+(u-a)/2,3857).distanceTo(n);s<r&&(i=c,r=s)})}return i}},{key:"sortStoreyCollection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xn.center,n=void 0;if((0,c.isObject)(t)){var e=v.default.like(t||this.xn.center);n=this.getStoreyCollection(e)}else if("string"==typeof t){var i=this.getStoreyById(t);if(i){var r=i.box.center;n=this.getStoreyCollection(new v.default(r.x,r.y,3857))}}if(n!==this.Eo){var u=this.Eo;u&&(u.parentNode.visible=!0,u.node.visible=!1),this.Eo=n,n?(n.parentNode.visible=!1,n.node.visible=!0,this.fire("changeStoreyCollection",{storeyCollection:n.storeyCollection,currentStorey:n.currentStorey,node:n.node,center:n.center})):this.fire("changeStoreyCollection")}}},{key:"X",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.dataSource,r=n.node,!(e.value instanceof y.default)){t.next=11;break}return u=e.value,t.next=6,this.W(i,u);case 6:o=t.sent,r.addNode(o),this.jo.insert({minX:u.box.min.x,minY:u.box.min.y,maxX:u.box.max.x,maxY:u.box.max.y,bundle:e}),t.next=12;break;case 11:e.value,d.default;case 12:this.fire("loadedBundle",this),this.fire("loaded",this);case 14:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"W",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o,a,c,s,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=new g.default(e),r={node:i,layers:[],storey:e},u=!0,o=!1,a=void 0,t.prev=5,c=e.layers[Symbol.iterator]();case 7:if(u=(s=c.next()).done){t.next=16;break}return f=s.value,t.next=11,this.Y(f,n,i,this.qu);case 11:h=t.sent,r.layers.push(h);case 13:u=!0,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),o=!0,a=t.t0;case 22:t.prev=22,t.prev=23,!u&&c.return&&c.return();case 25:if(t.prev=25,!o){t.next=28;break}throw a;case 28:return t.finish(25);case 29:return t.finish(22);case 30:return this.ir.set(e.id,r),this.fire("loadedStorey",e),t.abrupt("return",i);case 33:case"end":return t.stop()}},t,this,[[5,18,22,30],[23,,25,29]])}));return function(n,e){return t.apply(this,arguments)}}()},{key:"Z",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e,i){var r,u,o,a,c,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new _.default,u={parentNode:e,node:r,storeyCollection:i,dataSource:n,currentStorey:null,center:new v.default(0,0)},o=i.storeys.filter(function(t){return t.default}),!(a=1===o.length?o[0]:i.storeys[0])){t.next=12;break}return t.next=7,this.W(n,a);case 7:c=t.sent,r.addNode(c),u.currentStorey=a,(s=this.ir.get(a.id))&&(f=s.layers[0])&&(u.center=f.layer.origin);case 12:return this.Mo.set(i.id,u),u.currentStorey&&this._o.insert({minX:u.currentStorey.box.min.x,minY:u.currentStorey.box.min.y,maxX:u.currentStorey.box.max.x,maxY:u.currentStorey.box.max.y,info:u}),this.fire("loadedStoreyCollection",d.default),t.abrupt("return",r);case 16:case"end":return t.stop()}},t,this)}));return function(n,e,i){return t.apply(this,arguments)}}()},{key:"Y",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e,i,r){var u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.queryLayer(n,i.storey);case 2:return u=t.sent,i.origin=new v.default(u.origin.lng,u.origin.lat,3857),t.next=6,this.$(e,i,u,r);case 6:return o=t.sent,t.abrupt("return",o);case 8:case"end":return t.stop()}},t,this)}));return function(n,e,i,r){return t.apply(this,arguments)}}()},{key:"$",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e,i,r){var u,o,a,c,s,f,h,l,v,y,d,b,w;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=i.style,o=u.createLayerNode(e,this.Zt,r),a=void 0,o.forEach(function(t){!a&&t instanceof M.default&&(a=t)}),c={node:o,layer:i,storeyCollections:[],annotationLayerNode:a},s=!0,f=!1,h=void 0,t.prev=8,l=i.features[Symbol.iterator]();case 10:if(s=(v=l.next()).done){t.next=26;break}if(y=v.value,this.fire("loadedFeature",y),!(d=u.createFeatureNode(o,y,y.style))){t.next=23;break}if(!(b=y.storeyCollection)){t.next=23;break}return c.storeyCollections.push(b.id),t.next=20,this.Z(n,d,b);case 20:(w=t.sent).visible=!1,o.addNode(w);case 23:s=!0,t.next=10;break;case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(8),f=!0,h=t.t0;case 32:t.prev=32,t.prev=33,!s&&l.return&&l.return();case 35:if(t.prev=35,!f){t.next=38;break}throw h;case 38:return t.finish(35);case 39:return t.finish(32);case 40:return this.fire("loadedLayer",i),t.abrupt("return",c);case 42:case"end":return t.stop()}},t,this,[[8,28,32,40],[33,,35,39]])}));return function(n,e,i,r){return t.apply(this,arguments)}}()},{key:"aa",value:function(){var t=C(regeneratorRuntime.mark(function t(n){var e,i,r,u,o,a,c,s,f,h,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=l.layerName,y=void 0===v?"Area":v,d=l.filter,b=void 0===d?function(){return!0}:d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],i=n.features.filter(function(t){return t.storeyCollection}),r=!0,u=!1,o=void 0,t.prev=5,a=i[Symbol.iterator]();case 7:if(r=(c=a.next()).done){t.next=17;break}if(!(s=c.value).storeyCollection){t.next=14;break}return t.next=12,this.ab(s.storeyCollection,{layerName:y,filter:b});case 12:f=t.sent,e.push.apply(e,R(f));case 14:r=!0,t.next=7;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(5),u=!0,o=t.t0;case 23:t.prev=23,t.prev=24,!r&&a.return&&a.return();case 26:if(t.prev=26,!u){t.next=29;break}throw o;case 29:return t.finish(26);case 30:return t.finish(23);case 31:if(n.name===y){t.next=33;break}return t.abrupt("return",e);case 33:return h=n.features.filter(b),e.push.apply(e,R(h)),t.abrupt("return",e);case 36:case"end":return t.stop()}},t,this,[[5,19,23,31],[24,,26,30]])}));return function(n){return t.apply(this,arguments)}}()},{key:"ac",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o,a,c,s,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=!0,u=!1,o=void 0,t.prev=4,a=n.layers[Symbol.iterator]();case 6:if(r=(c=a.next()).done){t.next=18;break}return s=c.value,t.next=10,this.Ii.queryLayer(s,n);case 10:return f=t.sent,t.next=13,this.aa(f,e);case 13:h=t.sent,i.push.apply(i,R(h));case 15:r=!0,t.next=6;break;case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(4),u=!0,o=t.t0;case 24:t.prev=24,t.prev=25,!r&&a.return&&a.return();case 27:if(t.prev=27,!u){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(24);case 32:return t.abrupt("return",i);case 33:case"end":return t.stop()}},t,this,[[4,20,24,32],[25,,27,31]])}));return function(n,e){return t.apply(this,arguments)}}()},{key:"ab",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o,a,c,s,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=!0,u=!1,o=void 0,t.prev=4,a=n.storeys[Symbol.iterator]();case 6:if(r=(c=a.next()).done){t.next=15;break}return s=c.value,t.next=10,this.ac(s,e);case 10:f=t.sent,i.push.apply(i,R(f));case 12:r=!0,t.next=6;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(4),u=!0,o=t.t0;case 21:t.prev=21,t.prev=22,!r&&a.return&&a.return();case 24:if(t.prev=24,!u){t.next=27;break}throw o;case 27:return t.finish(24);case 28:return t.finish(21);case 29:return t.abrupt("return",i);case 30:case"end":return t.stop()}},t,this,[[4,17,21,29],[22,,24,28]])}));return function(n,e){return t.apply(this,arguments)}}()},{key:"getStoreyById",value:function(t){var n=void 0,e=!0,i=!1,r=void 0;try{for(var u,o=this.Mo[Symbol.iterator]();!(e=(u=o.next()).done);e=!0){if(u.value[1].storeyCollection.storeys.some(function(e){return n=e,e.id===t}))break;n=null}}catch(t){i=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw r}}return n}},{key:"queryFeatures",value:function(){var t=C(regeneratorRuntime.mark(function t(n){var e,i,r,u,o,a,c,s,f,h,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],i=!0,r=!1,u=void 0,t.prev=4,o=this.Oo[Symbol.iterator]();case 6:if(i=(a=o.next()).done){t.next=25;break}if(c=a.value,s=c[1].bundle,!((f=s.value)instanceof y.default)){t.next=17;break}return t.next=13,this.ac(f,n);case 13:h=t.sent,e.push.apply(e,R(h)),t.next=22;break;case 17:if(!(f instanceof d.default)){t.next=22;break}return t.next=20,this.ab(f,n);case 20:l=t.sent,e.push.apply(e,R(l));case 22:i=!0,t.next=6;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(4),r=!0,u=t.t0;case 31:t.prev=31,t.prev=32,!i&&o.return&&o.return();case 34:if(t.prev=34,!r){t.next=37;break}throw u;case 37:return t.finish(34);case 38:return t.finish(31);case 39:return t.abrupt("return",e);case 40:case"end":return t.stop()}},t,this,[[4,27,31,39],[32,,34,38]])}));return function(n){return t.apply(this,arguments)}}()},{key:"queryStoreyFeatures",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],"string"!=typeof n){t.next=14;break}if(!(r=this.getStoreyById(n))){t.next=9;break}return t.next=6,this.ac(r,e);case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0=[];case 10:u=t.t0,i.push.apply(i,R(u)),t.next=19;break;case 14:if(!(n instanceof y.default)){t.next=19;break}return t.next=17,this.ac(n,e);case 17:o=t.sent,i.push.apply(i,R(o));case 19:return t.abrupt("return",i);case 20:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"queryStoreyCollectionFeatures",value:function(){var t=C(regeneratorRuntime.mark(function t(n,e){var i,r,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=[],"string"!=typeof n){t.next=10;break}if(!(r=this.Mo.get(n))){t.next=8;break}return t.next=6,this.ab(r.storeyCollection,e);case 6:u=t.sent,i.push.apply(i,R(u));case 8:t.next=15;break;case 10:if(!(n instanceof d.default)){t.next=15;break}return t.next=13,this.ab(n,e);case 13:o=t.sent,i.push.apply(i,R(o));case 15:return t.abrupt("return",i);case 16:case"end":return t.stop()}},t,this)}));return function(n,e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;this.renderOneFrame(!0),this.mo&&requestAnimationFrame(function(){return t.render()}),this.mo=!0}},{key:"stop",value:function(){this.mo=!1}},{key:"renderOneFrame",value:function(t){var n=x.default.now(),e=n-this.wo,i=this.Zt;i.begin(),t&&i.clear(),this.Tn.render(e,this.xn),i.end(),this.Yr.perform(n),this.ad(),this.wo=n,++this.ko,n-this.po>=1e3&&(this.Co=this.ko,this.ko=0,this.po=n)}},{key:"select",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.filter,r=void 0===i?function(){return!0}:i,u=e.append,o=void 0!==u&&u,a=e.highlightColor,c=e.selectHighlight,s=void 0===c||c,f=this.Zt;f.beginSelection(),this.renderOneFrame(!0);var h=f.select(t,n);f.endSelection();var l=null;if(h){if(!(l=this.Tn.findNode(h)))return null;var v=l.feature;if(v&&r&&r(v)&&l!==this.go&&s){var y=a||(l instanceof j.default?l.highlightColor:null);y&&this.highlightNode([l],!0,y),!o&&this.go&&this.highlightNode([this.go],!1)}this.go=l}return l}},{key:"highlightNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this,e=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new p.default(1,1,1,1);t.forEach(function(t){return t instanceof j.default&&(e?(t.highlightColor=i,n.So.add(t)):n.So.delete(t),t.highlight=e)})}},{key:"setNodeProperty",value:function(t,n,e){t&&n in t&&(t[n]=e)}},{key:"getNodeProperty",value:function(t,n){return t&&t[n]}},{key:"findNodes",value:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Tn).findNodes(t)}},{key:"addNode",value:function(t){this.Tn.addNode(t)}},{key:"removeNode",value:function(t){this.Tn.removeNode(t.id)}},{key:"snapshot",value:function(t){}},{key:"draw",value:function(t,n){var e=this,i=this.Zt,r=t.build(i,n);return r.forEach(function(t){t instanceof E.default&&(t.origin=e.origin)}),this.Tn.addNode(r),r}},{key:"destroy",value:function(){var t=this.gn,n=this.xn,e=t.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),this.off("reSize",this.l),this.off("singletap_",this.T),this.off("move",this.U,this),this.off("rotate",this.U,this),this.off("skew",this.U,this),this.off("zoom",this.U,this),n.destroy(),t.destroy(),this.qu.destroy(),this.$u.destroy(),this.Oo.clear(),this.Mo.clear(),this.ir.clear(),this.do.clear(),this.So.clear(),this.Ao&&clearTimeout(this.Ao),this.tn.mask&&(this.xo.destroy(),delete this.xo),delete this.Oo,delete this.Mo,delete this.ir,delete this.Eo,delete this.gn,delete this.xn,delete this.Zt,delete this.Tn,delete this.Yr,delete this.wo,delete this.po,delete this.go,delete this.tn,delete this.ko,delete this.Ii,delete this.Co,delete this.origin,delete this.Ao,delete this.do,delete this.bo,delete this.qu,delete this.So,delete this.mo,delete this.l,delete this.T,delete this.$u}},{key:"boundToZoom",value:function(t){var n=this.xn,e=this.gn,i=this.toScreenByWebMercator({x:t.minX,y:t.minY,z:0}),r=this.toScreenByWebMercator({x:t.maxX,y:t.maxY,z:0}),u=r.x>i.x?r.x-i.x:i.x-r.x,o=r.y>i.y?r.y-i.y:i.y-r.y,a=e.width/u,c=e.height/o;return Math.min(n.scaleToZoom(n.scale*Math.min(a,c)),this.getMaxZoom())}},{key:"ae",value:function(){}},{key:"m",value:function(){var t=this.xn,n=this.gn;t.aspect=n.aspect,t.zooming=100}},{key:"ad",value:function(){var t=this,n=this.xn,e=this.Zt;this.do.forEach(function(i){i.update(t,n,e)})}},{key:"bundles",get:function(){return this.Oo}},{key:"ambientLight",get:function(){return this.Tn.ambientLight}},{key:"directionLight",get:function(){return this.Tn.directionLight}},{key:"animationManager",get:function(){return this.Yr}},{key:"collisionGroup",get:function(){return this.qu}},{key:"center",get:function(){return this.xn.center}},{key:"navigateManager",get:function(){return window.assert(this.To,"this bundle is not find navigate data"),this.To}},{key:"markerContainer",set:function(t){this.bo=t}},{key:"skew",get:function(){return this.xn.skewing}},{key:"rotation",get:function(){return this.xn.rotation}},{key:"zooming",get:function(){return this.xn.zooming}},{key:"scaling",get:function(){return this.xn.zooming}},{key:"currentStoreyCollectionInfo",get:function(){return this.Eo}},{key:"storey",set:function(t){if(this.Eo){var n=this.Eo.storeyCollection;this.changeStorey(n.id,t.id)}}},{key:"highlightNodes",get:function(){return this.So}},{key:"fps",get:function(){return this.Co}}]),t}();n.default=F},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(530)),u=a(e(141)),o=a(e(27));function a(t){return t&&t.__esModule?t:{default:t}}var c=1,s=c+.1,f=function(){function t(n,e,i){var o=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.az=function(){o.aC(n)},n.on("zoomEnd",this.az),this.aA=function(t){(o.clear(),t)&&(t.node.findNodes(function(t){return t instanceof u.default}).forEach(function(n){return o.highlightNode(n,t.currentStorey)}),o.aC(n),o.Eo=t)},n.on("changeStoreyCollection",this.aA),this.aB=function(){o.Eo&&(o.Eo.node.findNodes(function(t){return t instanceof u.default}).forEach(function(t){return t instanceof u.default&&o.highlightNode(t,o.Eo.center)}),o.aC(n))},n.on("changeStorey",this.aB);var a=new r.default(i);a.renderingGroup=c,this.Ro=[],this.No=a,this.Tn=e,this.Io=n}return i(t,[{key:"highlightNode",value:function(t,n){var e=o.default.like(n),i={originRenderingGroup:t.renderingGroup,node:t,center:e};t.renderingGroup=s,this.Ro.push(i)}},{key:"resetNode",value:function(t){var n=this.Ro.filter(function(n){return n.node===t});if(1===n.length){var e=n[0];e.node.renderingGroup=e.originRenderingGroup;var i=this.Ro.indexOf(e);this.Ro.splice(i,1)}}},{key:"showMask",value:function(){this.No.parent||this.Tn.addNode(this.No)}},{key:"hideMask",value:function(){this.No.parent&&this.Tn.removeNode(this.No.id)}},{key:"clear",value:function(){this.hideMask(),this.Ro.forEach(function(t){t.node.renderingGroup=t.originRenderingGroup}),this.Ro=[]}},{key:"aC",value:function(t){t.scaling>17&&this.Ro.length?this.showMask():this.hideMask()}},{key:"destroy",value:function(){this.clear(),this.Io.off("zoomEnd",this.az),this.Io.off("changeStoreyCollection",this.aA),this.Io.off("changeStorey",this.aB),delete this.Tn,delete this.No,delete this.Ro,delete this.Eo,delete this.Io}}]),t}();n.default=f},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(e(74)),r=a(e(31)),u=a(e(531)),o=e(13);function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),i=t.createMesh(),a=i.createVertexBuffer([new r.default("position",o.MeshAttributeType.FLOAT,0,2)]),c=new u.default;i.createPart(o.VertexTopology.TRIANGLES,c.shaderLib(),c),a.data=new Float32Array([-1,-1,1,-1,1,1,-1,1]);var s=i.indexBuffer(0);return s&&(s.data=new Uint16Array([0,1,2,3,0,2])),e.addMesh(i),e.renderingGroup=1,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,i.default),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=a(e(99)),o=a(e(59));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.In=!1,t.maskColor=new o.default(0,0,0,.4),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"prepare",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Fo=e.get("maskColor")}},{key:"render",value:function(t,e,i,u){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,u),this.Fo&&this.Fo.bind(this.Do)}},{key:"shaderLib",value:function(){return"mask"}},{key:"maskColor",get:function(){return this.Do},set:function(t){this.Do=t}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(66),o=(i=u)&&i.__esModule?i:{default:i};var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"shaderLib",value:function(){return"phong_polyhedron_layer_fill"}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(66),o=(i=u)&&i.__esModule?i:{default:i};var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),r(n,[{key:"shaderLib",value:function(){return"basic_polyhedron_layer_stroke"}}]),n}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(138)),u=(c(e(31)),c(e(12))),o=(e(13),c(e(71))),a=(c(e(99)),c(e(101)));c(e(74)),c(e(40));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(t,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return window.assert(t instanceof o.default,"Camera can not be null or undefined."),i.Zt=e,i.xn=t,i.wn=[],i.Lo=(0,r.default)(),t.on("projection_changed",i.ay,i),t.on("view_changed",i.ay,i),i}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"addAnnotationLayerNode",value:function(t){window.assert(t instanceof a.default),this.wn.push(t)}},{key:"removeAnnotationLayerNode",value:function(t){for(var n=this.wn,e=n.length,i=0;i<e;++i)if(t===n[i])return void n.splice(i,1)}},{key:"collides",value:function(t,n){var e=this.Lo.collides(t);return n&&this.Po?this.Po(n,e):e}},{key:"insert",value:function(t){this.Lo.insert(t)}},{key:"update",value:function(){var t=this;this.zo&&clearTimeout(this.zo),this.zo=setTimeout(function(){t.P(),delete t.zo,t.fire("collisional")},500)}},{key:"filter",value:function(t){return this.Po=t,this}},{key:"P",value:function(){this.Lo.clear();for(var t=this.wn,n=t.length,e=this.xn,i=this.Zt.viewportSize,r=0;r<n;++r)t[r].collides(this,e,i)}},{key:"ay",value:function(){this.update()}},{key:"destroy",value:function(){var t=this;this.zo&&clearTimeout(this.zo);var e=this.xn;e.off("projection_changed",this.ay,this),e.off("view_changed",this.ay,this),this.wn.forEach(function(n){t.removeAnnotationLayerNode(n)}),this.wn.length=0,delete this.Zt,delete this.xn,delete this.wn,delete this.Lo,delete this.Go,delete this.Bo,delete this.le,delete this.Po,function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=e(28),o=(i=u)&&i.__esModule?i:{default:i};var a=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),window.assert(n),window.assert(e instanceof o.default),this.vi=n,this.Yu=e}return r(t,[{key:"rect",get:function(){return this.Yu}},{key:"texture",get:function(){return this.vi}}]),t}();n.default=a},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=e(66),a=(i=o)&&i.__esModule?i:{default:i};var c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.vi=t,e.In=!1,e.sfactor=770,e.dfactor=771,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,a.default),r(n,[{key:"prepare",value:function(t){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.Nu=e.get("viewportSize"),this.Uo=e.get("sampler")}},{key:"render",value:function(t,e,i,r){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,r);var o=this.Uo;o&&(this.vi.activate(),o.bind(0));var a=this.Nu;a&&a.bind(t.viewportSize)}},{key:"shaderLib",value:function(){return"annotation_layer"}},{key:"texture",get:function(){return this.vi},set:function(t){this.vi=t}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(132)),u=a(e(12)),o=a(e(133));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.Wo={},t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"hasAnimator",value:function(){return!!this.getAnimatorSize()}},{key:"getAnimatorSize",value:function(){return Object.keys(this.Wo).length}},{key:"addAnimator",value:function(t){window.assert(t instanceof r.default),this.Wo[t.id]||(this.Wo[t.id]=t,!t.onAdd||t.onAdd(this),this.fire("addAnimator",this,t))}},{key:"removeAnimator",value:function(t){var n=this.Wo;n[t.id]&&(delete n[t.id],!t.onRemove||t.onRemove(this))}},{key:"perform",value:function(t){var n=this,e=Object.keys(this.Wo);if(0===e.length)return!1;var i=[],r=this.Wo;return t=t||o.default.now(),e.forEach(function(e){var u=r[Number(e)];u&&u.animating&&!u.nextFrame(t)&&(i.push(u),n.removeAnimator(u))}),!0}},{key:"createAnimator",value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return new(Function.prototype.bind.apply(r.default,[null].concat([this],function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}(n))))}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LocalProtobufDataSource=n.RemoteProtobufDataSource=void 0;var i,r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},o=(i=N(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L[n.style].call(this,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)}),a=T(e(222)),c=T(e(135)),s=T(e(199)),f=e(17),h=T(e(206)),l=T(e(539)),v=T(e(227)),y=T(e(198)),d=T(e(197)),b=T(e(46)),w=T(e(95)),p=T(e(540)),k=T(e(544)),m=T(e(548)),g=T(e(549)),O=T(e(9)),j=T(e(131)),M=T(e(40)),_=T(e(59)),E=T(e(28)),S=T(e(27)),x=T(e(228));function T(t){return t&&t.__esModule?t:{default:t}}function A(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function C(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function R(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function N(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function i(r,u){try{var o=n[r](u),a=o.value}catch(t){return void e(t)}if(!o.done)return Promise.resolve(a).then(function(t){i("next",t)},function(t){i("throw",t)});t(a)}("next")})}}var I=window.devicePixelRatio||1,F={int:function(t){return t.value},int_list:function(t){return t.value},int64:function(t){return t.value},float:function(t){return t.value},float_list:function(t){return t.value},double:function(t){return t.value},double_list:function(t){return t.value},string:function(t){return t.value},string_list:function(t){return t.value},binary:function(t){return t.value},date:function(t){return t.value},time:function(t){return t.value},datetime:function(t){return t.value},vector2f:function(t){return new b.default(t.x,t.y)},vector2d:function(t){return new b.default(t.x,t.y)},vector3f:function(t){return new O.default(t.x,t.y,t.z)},vector3d:function(t){return new O.default(t.x,t.y,t.z)},vector4f:function(t){return new j.default(t.x,t.y,t.z,t.w)},vector4d:function(t){return new j.default(t.x,t.y,t.z,t.w)},color:function(t){return new _.default(t.x,t.y,t.z,t.w)}};function D(t){return t.value&&t[t.value]?F[t.value].call(this,t[t.value]):null}var L={polyhedron:function(){var t=N(regeneratorRuntime.mark(function t(n){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=W(z,n),i=n[n.style],e.meshes=i.mesh,t.abrupt("return",new p.default(e));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),multiple:function(){var t=N(regeneratorRuntime.mark(function t(n){var e,i,r,o,a,c,s,f,h,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=W(U,n),i=[],r=n[n.style].style,o=!0,a=!1,c=void 0,t.prev=6,s=r[Symbol.iterator]();case 8:if(o=(f=s.next()).done){t.next=17;break}return h=f.value,t.next=12,L[h.style].call(this,h);case 12:(l=t.sent)&&i.push(l);case 14:o=!0,t.next=8;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(6),a=!0,c=t.t0;case 23:t.prev=23,t.prev=24,!o&&s.return&&s.return();case 26:if(t.prev=26,!a){t.next=29;break}throw c;case 29:return t.finish(26);case 30:return t.finish(23);case 31:return t.abrupt("return",new g.default(u({},e,{styles:i})));case 32:case"end":return t.stop()}},t,this,[[6,19,23,31],[24,,26,30]])}));return function(n){return t.apply(this,arguments)}}(),annotation:function(){var t=N(regeneratorRuntime.mark(function t(n){var e,i,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=W(B,n),i=[],t.abrupt("return",new Promise(function(t){var o=n[n.style].texture,a=0;0!==o.length?o.forEach(function(o){for(var c=o.ratio,s=2,f=0;f<c.length;++f)c[f]>s&&c[f]<=I&&(s=c[f]);++a;var h=new Image;h.onload=function(){0===--a&&t(new m.default(u({},e,{textures:i,meshCount:n[n.style].mesh_count})))},h.crossOrigin="",h.src=r.Yo+"/"+o.image+"."+s+".png";var l=[],v=!0,y=!1,d=void 0;try{for(var b,w=o.slice[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var p=b.value;l.push(new E.default(p.x,p.y,p.width,p.height))}}catch(t){y=!0,d=t}finally{try{!v&&w.return&&w.return()}finally{if(y)throw d}}i.push({image:h,slices:l,ratio:s,meshCount:o.mesh_count})}):t(null)}));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),surface:function(){var t=N(regeneratorRuntime.mark(function t(n){var e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=W(G,n),i=n[n.style],e.meshes=i.mesh,i.texture&&(e.texture=this.Yo+"/"+i.texture),t.abrupt("return",new k.default(e));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},P={translation:F.vector3f,rotation:F.vector3f,scaling:F.vector3f},z=u({},P,{surface:{fill_color:["fillColor",F.color],stroke_color:["strokeColor",F.color],highlight_color:["highlightColor",F.color],height:F.float}}),G=u({},P,{surface:{fill_color:["fillColor",F.color],stroke_color:["strokeColor",F.color],highlight_color:["highlightColor",F.color]}}),B=u({},P),U=u({},P);function W(t,n){var e={};for(var i in t){var r=t[i],u=n[i];(0,f.isArray)(u)&&u.length>0?function(){var t=i,n=r;(0,f.isArray)(r)&&(t=r[0],n=r[1]),e[t]=u.map(function(t){return 0===n?t:n(t)})}():(0,f.isObject)(r)?Object.assign(e,W(t[i],n[n.style])):(0,f.isString)(r)&&(e[r]=u)}return e}var Y={polyhedron:function(t){return t},multiple:function(t){var n=[],e=t[t.property].style,i=!0,r=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var c=o.value,s=Y[c.property];s?n.push(s(c)):n.push(null)}}catch(t){r=!0,u=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw u}}return n},annotation:function(t){return t},surface:function(t){return t}},V=function(t){function n(t){A(this,n);var e=C(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.tn=Object.assign({},{bundle:""},t),e.er=new Map,e.Yo=e.tn.bundle,e}return R(n,s.default),r(n,[{key:"queryBundle",value:function(){var t=N(regeneratorRuntime.mark(function t(){var n,e,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ni){t.next=12;break}return t.next=3,this.request("/bundle.pbf");case 3:return n=t.sent,e=c.default.Bundle.read(new a.default(n.response)),i=null,this.Ni=new l.default(e.id,e.name,i,e.navigate),i="storey"===e.entrance?this.aw(e.storey,this.Ni):this.ax(e.storeyCollection),this.Ni.value=i,t.abrupt("return",this.Ni);case 12:return t.abrupt("return",this.Ni);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"queryLayer",value:function(){var t=N(regeneratorRuntime.mark(function t(n,e){var i,r,u,s,f,h,l,v,b,p,k,m,g,O,j,M,_,E,x,T,A,C,R,N;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.er.has(n)){t.next=37;break}return t.next=3,this.request("/"+n+".pbf");case 3:for(s in i=t.sent,r=c.default.Layer.read(new a.default(i.response)),u=new Map,r.field)f=r.field[s],u.set(f.name,new d.default(f.name,Number(s),f.type));for(h=[],l=!0,v=!1,b=void 0,t.prev=11,p=r.feature[Symbol.iterator]();!(l=(k=p.next()).done);l=!0){for(M in m=k.value,g=new S.default(m.position.x,m.position.y,3857),O=new Array(u.size),j=m.property)O[Number(M)]=D(j[M]);_=m.style,E=null,m.storeyCollection&&(E=this.ax(m.storeyCollection)),x=Y[_.property],T=null,x&&(T=x.call(this,_)),h.push(new w.default(m.id,u,g,O,T,E,e))}t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),v=!0,b=t.t0;case 19:t.prev=19,t.prev=20,!l&&p.return&&p.return();case 22:if(t.prev=22,!v){t.next=25;break}throw b;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return A=r.style,t.next=30,o.call(this,A);case 30:return C=t.sent,R=r.origin,N=new y.default(r.name,new S.default(R.x,R.y,3857),u,h,C),this.er.set(n,N),t.abrupt("return",N);case 37:return t.abrupt("return",this.er.get(n));case 38:case"end":return t.stop()}},t,this,[[11,15,19,27],[20,,22,26]])}));return function(n,e){return t.apply(this,arguments)}}()},{key:"aw",value:function(t,n){var e=t.bounds,i=e.max_x,r=e.max_y,u=e.min_x,o=e.min_y;return new v.default(t.id,t.name,t.default,t.layer,new M.default(u,o,0,i,r,0),n)}},{key:"ax",value:function(t){var n=t.id,e=t.name,i=[],r=new x.default(n,e,i),u=!0,o=!1,a=void 0;try{for(var c,s=t.storey[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=c.value;i.push(this.aw(f,r))}}catch(t){o=!0,a=t}finally{try{!u&&s.return&&s.return()}finally{if(o)throw a}}return r}},{key:"request",value:function(){var t=N(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()}]),n}();n.default=V;n.RemoteProtobufDataSource=function(t){function n(t){A(this,n);var e=C(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Object.assign({},{appKey:"",serverUrl:"https://api.unimap.io/"},t)));return e.ji={appkey:e.tn.appKey},e.Yo=e.tn.serverUrl+"map/bundle/"+e.tn.bundle,e}return R(n,V),r(n,[{key:"request",value:function(){var t=N(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.get(""+this.Yo+n,"arraybuffer",this.ji);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"requestMaps",value:function(){var t=N(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.get(this.tn.serverUrl+"map/list?app_id="+n,"json",this.ji);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()}]),n}(),n.LocalProtobufDataSource=function(t){function n(){return A(this,n),C(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return R(n,V),r(n,[{key:"request",value:function(){var t=N(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.get(this.Yo+n,"arraybuffer");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()}]),n}()},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}();var r=function(){function t(n,e,i,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.dt=n,this._t=e,this.Vo=i,this.Bi=r}return i(t,[{key:"id",get:function(){return this.dt},set:function(t){this.dt=t}},{key:"name",get:function(){return this._t},set:function(t){this._t=t}},{key:"value",get:function(){return this.Vo},set:function(t){this.Vo=t}},{key:"navigate",get:function(){return this.Bi},set:function(t){this.Bi=t}}]),t}();n.default=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(229)),u=a(e(141)),o=a(e(543));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"bb",value:function(t,n){return new u.default(t,n)}},{key:"bc",value:function(t){return new o.default(t)}}]),n}();n.default=c},function(t,n,e){"use strict"},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i},u=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=c(e(30)),a=c(e(143));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,o.default),i(n,[{key:"a$",value:function(){u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"a$",this).call(this);var t=this.gt,e=this.Hn;e&&e.setAttribute("subNodeMatrix",t)}},{key:"visible",get:function(){return u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"visible",this)},set:function(t){this.Hn&&t!==this.vt&&(this.Hn.setAttribute("visible",t?1:0),r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"visible",t,this))}},{key:"meshIndex",get:function(){return this.Ho},set:function(t){this.Ho=t}},{key:"sliceIndex",get:function(){return this.Ko},set:function(t){this.Ko=t}},{key:"parent",get:function(){return u(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",this)},set:function(t){for(r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"parent",t,this);!(t instanceof a.default);)t&&(t=t.parent);var e=t.slice(this.Ho,this.Ko);if(e){this.Hn=e,e.setAttribute("visible",this.vt?1:0);var i=this.dt;e.setAttribute("subNodeId",new Float32Array([i>>16&255,i>>8&255,255&i]));var u=this.localMatrix;e.setAttribute("subNodeMatrix",u)}}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(102),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(229)),u=a(e(545)),o=a(e(547));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),i=t.texture;return e.vi=i,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"bb",value:function(t,n){return new u.default(t,n,{texture:this.vi})}},{key:"bc",value:function(t){return new o.default(t)}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(e(31)),r=e(13),u=a(e(141)),o=a(e(546));e(224);function a(t){return t&&t.__esModule?t:{default:t}}var c=[new i.default("position",r.MeshAttributeType.FLOAT,0,3)],s=function(t){function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var r=i.texture,u=new o.default;r&&(u.texture=r);var a=Object.assign({},{fillProgramOptions:u,positionDescriptors:c},i);return function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,a))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=a(e(66)),o=a(e(137));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.In=!1,t}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),i(n,[{key:"prepare",value:function(t){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"prepare",this).call(this,t);var e=t.attributes;this.vi&&(this.wi=e.get("texture"),this.Gu=e.get("textureSize"),this.Nu=e.get("viewportSize"))}},{key:"shaderLib",value:function(){return this.vi?"surface_polyhedron_layer_texture":"surface_polyhedron_layer_fill"}},{key:"render",value:function(t,e,i,u){r(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t,e,i,u),this.Vu&&(this.vi=new o.default(t).load(this.Vu),delete this.Vu),this.vi&&(this.vi.activate(),this.wi&&this.wi.bind(0),this.vi&&this.Gu&&this.Gu.bind([this.vi.width,this.vi.height]),this.Nu&&this.Nu.bind(t.viewportSize))}},{key:"texture",set:function(t){"string"==typeof t?this.Vu=t:this.vi=t}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(102),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(t){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=c(e(144)),u=e(13),o=c(e(226)),a=c(e(101));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.Wn=t.textures,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"createLayerNode",value:function(t,n,e){var i=new a.default(n,this.Wn);return i.renderingGroup=u.AnnotationRenderingGroup,e.addAnnotationLayerNode(i),t.addNode(i),this.applyLayerStyle(i),i}},{key:"applyFeatureStyle",value:function(t,e,i){(function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"applyFeatureStyle",this).call(this,t,e,i);var r=i[i.property],u=r.icon?r.icon:null,a=r.text?r.text:null;t instanceof o.default&&(u&&t.setIconTexture(u.texture_index,u.slice_index),a&&t.setTextTexture(a.texture_index,a.slice_index))}},{key:"createFeatureNode",value:function(t,n,e){if(!e)return null;var i=new o.default;return i.feature=n,this.applyFeatureStyle(i,n,e),t.addNode(i),i.colliding=!0,i}}]),n}();n.default=s},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=a(e(144)),u=a(e(30)),o=a(e(550));function a(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.Zo=t.styles,e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"createLayerNode",value:function(t,n,e){var i=new u.default;t.addNode(i),this.applyLayerStyle(i);for(var r=this.Zo,o=0;o<r.length;++o){r[o].createLayerNode(i,n,e)}return i}},{key:"applyLayerStyle",value:function(t){(function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"applyLayerStyle",this).call(this,t);for(var e=t.children,i=this.Zo,r=0;r<i.length;++r)i[r].applyLayerStyle(e[r])}},{key:"createFeatureNode",value:function(t,n){var e=new o.default;e.parent=t;for(var i=this.Zo,r=t.children,u=0;u<i.length;++u){var a=i[u].createFeatureNode(r[u],n,n.style[u]);a&&e.addNode(a)}return e}}]),n}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=u(e(30));u(e(71)),u(e(225));function u(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"addNode",value:function(t){this.yt.push(t)}},{key:"addToRenderQueue",value:function(t,n,e){}},{key:"bf",value:function(t){for(var n=this.yt,e=n.length,i=0;i<e;++i)t(n[i])}},{key:"visible",get:function(){return function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"visible",this)},set:function(t){this.bf(function(n){return n.visible=t}),function t(n,e,i,r){var u=Object.getOwnPropertyDescriptor(n,e);if(void 0===u){var o=Object.getPrototypeOf(n);null!==o&&t(o,e,i,r)}else if("value"in u&&u.writable)u.value=i;else{var a=u.set;void 0!==a&&a.call(r,i)}return i}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"visible",t,this)}}]),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(30),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,r=e(30),u=(i=r)&&i.__esModule?i:{default:i};var o=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u.default),n}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),r=o(e(190)),u=(e(29),o(e(554)));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function n(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,{width:86.6,height:17.8,url:u.default}))}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,r.default),i(n,[{key:"onAddTo",value:function(t){var e=function t(n,e,i){null===n&&(n=Function.prototype);var r=Object.getOwnPropertyDescriptor(n,e);if(void 0===r){var u=Object.getPrototypeOf(n);return null===u?void 0:t(u,e,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onAddTo",this).call(this,t);return this.ni.target="_blank",this.ni.href="http://www.unimap.io/",e}}]),n}();n.default=a},function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAa8AAABZCAYAAAH+0JsnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3OTY3NmM1NC0yNjNhLTRiMDYtYjhkYS05NzAzMjllZjBhMmYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkVDMkFCRjBDMzhGMTFFN0FEQjQ5Q0JDNUI2NEQ1RDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkVDMkFCRUZDMzhGMTFFN0FEQjQ5Q0JDNUI2NEQ1RDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4ZmFlMTdiNy1lMzFjLTQ4NGQtYjRlZi0wMWMwZGU5ZDM4YWUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjNjMwYjVkYS0wYjU3LTExN2ItODdiOC1lYmU0ZTNlY2JlYjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DD62jAAAfA0lEQVR42mL8//8/w3AELCDCf+VnsO82RfAxIkv6rfhkAKTOw8SBfFzqUMQJ8dEBPnlCdqKDjeG8YHVM5IQGLkPJNOsHNe2BRRITPZMHDoeyE9DGC9WL1a2gmETGUM+VMVHZkfiAORYzuPCY/xTq8C9Qob8k2KVHlsfQ8w6Rek5B9bxBEv6KR4sUEludlMAG5rMYsmMMyXNiJGoVxmYOPjuA9C2oXb+xeQaGoUJc8FIRDzAjwqEvSQkMqCNA9v4mFPJYUgQLLs/DAKz6gilMAuJ5WOyYSYxDyYhwmKeEiEkV5ORrJmianI8erUiGqJJiObFJGMp+jyW2jImp84jyGJJBR7EUpXfo3Gg4Qw1DGIdrkwoggBiHfVuRmHYalD8dyM/Com4jUDwAxqdlOxFPXmsElhcN5DapMundvgTqvUKk0npYW5GFXEeSWhriMKeRyIDQJrU6IDnGkJLYeyrEWh0BLWQHILlNqptALECintPE1oPAAOCAyjERm5SB8sso9hjQQg0yGsFmUD15ROj9TmwKQGpMRCJ3NFmQFGkDLb9KRruP1EJhIhBPIqbVgm42kK8I1HMfb6sn/D9GoxJU8mCzyACP3RVA3EHNwCAwFHAPhxux12NA4AnE27FZCLTgIh6HdgL1dJCZT+eQqH4KEOeQ2gjegSValxNTIpHbCAbSqaSYCRTLJSVfD9smFUAADVuPDVfAgj4cR2y2gY2lEtvZJbFkh7ensckT0bG+AFRjSG6DiEj//yenuCGnyQyrmsluAlPQtj8L9JQJHawzANrnAbRrBy0CEKgniBpdA3xqgWb1AqkiWGaiaOCeDAAbFTWm5qA/AbCdhh3EtWiBXkiNTidaZBYj84GRdpRuEQa0nAc5NUHbisw0souRmMBDk+Mmp/hEakFNQFNTSQOv2dO1SERu2EO5f4BsBmqMLuCzB1sxhRZZE4Dy30BuITFHnsDjtzYgbqdiDtcGFol/6B5hSB5bA2QGU3NIiNhIA7LnoKkrJDJn9aEJWRDKwUT46yAWsWdAPA2o9wh4uAetFc+Cw7IXQA0SBCw7T0FghiCnMBrWa05AvA/JDpCfksnsRBaSajmhSAPKOZDdrAe1QpCa9uL4LCOnGUxEEUmL3LwfaP4NIFMDKvSCHDejuVEMqPc1seqB7K1A9d7U8hMTlvZ+CrbhOizzgCBgSWlxBtXvQsNI06RkeAZL4nxNYnPda3SkYwQDgAAajbAhBphGg2BoAdh8Omje7j0pZTwpY3u0NA8oh+J2IPgNlGcjtTVHiXvJ1UNMXYheAtIlh9FxOAoEWAfCbbTwI8hMYGbaNCBFItByBTra1U1j80/RMQH6AiONBW/HmUYANAnOSCe7SoC4lIiAP0Gm+aY4zIsBFmNLSOzSEJNjf8PCbjCsRqeVXfxEKDOncsNtMRW9IDgoWonAgPSmk1UfCLjDlgqJrh+YS2iSCIHmfhjICItGYm8ZJC3kQ0jsRjIDtQjK/I4UoW+GfD8M6LFldCwaG2hlD9C8fBz+Q96PI0wlu34OaJGIpW/VSiN7GokIDOSIJGUcE3mi0gqP+bwURJQ81H3IfclZA9FKBAFdIL4MZVcBcTWN7PkD8xvQ86AFPf54IngvOfUZUN9xNCHQ+hEPKPsTMS1iYkuAjeG86QPS6AB68go9ikagPcidZz80O+8jcW+RkPK/E7DTkwZe+YW8YmogchjGHBiQvQ8o5kTjlinygm0FJLeok2AMBymJDSg/A2h+BgEz0WecQTnzOFAfYnlBOJYZZ2AsfgD2pukZb6A+0kco25FGdoAaAt+gbPBCdGAghpEZ4ZJkaAMVYxkEEq/DoGwlYnEoKCX9pWXRCLQDWxG2kphRBizg2SDpiuBc0zEJ6KE8PCnuHBUClIUOIx+ghTNF1EwUpKxgpsUCI+QcdhKJnQu0LB2Hg6YCKeRl0DMHaz8QfTEmEggioThcQ6K1ArT0ExNS09ECTW4GjvUcWWiBkkFBgILMe03jXIZtDfx6EvQHI7HnEeGnj2gRbkurHMaA3oSktHgg0gwxGucy9Fz8mAKzksnQdohmEYYUCXwE9DFTs2ymxUJSPHbJkVAc/h9s/hldhDPEwOginCEGAAKwdzUhXQRRfP/+6UPNKKggipCIIPzo0MdFD136oITqEIb0gRlFdNBTRQcLgqIIgjA9hB0iiS6VBAZK0MG66KGPQ0qFeYgoiiIzwy/6vZxAl3mz+9//zP531n2wLOzs7sybmd/MmzfvvUkQllBCYa2bd98bol2BnybnUczjpL7rC7gmnWBG8Ul8m9ZUPm7EISf9moDlG3Ftmbm/Y+td0CZ832uyI6AMnbhtDUOOEmFeuOXqMLkTaspnQtOs/xbXc1wPULb2GUtGjwnKnXk6BFDnGxCR8sSy3qSOoSCL8nnx7FXvPeBtnkFwnVKBS3NejY5aF1SYRYgUUyI1hf87jOuhW42ESWnvbJLpv4PpRzGVNv4Y6vDrcbscErhoT82PtdNpvLvUkna5T06VuM55iogxoSpTPtO5Jt184X9kRvEiRBZ+ZPDuF8eglXim9Yi6ohn+sULaOA+Q7WuvLiqN8ww2ozPi2hhHvjT+bjTEco8zSbT2a2G+mYxKvQOQXbTfLoDJbfaUAGTLZwXApq1dBmIIsoGIAdUrr1Zu5EeH3e4OtTyNyGTqbtTq32NzrjmuAON4KQ7Z9VM3jTI83cqiw3OzyYgBcJGC4IiXmKYQ2fbjH+UWtdfiWAKMDHlEI31WiIwnLOSL0x7Wgp+aAB3+NTObkJHtFQMscGbwRyXPOJ/BlxGTIMoUyXdiLSKKWGaciX4z524VcZ640b0N/KzMoGNcw61UkkSDU1mI68VvyK9VwmcHbu9zLdJ68ERxCF5x6e3VRTOCBMZRi/gvdpuQ32WNMlc8L6RwlhaxRT4zMlU9Lbj9eKCRE1QDU195Bjpil6J9lijS1nBgwvNupFcaBn9gklnzxlrJIUb+biZ5GJV82yJeaOatCNJZxP5TR4azYzadlyQIzv/Yz/4W52dcgX9XRbB5dnKm8rE3HkUHIgcETow6aJMCBLyQuc6lACDj9p8WGirqE+Z5K3j46oNPOvX0OpMcBUMCOvxqBQ1OBCxcbJh9t4g4rBiV5uCHYxoKtygHHfOjQmT83znX4b0+C0B2VgQQKpfw8dtt86gA3i68q9012gPodUiv05GHpmjFxsntEaYCUL2mPOtz2DlTipHxTQYnNuYaZGTeJNuEzad1io/O3iIUCrrB1R+ismHQhraSKTloL0RmnEpRIq9qyHMP8/xZSJ2zHo1DARRl+0slFomLaQZAFeKk1OPMpwOKjd1sOnwtbmuZZFJ4BFUo0TbFDsnzVcjzJHi5YRXAMIsVTD/sTTL9F4OpwQANQLZcnYoOUxli5xwTIiPJ+oWOpaQ4SaNR8c1qA+CifTVu47sHeW7L8v9PHXGak4uakHYT/x+1BmACZCkOZKAP005qIi3cRTDYL6mUDbhdcKZOdo2EPCzJdwGF5XX0RnoNm0jjNuQXkIbKMK7Ic7OGdtqiEHdJuxpZw25WiyjUjl5uDIdw9THhVnp9gOtArq3eKea1zZb3QuOWs0FMOE9ylNbIpyre+C/rACZAdkYwNt/vKOmD3tE/xdUWJXHLmfJctRFkFPq0SfHKMkPgUjlPNqBcuq3hjzHPdTppaiXPmBypVEpVwbShSPI1iYNLRWXTnssnZyoSHJ1E1+MklFBMyRM/SdCbhBIyR38FYO/qY6uqofgbQ9wcG4qI3ybGwB9+69RIXowkoJJpnOJ04DQiMSFEpuwvWKaJGB3iHyBgFGMMzAQShgS2oIOoiBoj/mHURcXMqERcIiqKX0zM8+Mc05nHyz3n9r7b9rW9PcnN29retqc9v7a3PT0nACxQoEp8fwUKFCiAK1Ag66jUFmJZtvySEHOGsQ/KOJ95j7MXmBfKr2nrhibLIo8jJOw0lm1HMs5mn4mjgxi9weWo96ioHNyF5m5LN6jQi5SwLylLuO2Pd75QsRgVlI+xyM99Vo2RnMlqDQA9DrzcGco7hupQbv1SrSBAUE7TDKx1GtullOK03wcUlaPqzA2NnqLLPry18J041z0Iz6mZWRYCs8MerzAGNee/wCAvcT4p8w70B54hfosgy8o31xnAbIun4NJmbBPabLYpJsT5qEy6mxzpl8nCuOi4LGxobPF16gKB26op660G2XhZMt02x7rnaBbAhUL4i6f4mq2hrUybn66RTOecLRiYvQadZ0KC6kFoOvrnNKzycOBYCHw9qzDLDw3WfWXC9OvS+NrkqAyT2Ljs64FnDpPsIgAYmgb4x9uZS9BKaBAfB45nVH+nGqx7BxG+mwhfYEuj4z0yeOZK4GWN18vCIhrxkSnhM01FPhsN1vl0RnBnMO+da1PbC8/T3KXbRVkB19ikSxFH6H1F+dxpsM57iPBRo0lfJXyvkgBDUwZSN6J9V3/qAIA1eMZTnbhun2YmucdwnSm7G7eJ3yYi/hxL++D5LIHrPCbuZw8HjddTvr/B4JLwXmYW2CV+P2Pev9/C9v8oM+CCzvkSfnYyHeTb+de1KYTd9GxAGbT5tOR/yqjR0xa2f01mwCUAxtmVaAGhOtMndAE/D5f56gdE+HYNdeSWr7OIJWJUPuMsa/58psAlaBIT942jPLUR4Y+WIex4vjORGJxu1VD3zcxgeKDkf87ojG0aG62ZAxd00CFmGZIrtlbrEE+bGH6uTpgdNTv9pKn61GxELdMp459NFq0YuKOQEZ9nLhRGzl55Psbhma1EuT59O6lsEOGNGoSwMelsDH23iMnvGguAhY4/OJ8D7V6DSxB3/2jQwQGDOpPCs7xaScFoZ/LX4Xf6Naa8cpx+DFQQVG3w4JncAS5dX2v9MU4AfXWWNwKN8Rj8+RDRWEOQZqpjbOEN2ChFW/SOKDMbUw4qdG11U7YNl8W8h448VkeE1ykEiw6rTCt839AoBhjuplEn6VOggWc6xtJlRPiFab4ToJ1U6yuOGg6lynskpt/WMPk+YWnf/IbGdDMDLonl4auODRbDjNDF3QCgVKZ2aKouNTsVJN+nfMktsbBrfgdgRXrN9N3FKxp+WcgI5feOsTSfCF/M8DiGWVLdrGHWmpB0IyOCWpj8T7GoP1YAsMZTkVlw74rGVygVqEnQWfMc4mU9I3TU1XhKVepXoeWtmjjH5L2SfO5kot+woCuWCb8HS7lEY3MZIGiEE5mP2PUQ16NJ0HQQXsuPOj9Cq0pRlwCnE/lcoal+V2reSFDhvPBNyXTo/wB3UnGHuQ9k5MckhdgErsOa82/GBmLW+Cc4MlC0MP6fJxYLAPy/lMlnSMOS0IixG/Szhq6gUrThdBP1LF0W/lBBuTmoWSj7c/Q5RW0KXb1KEDWCll7bX570Gy0l9Rri/0UXOqkUXHsrWBft/pIBYJxGOOrq1TgCLkr74eyi0b2RaYfVmupVbYj/KrFR4xS4+jRP51OY6O2GeJ7GxC1xAVkAjv1MG4+6pX036YZDyr59wXAzbLS9n0q/uTbkiFuW0HhroVPbU5a3jRGYQUOCuRd4wctul+TcJrSMFGWG+i7gD/UrjyPem6WpPvOZuDSDdjMRjpaY5joDrr7W+kLzZtIGPipVlg0uYY3pAhuYBoBdqkkFxiQPzzE23ikt9yMa3KrGrUjQSX1XirzRAcTjRNzFpgZlFctCpC0Mo2k2Hf5g4jorwPvUnPvUT4RTO59XaarHHmYQ6Eo5iHQz0btd+ubC2esOJv1k9KSe5GMS0o4Xs0Q104DGdcagzM9zjqlARdAtCXn+RFM9KPuHBUX5HyXCT3YKXIK4LVVUpfkLAHMInrujrnLjNQh4FsODVwvifC11Vop5ELbrHV8a4qAla75by2YN9PGDTHSbomJuZ8rvdApcMHvhNea4tTleF8fzhoLwWfT/g2t7eFbl4g+pD1di1iqdjR2fvS6XBOKTmsp/iimzV9Egwvn06nZt5kKA6T6z+Bsa7SQLRn9U3u1xePb6QiLZW5pmLe5c8GvFxQ0x9ah3ClwCYKir9qeGcodBKKotEtB5js9eD8TEz9BULjejqN7yv4GJG3AOXELwjoefLoVl3gh5nmVhW9S5iixoz7XcZgDEFzQVPZOp0z7FPO5novNOgksw1i3crtxXZjm423OdUNN/xVIBPWLz+l2CdhHh0zQtCTnDpLr6+CWmPk22dUgV5438vwRVVRQzuA2KJ+R4doLXyPH7CS8n4gHmx/C8B88mtGeRCxTIU+LwEwuuQIECaVwWBgoUKIArUCBr6F8B2rsaIK2qMnwYFdJxzRqJaiwWUYTSUInUJn8SFTKbjYZYwyD/Bk1KKUoFKczGofxp6I/GwGJU1I0yMZphE2eXsPgJ/8gwS0tBWYLVoFUUV9yeh+9sQ8j37fe+997vnnP3fWbO3GX43nPvPe8573vuOe95H5sWGgwGg8FmhgaDwWAwZI2K4bUNTR3kYu8nqO8VH7EXFDz93QECke14j38nvKe07Tor5dbNqd3YZlLqwK14j1dSuHfN+57int3owr2fK4JBQBsw0/+hSvE2tMPOQN/r3U6XKYdxTm0Bvo+2r6aF7px9LyeJA0uy8rd/BcfFDrxJUWefwJR8nCvPWVoONET1CQ3AJoXc07gc3wPdYi3B4NJZQhkmzvh0Qp3VvO8luGe3/J3Q28TIHdcHcElyspbpxaYG+F4MKbsrgfwl0O1tAb1Por6awfNU+u+nXCl1ALMat3qugVRgy4Zh4UiUDnSGs60pogMzcH0r1ofHszNO+E9FUwrea6BLnpJvfg/UvYbyYLuRGIfEmN2H7Hei3NwDgYs5r0jRDMUutGaIDt+E3r4QoYHfz69OHFQkZfi8Wq0undWgVp8t0pAcfVGmoWxraOroQpmDIm5bc17hYgIGS7tfqzfEgwXQ2amRPTOXdQYWUBdMqVWfUl0ch7+w7p0JmFOuEw7slyhVTzTMeYUNHgFvgzG8yJoiLmcAndXH8KB4TlKYnlo0BeC9SLBwfsrVjkW9X7XunRnI9LkLDuykan5sn8Fx4DZmPcZ1VBYEC4bUsXsZDjo7PI3IywwN/ExcLiig4zoGl59kVP0tqH8F9Brj/uDxKdZ1sJ9cMxp5sK+beZaSZtfjl9dKOLBJixvr7jDnVQycjrKD0ZMYOH+15ggejAhbywi+EHnu8VykPvt2AR0Xj3dkTYzzAEPVY0t6h+d9rIZ6YPDZrShnKKu4HQ7sWTiwFeV+YMuGcYHnOp5Ex7jOmiIKDEX5bYAGnjPkuwva5vei9Bf8nisZZFJ/USDDKLkl1r0rOsqnUUb5VNPztA6s0n+a84oTs2CA1vdAQ2IIA5+Ann4ckOPi4daHitjQeDeS1J0rFJsEA7uR4kK5M2I+GlFjRzbZlXjBpajH11eDOa/iYZgrLSOeZk0RPC6HnqYFYNz55f64k2WbicVxkQ1HSrbJg+ULvYH9Iy43COV5NOJM695VOTBO4FYqREeb84oD0hkxP8l5/mS+NV3w4KHMsTk/A41H/6I1LNqVQQJLhWKb3V7BKjCwDGB5WFjPEp/xwtAz7lNO0s15RTA7OQWXyxSiF2MAbfbsaoZwcS90NDwnA7/IpRttFhJI8HuwUOacMqmKuOwoiejl1+wy69pVYYtCps6cVzwOjBE6JJiWJgYegMJDzROsFWuK24W/Xw0d1fTrB/fjcto4gQiN988j+eoiL/MpQrEZGGePlhl//CK7UFjfCDzHHBsKPWJwmg7PnFeYDuwFlHe6CoTcFbAQA2kpSh9ryZroiumgVgtn6o9BP31rZNy5WX61UIz7OBsicFwkpZ8uFFsOnc3uQaeckNwjrPdKPM84GxEVoTk0/og5rzgN42dx+ZRClJucHf6shSF7MEPFZsHv3+tqEPEH/Y9ypbM2ElyKftcSgeM6zMn3UEjX0lDlbyehSCl2mjz9kuGt+mLAxiCF6K/NecXrwHiehOdKpHxR3MT+uw8fNmSro9dxOQGlUyA2Erq5J0NjcQQuDwjFvod3+Wkkzc6DyNKoyfF4v+1V6pS6lIbP704EbKse/9cP61AY4Xq5Qrx5cWPdw+a84jaO/0GpdyW+JCm+g85Ts2WqXqyjNifPEdjo92zSNhgMXuCejsSI3o93mBZDW/tZ/LFCsbl4v/uFOl2Fy/XC+3C142e93GEdgnINCom+WD6kqOY1lIr795YeKi4DORUdgqR6PJOyn0CUEW6v8iyMH5CGbPSzCm3M5SZJEMd0yPwDsvNTMhx0WJytHiIQW+8SEojW0DB+TjGLfwbtO0WpUyYEGONKefuqxQWQeSgkAkvfdmkGlXBlh0u3h3uHneZxATIzH4uvrpfMeRXLQK5BJzwQf65BOU64pLGSs1bU8SVrycz0cwfaeAj+nCkQm+cdWBo5+Rg2PkTwe86MTwwx/+I+jK+WWHJMwltz33mTcMI43zuwpwJqwisjGEJkkx8Ox7WjGoNmiM9AdqLwzM5VCvEpGFQb7WBlpvr5Bi5NQrFl0MngJPeF/FxXISPBPkCHdQKe9+UIHJeWWHIK8+wl1CfDtTUko0ZgWT24x3gunNZR1Tguc17xG8mb/Ce7lHZj9zmyADI+FFk3zNouyeJNo0walTqlced+1ReFYjyo+0wkTaohluQ+3tyU9MkvvruEYkZg2TOeQBkGh9UXRZTE2pxX/EaSxocG73cKcWZ8uM9aMTOcjNIu+D31+Ij/ypA4LoZ/3yx8tivQd5bG0IhKYkkuhzam/Cjcz5RmiTACy7d+YZGn60hmnIfD4t6WiuLJPmmL4cC4/DMag4QD/E6heIOPCjoG9Wyw1kxVL6+hbbm8+6yrfr+EX9LNKGdVadgZdSedgPwAz/bDSByXllhyBspQyKf9SKxXGlwTM4GlFnTyPMtIPq4H8e5/TvsGvcF5ac5cdMb4olzawCDhFxg7ygDhjP85yE5FHd93hjR18rw/LNwqEDsTMrdC9tIeDDtzWa4RPlIz6o1h4z4pseSPAnud3AksPbdWYVB2eQKfctuUHS60rNXvUci0x6pQdNCtKFxrX6AQnwP9rbZN5tR1shyXS4Rik3lWpsI4o454+FPC6cbAhXMiajopsWTIMALLWjkvj3WKOkcG9o4nKmSeKIDBZHJRDQU3z7O86pe7DOnpg2d+bhSKzYYexpf5PzpESSoiBvWMwHO8GUN7KYklQ4cRWNbQea1Q1Hl+YO94oUKmEEyzPkcdDxNKz5pwVs+EmFNtiKSqDxpk6f4U8+WN2MuwM/Luo9JJJTO1ROK4NMSSscAILGvkvDR5ziZAOSMDGQRfx+V9QjGmJVlYFAXDYO1AGYo/NWmI3m5DJHV9jFV82fNw+QDfp2fhMlE6FHDfJyNxXBpiydhgBJYpoOLexuLGunUNTR3MByZNUNkC5dRjwLTnOAh4qv5GhehsPPcbBTSa1/pEsGtRLM9hvjgJ5XlXfUodBi6sg/6uxfU64b2+Bt3/JqK20RBLMmn1oLyyhEAvnBgMFYh0E1h+2IZCdl9eBDeadwnr5expC5T6sZw609V+EEjBFD3XF1XZPlz1IFfKjWjITw/cf2IWeomxfRfKPOGtGLF4SyztoiSWJEbnnN5qjFCXhBFYZu288PVFTpvTFHUzLHMFFLQBZViNOj/PLDG1iGa9nMuFHym6wkl9jsI9hSnW/XPVwz9xOTvDW7TgHpdF5Lg0xJLEFXnnD8T9+eU3WSFqBJYZf3nRgf3B6SLXCO45rYeSulC49HEeSr+UOnx/FGblbmf9rrQZfqCiKp69OAKd8MVeZDyZNodporbbMMhNB8symkTQmJ4VSzsoiSWJJaEctvasAIsUokZgqUTV53ngwFoamjq4afwXV0qFrwGzAdztO+zezoPZHdq8Me1wpaXKft4ZccmEZ5cGuvRTWnEP6OQi7nNVMeBewOVQ6ILnaSzPYU6TCLT/US69yE6OJSbb3RVRM2iIJWlAxgf2Hoy0/rjQPnYTWA6JIbN/dF9eeziwLSg8NHhVys9BB3U0yumuRNP9eVfK4nye/zdzxA1K2XExi8YYdJiRvdFx7WVAP2POK9f2/4rT7dHuC5yIvRTRV5eGWJJoyDNbRRk90qZ8UiHa6wksM3deezixm1C4p3VDhO+805XowPuiNFsX+N/A47INo982WmvkAhq9vyWsYxz0+HhEjktDLEkwIrg10HHEdF0zFaIksLzYhkHGzmsPJzbT58ti5NT6wN+VCWsPw/O+DWWRqX6fA287yvtdeHnhekPbc8mIodMdyiqmo45fReS4tMSSa/GeMwLXJSf1v1eIksDyaBsNNXBeeyjrUZQPekfGZcXvouRNcMc8bsyucQCfC2VibwrISKjPL7vSUu2b1ho1bXc6Ls0B/wWQjSYjRQJiyTecblkuD3C743WFnBFYVon9MxiAPJh8jS/dnZXRNAwLJssrz36lFV1D40oumAddic+qxZ+hyRsMOrnIyTJUbA3MkK6C3rgXyczmEvrzVZG2XxA6Y9g32n24qz66t8PnTUwb5FySJueullPuHSga9oLlntU4honINp9pSBOlTbaAfxXZvqSBPl1dFuBiMBgMhrhgTMoGg8FgMOdlMBgMBkPW+C/do5dpSHffUwAAAABJRU5ErkJggg=="}]);
//# sourceMappingURL=mapcube.js.map